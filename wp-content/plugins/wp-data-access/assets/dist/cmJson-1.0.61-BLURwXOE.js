var Tc=Object.defineProperty;var Nc=(t,e,n)=>e in t?Tc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var k=(t,e,n)=>Nc(t,typeof e!="symbol"?e+"":e,n);import{P as Bc,N as Rc,a as Lc,D as Mc,b as Ei,T as ir,I as jc,s as Wr,S as Uc,c as zc,d as qc,t as Xe,L as Gc,e as Vc,i as Kc,f as Wc,g as ao,h as Jc,k as Hc,l as co,m as Qc}from"./cm-1.0.61-D9ug3d5m.js";import{l as Ku}from"./lib-1.0.61-DoXQcMHD.js";import{g as Pn}from"./vendor-1.0.61-CN03Eozo.js";import{i as Wu,s as Ju,f as Yc,a as Zc,b as Xc,z as ef,h as tf,j as nf}from"./rehyperaw-1.0.61-AkovKNCK.js";import{w as Ci}from"./markdown-1.0.61-6nAzZWly.js";const rf="modulepreload",sf=function(t,e){return new URL(t,e).href},fo={},bs=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),l=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=sf(a,r),a in fo)return;fo[a]=!0;const f=a.endsWith(".css"),c=f?'[rel="stylesheet"]':"";if(!!r)for(let p=o.length-1;p>=0;p--){const g=o[p];if(g.href===a&&(!f||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${c}`))return;const d=document.createElement("link");if(d.rel=f?"stylesheet":rf,f||(d.as="script"),d.crossOrigin="",d.href=a,l&&d.setAttribute("nonce",l),document.head.appendChild(d),f)return new Promise((p,g)=>{d.addEventListener("load",p),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return s.then(o=>{for(const u of o||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})};var ho={};class br{constructor(e,n,r,s,i,o,u,l,a,f=0,c){this.p=e,this.stack=n,this.state=r,this.reducePos=s,this.pos=i,this.score=o,this.buffer=u,this.bufferBase=l,this.curContext=a,this.lookAhead=f,this.parent=c}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let s=e.parser.context;return new br(e,[],n,r,r,0,[],0,s?new po(s,s.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,s=e&65535,{parser:i}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let u=i.dynamicPrecedence(s);if(u&&(this.score+=u),r==0){this.pushState(i.getGoto(this.state,s,!0),this.reducePos),s<i.minRepeatTerm&&this.storeNode(s,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(s,this.reducePos);return}let l=this.stack.length-(r-1)*3-(e&262144?6:0),a=l?this.stack[l-2]:this.p.ranges[0].from,f=this.reducePos-a;f>=2e3&&!(!((n=this.p.parser.nodeSet.types[s])===null||n===void 0)&&n.isAnonymous)&&(a==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=f):this.p.lastBigReductionSize<f&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=a,this.p.lastBigReductionSize=f));let c=l?this.stack[l-1]:0,h=this.bufferBase+this.buffer.length-c;if(s<i.minRepeatTerm||e&131072){let d=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(s,a,d,h+4,!0)}if(e&262144)this.state=this.stack[l];else{let d=this.stack[l-3];this.state=i.getGoto(d,s,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(s,a)}storeNode(e,n,r,s=4,i=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,u=this.buffer.length;if(u==0&&o.parent&&(u=o.bufferBase-o.parent.bufferBase,o=o.parent),u>0&&o.buffer[u-4]==0&&o.buffer[u-1]>-1){if(n==r)return;if(o.buffer[u-2]>=n){o.buffer[u-2]=r;return}}}if(!i||this.pos==r)this.buffer.push(e,n,r,s);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0){let u=!1;for(let l=o;l>0&&this.buffer[l-2]>r;l-=4)if(this.buffer[l-1]>=0){u=!0;break}if(u)for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,s>4&&(s-=4)}this.buffer[o]=e,this.buffer[o+1]=n,this.buffer[o+2]=r,this.buffer[o+3]=s}}shift(e,n,r,s){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=s,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,s,4);else{let i=e,{parser:o}=this.p;(s>this.pos||n<=o.maxNode)&&(this.pos=s,o.stateFlag(i,1)||(this.reducePos=s)),this.pushState(i,r),this.shiftContext(n,r),n<=o.maxNode&&this.buffer.push(n,r,s,4)}}apply(e,n,r,s){e&65536?this.reduce(e):this.shift(e,n,r,s)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let s=this.pos;this.reducePos=this.pos=s+e.length,this.pushState(n,s),this.buffer.push(r,s,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),s=e.bufferBase+n;for(;e&&s==e.bufferBase;)e=e.parent;return new br(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,s,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new of(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if(!(r&65536))return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let s=[];for(let i=0,o;i<n.length;i+=2)(o=n[i+1])!=this.state&&this.p.parser.hasAction(o,e)&&s.push(n[i],o);if(this.stack.length<120)for(let i=0;s.length<8&&i<n.length;i+=2){let o=n[i+1];s.some((u,l)=>l&1&&u==o)||s.push(n[i],o)}n=s}let r=[];for(let s=0;s<n.length&&r.length<4;s+=2){let i=n[s+1];if(i==this.state)continue;let o=this.split();o.pushState(i,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(n[s],this.pos),o.reducePos=this.pos,o.score-=200,r.push(o)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if(!(n&65536))return!1;if(!e.validAction(this.state,n)){let r=n>>19,s=n&65535,i=this.stack.length-r*3;if(i<0||e.getGoto(this.stack[i],s,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;n=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(s,i)=>{if(!n.includes(s))return n.push(s),e.allActions(s,o=>{if(!(o&393216))if(o&65536){let u=(o>>19)-i;if(u>1){let l=o&65535,a=this.stack.length-u*3;if(a>=0&&e.getGoto(this.stack[a],l,!1)>=0)return u<<19|65536|l}}else{let u=r(o,i+1);if(u!=null)return u}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new po(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class po{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class of{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let s=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=s}}class Dr{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new Dr(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Dr(this.stack,this.pos,this.index)}}function on(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,s=0;r<t.length;){let i=0;for(;;){let o=t.charCodeAt(r++),u=!1;if(o==126){i=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,u=!0),i+=l,u)break;i*=46}n?n[s++]=i:n=new e(i)}return n}class or{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const mo=new or;class uf{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=mo,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,s=this.rangeIndex,i=this.pos+e;for(;i<r.from;){if(!s)return null;let o=this.ranges[--s];i-=r.from-o.to,r=o}for(;n<0?i>r.to:i>=r.to;){if(s==this.ranges.length-1)return null;let o=this.ranges[++s];i+=o.from-r.to,r=o}return i}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,s;if(n>=0&&n<this.chunk.length)r=this.pos+e,s=this.chunk.charCodeAt(n);else{let i=this.resolveOffset(e,1);if(i==null)return-1;if(r=i,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)s=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let o=this.rangeIndex,u=this.range;for(;u.to<=r;)u=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>u.to&&(this.chunk2=this.chunk2.slice(0,u.to-r)),s=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),s}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=mo,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let s of this.ranges){if(s.from>=n)break;s.to>e&&(r+=this.input.read(Math.max(s.from,e),Math.min(s.to,n)))}return r}}class $t{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;Hu(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}$t.prototype.contextual=$t.prototype.fallback=$t.prototype.extend=!1;class lf{constructor(e,n,r){this.precTable=n,this.elseToken=r,this.data=typeof e=="string"?on(e):e}token(e,n){let r=e.pos,s=0;for(;;){let i=e.next<0,o=e.resolveOffset(1,1);if(Hu(this.data,e,n,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(i||s++,o==null)break;e.reset(o,e.token)}s&&(e.reset(r,e.token),e.acceptToken(this.elseToken,s))}}lf.prototype.contextual=$t.prototype.fallback=$t.prototype.extend=!1;class oD{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function Hu(t,e,n,r,s,i){let o=0,u=1<<r,{dialect:l}=n.p.parser;e:for(;u&t[o];){let a=t[o+1];for(let d=o+3;d<a;d+=2)if((t[d+1]&u)>0){let p=t[d];if(l.allows(p)&&(e.token.value==-1||e.token.value==p||af(p,e.token.value,s,i))){e.acceptToken(p);break}}let f=e.next,c=0,h=t[o+2];if(e.next<0&&h>c&&t[a+h*3-3]==65535){o=t[a+h*3-1];continue e}for(;c<h;){let d=c+h>>1,p=a+d+(d<<1),g=t[p],y=t[p+1]||65536;if(f<g)h=d;else if(f>=y)c=d+1;else{o=t[p+2],e.advance();continue e}}break}}function go(t,e,n){for(let r=e,s;(s=t[r])!=65535;r++)if(s==n)return r-e;return-1}function af(t,e,n,r){let s=go(n,r,e);return s<0||go(n,r,t)<s}const De=typeof process<"u"&&ho&&/\bparse\b/.test(ho.LOG);let Ds=null;function yo(t,e,n){let r=t.cursor(jc.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class cf{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?yo(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?yo(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],s=this.index[n];if(s==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let i=r.children[s],o=this.start[n]+r.positions[s];if(o>e)return this.nextStart=o,null;if(i instanceof ir){if(o==e){if(o<this.safeFrom)return null;let u=o+i.length;if(u<=this.safeTo){let l=i.prop(Ei.lookAhead);if(!l||u+l<this.fragment.to)return i}}this.index[n]++,o+i.length>=Math.max(this.safeFrom,e)&&(this.trees.push(i),this.start.push(o),this.index.push(0))}else this.index[n]++,this.nextStart=o+i.length}}}class ff{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new or)}getActions(e){let n=0,r=null,{parser:s}=e.p,{tokenizers:i}=s,o=s.stateSlot(e.state,3),u=e.curContext?e.curContext.hash:0,l=0;for(let a=0;a<i.length;a++){if(!(1<<a&o))continue;let f=i[a],c=this.tokens[a];if(!(r&&!f.fallback)&&((f.contextual||c.start!=e.pos||c.mask!=o||c.context!=u)&&(this.updateCachedToken(c,f,e),c.mask=o,c.context=u),c.lookAhead>c.end+25&&(l=Math.max(c.lookAhead,l)),c.value!=0)){let h=n;if(c.extended>-1&&(n=this.addActions(e,c.extended,c.end,n)),n=this.addActions(e,c.value,c.end,n),!f.extend&&(r=c,n>h))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new or,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new or,{pos:r,p:s}=e;return n.start=r,n.end=Math.min(r+1,s.stream.end),n.value=r==s.stream.end?s.parser.eofTerm:0,n}updateCachedToken(e,n,r){let s=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(s,e),r),e.value>-1){let{parser:i}=r.p;for(let o=0;o<i.specialized.length;o++)if(i.specialized[o]==e.value){let u=i.specializers[o](this.stream.read(e.start,e.end),r);if(u>=0&&r.p.parser.dialect.allows(u>>1)){u&1?e.extended=u>>1:e.value=u>>1;break}}}else e.value=0,e.end=this.stream.clipPos(s+1)}putAction(e,n,r,s){for(let i=0;i<s;i+=3)if(this.actions[i]==e)return s;return this.actions[s++]=e,this.actions[s++]=n,this.actions[s++]=r,s}addActions(e,n,r,s){let{state:i}=e,{parser:o}=e.p,{data:u}=o;for(let l=0;l<2;l++)for(let a=o.stateSlot(i,l?2:1);;a+=3){if(u[a]==65535)if(u[a+1]==1)a=Ge(u,a+2);else{s==0&&u[a+1]==2&&(s=this.putAction(Ge(u,a+2),n,r,s));break}u[a]==n&&(s=this.putAction(Ge(u,a+1),n,r,s))}return s}}class hf{constructor(e,n,r,s){this.parser=e,this.input=n,this.ranges=s,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new uf(n,s),this.tokens=new ff(e,this.stream),this.topTerm=e.top[1];let{from:i}=s[0];this.stacks=[br.start(this,e.top[0],i)],this.fragments=r.length&&this.stream.end-i>e.bufferLength*4?new cf(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],s,i;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let u=e[o];for(;;){if(this.tokens.mainToken=null,u.pos>n)r.push(u);else{if(this.advanceStack(u,r,e))continue;{s||(s=[],i=[]),s.push(u);let l=this.tokens.getMainToken(u);i.push(l.value,l.end)}}break}}if(!r.length){let o=s&&pf(s);if(o)return De&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw De&&s&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&s){let o=this.stoppedAt!=null&&s[0].pos>this.stoppedAt?s[0]:this.runRecovery(s,i,r);if(o)return De&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(r.length>o)for(r.sort((u,l)=>l.score-u.score);r.length>o;)r.pop();r.some(u=>u.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let o=0;o<r.length-1;o++){let u=r[o];for(let l=o+1;l<r.length;l++){let a=r[l];if(u.sameState(a)||u.buffer.length>500&&a.buffer.length>500)if((u.score-a.score||u.buffer.length-a.buffer.length)>0)r.splice(l--,1);else{r.splice(o--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let o=1;o<r.length;o++)r[o].pos<this.minStackPos&&(this.minStackPos=r[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let s=e.pos,{parser:i}=this,o=De?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&s>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let a=e.curContext&&e.curContext.tracker.strict,f=a?e.curContext.hash:0;for(let c=this.fragments.nodeAt(s);c;){let h=this.parser.nodeSet.types[c.type.id]==c.type?i.getGoto(e.state,c.type.id):-1;if(h>-1&&c.length&&(!a||(c.prop(Ei.contextHash)||0)==f))return e.useNode(c,h),De&&console.log(o+this.stackID(e)+` (via reuse of ${i.getName(c.type.id)})`),!0;if(!(c instanceof ir)||c.children.length==0||c.positions[0]>0)break;let d=c.children[0];if(d instanceof ir&&c.positions[0]==0)c=d;else break}}let u=i.stateSlot(e.state,4);if(u>0)return e.reduce(u),De&&console.log(o+this.stackID(e)+` (via always-reduce ${i.getName(u&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let a=0;a<l.length;){let f=l[a++],c=l[a++],h=l[a++],d=a==l.length||!r,p=d?e:e.split(),g=this.tokens.mainToken;if(p.apply(f,c,g?g.start:p.pos,h),De&&console.log(o+this.stackID(p)+` (via ${f&65536?`reduce of ${i.getName(f&65535)}`:"shift"} for ${i.getName(c)} @ ${s}${p==e?"":", split"})`),d)return!0;p.pos>s?n.push(p):r.push(p)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return bo(e,n),!0}}runRecovery(e,n,r){let s=null,i=!1;for(let o=0;o<e.length;o++){let u=e[o],l=n[o<<1],a=n[(o<<1)+1],f=De?this.stackID(u)+" -> ":"";if(u.deadEnd&&(i||(i=!0,u.restart(),De&&console.log(f+this.stackID(u)+" (restarted)"),this.advanceFully(u,r))))continue;let c=u.split(),h=f;for(let d=0;c.forceReduce()&&d<10&&(De&&console.log(h+this.stackID(c)+" (via force-reduce)"),!this.advanceFully(c,r));d++)De&&(h=this.stackID(c)+" -> ");for(let d of u.recoverByInsert(l))De&&console.log(f+this.stackID(d)+" (via recover-insert)"),this.advanceFully(d,r);this.stream.end>u.pos?(a==u.pos&&(a++,l=0),u.recoverByDelete(l,a),De&&console.log(f+this.stackID(u)+` (via recover-delete ${this.parser.getName(l)})`),bo(u,r)):(!s||s.score<u.score)&&(s=u)}return s}stackToTree(e){return e.close(),ir.build({buffer:Dr.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(Ds||(Ds=new WeakMap)).get(e);return n||Ds.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function bo(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class df{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const _s=t=>t;class uD{constructor(e){this.start=e.start,this.shift=e.shift||_s,this.reduce=e.reduce||_s,this.reuse=e.reuse||_s,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class _r extends Bc{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let u=0;u<e.repeatNodeCount;u++)n.push("");let r=Object.keys(e.topRules).map(u=>e.topRules[u][1]),s=[];for(let u=0;u<n.length;u++)s.push([]);function i(u,l,a){s[u].push([l,l.deserialize(String(a))])}if(e.nodeProps)for(let u of e.nodeProps){let l=u[0];typeof l=="string"&&(l=Ei[l]);for(let a=1;a<u.length;){let f=u[a++];if(f>=0)i(f,l,u[a++]);else{let c=u[a+-f];for(let h=-f;h>0;h--)i(u[a++],l,c);a++}}}this.nodeSet=new Rc(n.map((u,l)=>Lc.define({name:l>=this.minRepeatTerm?void 0:u,id:l,props:s[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=Mc;let o=on(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let u=0;u<this.specializerSpecs.length;u++)this.specialized[u]=this.specializerSpecs[u].term;this.specializers=this.specializerSpecs.map(Do),this.states=on(e.states,Uint32Array),this.data=on(e.stateData),this.goto=on(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(u=>typeof u=="number"?new $t(o,u):u),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let s=new hf(this,e,n,r);for(let i of this.wrappers)s=i(s,e,n,r);return s}getGoto(e,n,r=!1){let s=this.goto;if(n>=s[0])return-1;for(let i=s[n+1];;){let o=s[i++],u=o&1,l=s[i++];if(u&&r)return l;for(let a=i+(o>>1);i<a;i++)if(s[i]==e)return l;if(u)return-1}}hasAction(e,n){let r=this.data;for(let s=0;s<2;s++)for(let i=this.stateSlot(e,s?2:1),o;;i+=3){if((o=r[i])==65535)if(r[i+1]==1)o=r[i=Ge(r,i+2)];else{if(r[i+1]==2)return Ge(r,i+2);break}if(o==n||o==0)return Ge(r,i+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),s=r?n(r):void 0;for(let i=this.stateSlot(e,1);s==null;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Ge(this.data,i+2);else break;s=n(Ge(this.data,i+1))}return s}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Ge(this.data,r+2);else break;if(!(this.data[r+2]&1)){let s=this.data[r+1];n.some((i,o)=>o&1&&i==s)||n.push(this.data[r],s)}}return n}configure(e){let n=Object.assign(Object.create(_r.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let s=e.tokenizers.find(i=>i.from==r);return s?s.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,s)=>{let i=e.specializers.find(u=>u.from==r.external);if(!i)return r;let o=Object.assign(Object.assign({},r),{external:i.to});return n.specializers[s]=Do(o),o})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let i of e.split(" ")){let o=n.indexOf(i);o>=0&&(r[o]=!0)}let s=null;for(let i=0;i<n.length;i++)if(!r[i])for(let o=this.dialects[n[i]],u;(u=this.data[o++])!=65535;)(s||(s=new Uint8Array(this.maxTerm+1)))[u]=1;return new df(e,r,s)}static deserialize(e){return new _r(e)}}function Ge(t,e){return t[e]|t[e+1]<<16}function pf(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function Do(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}Ku.setLevel("silent");const Y=Ku,R={STRING:"String",NUMBER:"Number",TRUE:"True",FALSE:"False",NULL:"Null",OBJECT:"Object",ARRAY:"Array",PROPERTY:"Property",PROPERTY_NAME:"PropertyName",PROPERTY_COLON:"PropertyColon",ITEM:"Item",JSON_TEXT:"JsonText",INVALID:"âš "},mf={Pair:R.PROPERTY,Key:R.PROPERTY_NAME,BlockSequence:R.ARRAY,BlockMapping:R.OBJECT,FlowSequence:R.ARRAY,FlowMapping:R.OBJECT,QuotedLiteral:R.STRING,Literal:R.STRING,Stream:R.JSON_TEXT,Document:R.OBJECT},gf={File:R.JSON_TEXT},Ai=[R.STRING,R.NUMBER,R.TRUE,R.FALSE,R.NULL],Qu=[R.OBJECT,R.ARRAY,R.ITEM],J={JSON5:"json5",JSON:"json4",YAML:"yaml"},ee=(t,e)=>{var n,r;switch(e){case J.YAML:return(n=mf[t])!==null&&n!==void 0?n:t;case J.JSON5:return(r=gf[t])!==null&&r!==void 0?r:t;default:return t}};function Yu(t,e,n){const r=[];for(let s=e;s!=null&&s.parent;s=s.parent)switch(ee(s.parent.name,n)){case R.PROPERTY:{const i=Zs(s.parent,R.PROPERTY_NAME,n);if(i){let o=Ft(t,i).replace(/[/~]/g,u=>u==="~"?"~0":"~1");r.unshift(o)}break}case R.ARRAY:{if(bf(s,n)){const i=el(s.parent,s,n);r.unshift(`${i}`)}break}}return r.length===0?"":"/"+r.join("/")}const Zu=(t,e,n=-1,r)=>Yu(t.doc,Wr(t).resolve(e,n),r),ki=(t,e)=>{const n=Wr(t),r=new Map;return n.iterate({enter:s=>{var i,o,u,l,a,f,c,h;if([R.PROPERTY_NAME,R.OBJECT].includes(ee(s.name,e))){const d=Yu(t.doc,s.node,e),{from:p,to:g}=s.node;if(!(!((o=(i=s.node)===null||i===void 0?void 0:i.nextSibling)===null||o===void 0)&&o.node))return r.set(d,{keyFrom:p,keyTo:g}),!0;const y=e===J.JSON?(l=(u=s.node)===null||u===void 0?void 0:u.nextSibling)===null||l===void 0?void 0:l.node:(h=(c=(f=(a=s.node)===null||a===void 0?void 0:a.nextSibling)===null||f===void 0?void 0:f.node)===null||c===void 0?void 0:c.nextSibling)===null||h===void 0?void 0:h.node;if(!y)return r.set(d,{keyFrom:p,keyTo:g}),!0;const{from:D,to:b}=y;return r.set(d,{keyFrom:p,keyTo:g,valueFrom:D,valueTo:b}),!0}}}),r},Es=(t,e,n=-1)=>Wr(t).resolveInner(e,n),ur=t=>t.replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1"),yf=t=>t.replace(/^"(.*)"$/,"'$1'"),Ft=(t,e,n=!0,r=!0)=>{const s=e?t.sliceString(e.from,e.to):"";return n?r?ur(s):s.replace(/(^["'])|(["']$)/g,""):s},Xu=(t,e)=>{var n,r,s,i;return ee(t.name,e)===R.INVALID&&(ee((r=(n=t.prevSibling)===null||n===void 0?void 0:n.name)!==null&&r!==void 0?r:"",e)===R.PROPERTY_NAME||ee((i=(s=t.prevSibling)===null||s===void 0?void 0:s.name)!==null&&i!==void 0?i:"",e)===R.PROPERTY_COLON)},lr=(t,e)=>Ai.includes(ee(t.name,e))||Xu(t,e),bf=(t,e)=>[...Ai,...Qu].includes(ee(t.name,e))||Xu(t,e),zn=(t,e)=>{var n,r,s,i,o,u;return ee(t.name,e)===R.PROPERTY_NAME||ee(t.name,e)===R.INVALID&&(ee((r=(n=t.prevSibling)===null||n===void 0?void 0:n.name)!==null&&r!==void 0?r:"",e)===R.PROPERTY||ee((i=(s=t.prevSibling)===null||s===void 0?void 0:s.name)!==null&&i!==void 0?i:"",e)==="{")||e===J.YAML&&ee((u=(o=t.parent)===null||o===void 0?void 0:o.name)!==null&&u!==void 0?u:"",e)===R.OBJECT},$n=t=>{const e=[];let n=t.firstChild;for(;n;)n&&e.push(n),n=n==null?void 0:n.nextSibling;return e},Df=(t,e,n)=>$n(t).filter(r=>ee(r.name,n)===e),Zs=(t,e,n)=>{var r;return(r=$n(t).find(s=>ee(s.name,n)===e))!==null&&r!==void 0?r:null},_o=(t,e)=>$n(t).find(n=>lr(n,e)),_f=(t,e)=>$n(t).filter(n=>Ai.includes(ee(n.name,e))||Qu.includes(ee(n.name,e))),el=(t,e,n)=>_f(t,n).findIndex(r=>r.from===e.from&&r.to===e.to),Eo=(t,e,n,r=1/0)=>{let s=t;for(;s&&r>0;){if(ee(s.name,n)===e)return s;s=s.parent,r--}return null},Ef=zc.define(),Er=Uc.define({create(){},update(t,e){for(const n of e.effects)if(n.is(Ef))return n.value;return t}}),Si=t=>t.field(Er),Cf=t=>[Er.init(()=>t)],Af={AdditionalItemsError:"Array at `{{pointer}}` may not have an additional item `{{key}}`",AdditionalPropertiesError:"Additional property `{{property}}` on `{{pointer}}` does not match schema `{{schema}}`",AllOfError:"Value `{{value}}` at `{{pointer}}` does not match schema of `{{allOf}}`",AnyOfError:"Value `{{value}}` at `{{pointer}}` does not match any schema of `{{anyOf}}`",ConstError:"Expected value at `{{pointer}}` to be `{{expected}}`, but value given is `{{value}}`",containsAnyError:"The array at `{{pointer}}` must contain at least one item",ContainsArrayError:"The property at `{{pointer}}` must not be an array",ContainsError:"The array at `{{pointer}}` must contain an element that matches `{{schema}}`",EnumError:"Expected given value `{{value}}` in `{{pointer}}` to be one of `{{values}}`",ForbiddenPropertyError:"Property name `{{property}}` at `{{pointer}}` is not allowed",FormatDateError:"Value `{{value}}` at `{{pointer}}` is not a valid date",FormatDateTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid date-time",FormatEmailError:"Value `{{value}}` at `{{pointer}}` is not a valid email",FormatHostnameError:"Value `{{value}}` at `{{pointer}}` is not a valid hostname",FormatIPV4Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv4 address",FormatIPV4LeadingZeroError:"IPv4 addresses starting with zero are invalid, since they are interpreted as octals",FormatIPV6Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv6 address",FormatIPV6LeadingZeroError:"IPv6 addresses starting with zero are invalid, since they are interpreted as octals",FormatJsonPointerError:"Value `{{value}}` at `{{pointer}}` is not a valid json-pointer",FormatRegExError:"Value `{{value}}` at `{{pointer}}` is not a valid regular expression",FormatTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid time",FormatURIError:"Value `{{value}}` at `{{pointer}}` is not a valid uri",FormatURIReferenceError:"Value `{{value}}` at `{{pointer}}` is not a valid uri-reference",FormatURITemplateError:"Value `{{value}}` at `{{pointer}}` is not a valid uri-template",FormatURLError:"Value `{{value}}` at `{{pointer}}` is not a valid url",InvalidDataError:"No value may be specified in `{{pointer}}`",InvalidPropertyNameError:"Invalid property name `{{property}}` at `{{pointer}}`",MaximumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{maximum}}` at maximum",MaxItemsError:"Too many items in `{{pointer}}`, should be `{{maximum}}` at most, but got `{{length}}`",MaxLengthError:"Value `{{pointer}}` should have a maximum length of `{{maxLength}}`, but got `{{length}}`.",MaxPropertiesError:"Too many properties in `{{pointer}}`, should be `{{maximum}}` at most, but got `{{length}}`",MinimumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{minimum}}` at minimum",MinItemsError:"Too few items in `{{pointer}}`, should be at least `{{minItems}}`, but got `{{length}}`",MinItemsOneError:"At least one item is required in `{{pointer}}`",MinLengthError:"Value `{{pointer}}` should have a minimum length of `{{minLength}}`, but got `{{length}}`.",MinLengthOneError:"A value is required in `{{pointer}}`",MinPropertiesError:"Too few properties in `{{pointer}}`, should be at least `{{minimum}}`, but got `{{length}}`",MissingDependencyError:"The required propery '{{missingProperty}}' in `{{pointer}}` is missing",MissingOneOfPropertyError:"Value at `{{pointer}}` property: `{{property}}`",MultipleOfError:"Expected `{{value}}` in `{{pointer}}` to be multiple of `{{multipleOf}}`",MultipleOneOfError:"Value `{{value}}` should not match multiple schemas in oneOf `{{matches}}`",NoAdditionalPropertiesError:"Additional property `{{property}}` in `{{pointer}}` is not allowed",NotError:"Value `{{value}}` at pointer should not match schema `{{not}}`",OneOfError:"Value `{{value}}` in `{{pointer}}` does not match any given oneof schema",OneOfPropertyError:"Failed finding a matching oneOfProperty schema in `{{pointer}}` where `{{property}}` matches `{{value}}`",PatternError:"Value in `{{pointer}}` should match `{{description}}`, but received `{{received}}`",PatternPropertiesError:"Property `{{key}}` does not match any patterns in `{{pointer}}`. Valid patterns are: {{patterns}}",RequiredPropertyError:"The required property `{{key}}` is missing at `{{pointer}}`",SchemaWarning:"Failed retrieving a schema from '{{pointer}}' to key '{{key}}'",TypeError:"Expected `{{value}}` ({{received}}) in `{{pointer}}` to be of type `{{expected}}`",UndefinedValueError:"Value must not be undefined in `{{pointer}}`",UniqueItemsError:"Items in array must be unique. Value `{{value}}` in `{{pointer}}` is a duplicate of {{duplicatePointer}}.",UnknownPropertyError:"Could not find a valid schema for property `{{pointer}}` within object",ValueNotEmptyError:"A value for `{{property}}` is required at `{{pointer}}`"},kf=Object.prototype.toString;function z(t){const e=kf.call(t).match(/\s([^\]]+)\]/).pop().toLowerCase();return e==="file"?"object":e}const Sf="object",xf="array";function Ff(t,e={}){return t.replace(/\{\{\w+\}\}/g,n=>{const r=n.replace(/[{}]/g,""),s=e[r],i=z(s);return i===Sf||i===xf?JSON.stringify(s):s})}function wf(t,e,n=t){var r;const s=(r=Af[t])!==null&&r!==void 0?r:n;return Ff(s,e)}function Of(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function vf(t,e){return{type:"error",name:t,code:Of(t),message:wf(t,e),data:e}}function P(t){return vf.bind(null,t)}function gn(t,e=[]){for(let n=0;n<t.length;n+=1){const r=t[n];Array.isArray(r)?gn(r,e):e.push(r)}return e}const Vt={DECLARATOR_ONEOF:"oneOfProperty",GET_TEMPLATE_RECURSION_LIMIT:1,propertyBlacklist:["_id"],templateDefaultOptions:{addOptionalProps:!1,removeInvalidData:!1,extendDefaults:!0}};function fn(t,e,n){const r={...e};return Object.defineProperty(r,"getOneOfOrigin",{enumerable:!1,value:()=>({index:n,schema:t})}),r}function le(t){return(t==null?void 0:t.type)==="error"}function Pf(t){return t instanceof Promise}function Cr(t){return le(t)||Pf(t)}const{DECLARATOR_ONEOF:It}=Vt;function tl(t,e,n=t.rootSchema,r="#"){if(e!=null&&n[It]){const o=[],u=n[It],l=e[n[It]];if(l===void 0)return t.errors.missingOneOfPropertyError({property:u,pointer:r,schema:n,value:e});for(let a=0;a<n.oneOf.length;a+=1){const f=t.resolveRef(n.oneOf[a]),c=t.step(u,f,e,r);if(le(c))return c;let h=gn(t.validate(l,c,r));if(h=h.filter(Cr),h.length>0)o.push(...h);else return fn(n,f,a)}return t.errors.oneOfPropertyError({property:u,value:l,pointer:r,schema:n,errors:o})}const s=[],i=[];for(let o=0;o<n.oneOf.length;o+=1){const u=t.resolveRef(n.oneOf[o]);let l=gn(t.validate(e,u,r));l=l.filter(Cr),l.length>0?i.push(...l):s.push({index:o,schema:u})}return s.length===1?fn(n,s[0].schema,s[0].index):s.length>1?t.errors.multipleOneOfError({value:e,pointer:r,schema:n,matches:s}):t.errors.oneOfError({value:JSON.stringify(e),pointer:r,schema:n,oneOf:n.oneOf,errors:i})}function $f(t,e,n,r){if(n==null||e.properties==null)return-1;let s=0;const i=Object.keys(e.properties);for(let o=0;o<i.length;o+=1){const u=i[o];n[u]!=null&&t.isValid(n[u],e.properties[u],r)&&(s+=1)}return s}function xi(t,e,n=t.rootSchema,r="#"){if(e!=null&&n[It]){const i=[],o=n[It],u=e[n[It]];if(u===void 0)return t.errors.missingOneOfPropertyError({property:o,pointer:r,schema:n,value:e});for(let l=0;l<n.oneOf.length;l+=1){const a=t.resolveRef(n.oneOf[l]),f=t.step(o,a,e,r);if(le(f))return f;let c=gn(t.validate(u,f,r));if(c=c.filter(Cr),c.length>0)i.push(...c);else return fn(n,a,l)}return t.errors.oneOfPropertyError({property:o,value:u,pointer:r,schema:n,errors:i})}const s=[];for(let i=0;i<n.oneOf.length;i+=1){const o=t.resolveRef(n.oneOf[i]);t.isValid(e,o,r)&&s.push({schema:o,index:i})}if(s.length===1)return fn(n,s[0].schema,s[0].index);if(z(e)==="object"){let i,o=-1,u=0;for(let l=0;l<n.oneOf.length;l+=1){const a=t.resolveRef(n.oneOf[l]),f=$f(t,a,e);u<f&&(u=f,i=n.oneOf[l],o=l)}return i===void 0?t.errors.oneOfError({value:JSON.stringify(e),pointer:r,schema:n,oneOf:n.oneOf}):fn(n,i,o)}return s.length>1?t.errors.multipleOneOfError({matches:s,pointer:r,schema:n,value:e}):t.errors.oneOfError({value:JSON.stringify(e),pointer:r,schema:n,oneOf:n.oneOf})}const If=(t,e,n,r)=>{if(Array.isArray(e.oneOf)){const s=t.resolveOneOf(n,e,r);if(le(s))return s}};var Cs,Co;function Tf(){if(Co)return Cs;Co=1;var t=function(b){return e(b)&&!n(b)};function e(D){return!!D&&typeof D=="object"}function n(D){var b=Object.prototype.toString.call(D);return b==="[object RegExp]"||b==="[object Date]"||i(D)}var r=typeof Symbol=="function"&&Symbol.for,s=r?Symbol.for("react.element"):60103;function i(D){return D.$$typeof===s}function o(D){return Array.isArray(D)?[]:{}}function u(D,b){return b.clone!==!1&&b.isMergeableObject(D)?g(o(D),D,b):D}function l(D,b,m){return D.concat(b).map(function(_){return u(_,m)})}function a(D,b){if(!b.customMerge)return g;var m=b.customMerge(D);return typeof m=="function"?m:g}function f(D){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(D).filter(function(b){return Object.propertyIsEnumerable.call(D,b)}):[]}function c(D){return Object.keys(D).concat(f(D))}function h(D,b){try{return b in D}catch{return!1}}function d(D,b){return h(D,b)&&!(Object.hasOwnProperty.call(D,b)&&Object.propertyIsEnumerable.call(D,b))}function p(D,b,m){var _={};return m.isMergeableObject(D)&&c(D).forEach(function(E){_[E]=u(D[E],m)}),c(b).forEach(function(E){d(D,E)||(h(D,E)&&m.isMergeableObject(b[E])?_[E]=a(E,m)(D[E],b[E],m):_[E]=u(b[E],m))}),_}function g(D,b,m){m=m||{},m.arrayMerge=m.arrayMerge||l,m.isMergeableObject=m.isMergeableObject||t,m.cloneUnlessOtherwiseSpecified=u;var _=Array.isArray(b),E=Array.isArray(D),C=_===E;return C?_?m.arrayMerge(D,b,m):p(D,b,m):u(b,m)}g.all=function(b,m){if(!Array.isArray(b))throw new Error("first argument should be an array");return b.reduce(function(_,E){return g(_,E,m)},{})};var y=g;return Cs=y,Cs}var Nf=Tf();const nl=Pn(Nf),Bf=(t,e)=>e,Fi=(t,e)=>nl(t,e,{arrayMerge:Bf}),Rf=(t,e)=>{const n=t.concat(e);return n.filter((r,s)=>n.indexOf(r)===s)},Lf=(t,e)=>nl(t,e,{arrayMerge:Rf});function fe(t,e){const n=z(t),r=z(e);if(n!==r)return t;const s=Lf(t,e);return t.getOneOfOrigin?Object.defineProperty(s,"getOneOfOrigin",{enumerable:!1,value:t.getOneOfOrigin}):e.getOneOfOrigin&&Object.defineProperty(s,"getOneOfOrigin",{enumerable:!1,value:e.getOneOfOrigin}),s}function yn(t,...e){const n={};return Object.keys(t).forEach(r=>{e.includes(r)||(n[r]=t[r])}),t.getOneOfOrigin&&Object.defineProperty(n,"getOneOfOrigin",{enumerable:!1,value:t.getOneOfOrigin}),n}var Mf=Function.prototype.toString,As=Object.create,jf=Object.prototype.toString,Uf=function(){function t(){this._keys=[],this._values=[]}return t.prototype.has=function(e){return!!~this._keys.indexOf(e)},t.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},t.prototype.set=function(e,n){this._keys.push(e),this._values.push(n)},t}();function zf(){return new Uf}function qf(){return new WeakMap}var Gf=typeof WeakMap<"u"?qf:zf;function wi(t){if(!t)return As(null);var e=t.constructor;if(e===Object)return t===Object.prototype?{}:As(t);if(e&&~Mf.call(e).indexOf("[native code]"))try{return new e}catch{}return As(t)}function Vf(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}function Kf(t){return t.flags}var Wf=/test/g.flags==="g"?Kf:Vf;function rl(t){var e=jf.call(t);return e.substring(8,e.length-1)}function Jf(t){return t[Symbol.toStringTag]||rl(t)}var Hf=typeof Symbol<"u"?Jf:rl,Qf=Object.defineProperty,Yf=Object.getOwnPropertyDescriptor,sl=Object.getOwnPropertyNames,Oi=Object.getOwnPropertySymbols,il=Object.prototype,ol=il.hasOwnProperty,Zf=il.propertyIsEnumerable,ul=typeof Oi=="function";function Xf(t){return sl(t).concat(Oi(t))}var eh=ul?Xf:sl;function Jr(t,e,n){for(var r=eh(t),s=0,i=r.length,o=void 0,u=void 0;s<i;++s)if(o=r[s],!(o==="callee"||o==="caller")){if(u=Yf(t,o),!u){e[o]=n.copier(t[o],n);continue}!u.get&&!u.set&&(u.value=n.copier(u.value,n));try{Qf(e,o,u)}catch{e[o]=u.value}}return e}function th(t,e){var n=new e.Constructor;e.cache.set(t,n);for(var r=0,s=t.length;r<s;++r)n[r]=e.copier(t[r],e);return n}function nh(t,e){var n=new e.Constructor;return e.cache.set(t,n),Jr(t,n,e)}function ll(t,e){return t.slice(0)}function rh(t,e){return t.slice(0,t.size,t.type)}function sh(t,e){return new e.Constructor(ll(t.buffer))}function ih(t,e){return new e.Constructor(t.getTime())}function al(t,e){var n=new e.Constructor;return e.cache.set(t,n),t.forEach(function(r,s){n.set(s,e.copier(r,e))}),n}function oh(t,e){return Jr(t,al(t,e),e)}function uh(t,e){var n=wi(e.prototype);e.cache.set(t,n);for(var r in t)ol.call(t,r)&&(n[r]=e.copier(t[r],e));return n}function lh(t,e){var n=wi(e.prototype);e.cache.set(t,n);for(var r in t)ol.call(t,r)&&(n[r]=e.copier(t[r],e));for(var s=Oi(t),i=0,o=s.length,u=void 0;i<o;++i)u=s[i],Zf.call(t,u)&&(n[u]=e.copier(t[u],e));return n}var ah=ul?lh:uh;function ch(t,e){var n=wi(e.prototype);return e.cache.set(t,n),Jr(t,n,e)}function ks(t,e){return new e.Constructor(t.valueOf())}function fh(t,e){var n=new e.Constructor(t.source,Wf(t));return n.lastIndex=t.lastIndex,n}function ar(t,e){return t}function cl(t,e){var n=new e.Constructor;return e.cache.set(t,n),t.forEach(function(r){n.add(e.copier(r,e))}),n}function hh(t,e){return Jr(t,cl(t,e),e)}var dh=Array.isArray,vi=Object.assign,ph=Object.getPrototypeOf||function(t){return t.__proto__},fl={array:th,arrayBuffer:ll,blob:rh,dataView:sh,date:ih,error:ar,map:al,object:ah,regExp:fh,set:cl},mh=vi({},fl,{array:nh,map:oh,object:ch,set:hh});function gh(t){return{Arguments:t.object,Array:t.array,ArrayBuffer:t.arrayBuffer,Blob:t.blob,Boolean:ks,DataView:t.dataView,Date:t.date,Error:t.error,Float32Array:t.arrayBuffer,Float64Array:t.arrayBuffer,Int8Array:t.arrayBuffer,Int16Array:t.arrayBuffer,Int32Array:t.arrayBuffer,Map:t.map,Number:ks,Object:t.object,Promise:ar,RegExp:t.regExp,Set:t.set,String:ks,WeakMap:ar,WeakSet:ar,Uint8Array:t.arrayBuffer,Uint8ClampedArray:t.arrayBuffer,Uint16Array:t.arrayBuffer,Uint32Array:t.arrayBuffer,Uint64Array:t.arrayBuffer}}function hl(t){var e=vi({},fl,t),n=gh(e),r=n.Array,s=n.Object;function i(o,u){if(u.prototype=u.Constructor=void 0,!o||typeof o!="object")return o;if(u.cache.has(o))return u.cache.get(o);if(u.prototype=ph(o),u.Constructor=u.prototype&&u.prototype.constructor,!u.Constructor||u.Constructor===Object)return s(o,u);if(dh(o))return r(o,u);var l=n[Hf(o)];return l?l(o,u):typeof o.then=="function"?o:s(o,u)}return function(u){return i(u,{Constructor:void 0,cache:Gf(),copier:i,prototype:void 0})}}function yh(t){return hl(vi({},mh,t))}yh({});var Ar=hl({});function Hr(t,e,n){if(e.if!=null){if(e.if===!1)return e.else;if(e.if&&(e.then||e.else)){const r=t.validate(n,t.resolveRef(e.if));if(r.length===0&&e.then)return t.resolveRef(e.then);if(r.length!==0&&e.else)return t.resolveRef(e.else)}}}const bh=(t,e,n,r)=>{const s=Hr(t,e,n);if(s)return t.validate(n,s,r)};function dl(t,e,n){var r;const s={...(r=t.resolveRef(e))!==null&&r!==void 0?r:{}},i=Hr(t,s,n);return i||yn(s,"if","then","else")}function pl(t,e,n=t.rootSchema){let r=Ar(n);for(let s=0;s<n.allOf.length;s+=1){const i=dl(t,n.allOf[s],e);r=fe(r,i)}return delete r.allOf,r}function ml(t,e){const{allOf:n}=e;if(!Array.isArray(n)||n.length===0)return;let r={};return n.forEach(s=>{r=fe(r,t.resolveRef(s))}),r}const Dh=(t,e,n,r)=>{const{allOf:s}=e;if(!Array.isArray(s)||s.length===0)return;const i=[];return e.allOf.forEach(o=>{i.push(...t.validate(n,o,r))}),i};function gl(t,e){return t==null||t.$ref==null?t:t.getRoot?t.getRoot().getRef(t):e.getRef(t)}function _h(t){return t.filter((e,n)=>t.indexOf(e)===n)}function tt(t){return z(t)==="object"}function yl(t,e,n){const{dependencies:r}=e;if(!tt(r)||!tt(n))return;let s=!1,i={required:[]};if(Object.keys(r).forEach(o=>{var u,l;if(n[o]==null&&!(!((u=e.required)===null||u===void 0)&&u.includes(o)||!((l=i.required)===null||l===void 0)&&l.includes(o)))return;const a=r[o];if(Array.isArray(a)){s=!0,i.required.push(...a);return}if(tt(a)){s=!0,i=fe(i,t.resolveRef(a));return}}),s)return i.required=_h(i.required),i}const Eh=(t,e,n,r)=>{if(z(e.dependencies)!=="object")return;const s=[];return Object.keys(n).forEach(i=>{if(e.dependencies[i]===void 0||e.dependencies[i]===!0)return;if(e.dependencies[i]===!1){s.push(t.errors.missingDependencyError({pointer:r,schema:e,value:n}));return}let o;const u=z(e.dependencies[i]);if(u==="array")o=e.dependencies[i].filter(l=>n[l]===void 0).map(l=>t.errors.missingDependencyError({missingProperty:l,pointer:r,schema:e,value:n}));else if(u==="object")o=t.validate(n,e.dependencies[i],r);else throw new Error(`Invalid dependency definition for ${r}/${i}. Must be string[] or schema`);s.push(...o)}),s.length>0?s:void 0};function bl(t,e,n){if(!Array.isArray(e.anyOf)||e.anyOf.length===0)return;let r;return e.anyOf.forEach(s=>{s=t.resolveRef(s),t.isValid(n,s)&&(r=r?fe(r,s):s)}),r}function Dl(t,e,n=t.rootSchema,r="#"){const{anyOf:s}=n;if(!Array.isArray(s)||s.length===0)return n;const i=bl(t,n,e);if(i==null)return t.errors.anyOfError({pointer:r,schema:n,value:e,anyOf:JSON.stringify(s)});const o=fe(n,i);return yn(o,"anyOf")}const Ch=(t,e,n,r)=>{if(!(!Array.isArray(e.anyOf)||e.anyOf.length===0)){for(let s=0;s<e.anyOf.length;s+=1)if(t.isValid(n,e.anyOf[s]))return;return t.errors.anyOfError({pointer:r,schema:e,value:n,anyOf:e.anyOf})}},Ao=["allOf","anyOf","oneOf","dependencies","if","then","else"],Ah=["allOf","anyOf","oneOf","dependencies","if"];function kh(t){const e=Object.keys(t);return Ah.findIndex(n=>e.includes(n))!==-1}function Xs(t,e,n,r){let s,i;if(e=t.resolveRef(e),e.oneOf){const f=xi(t,n,e,r);le(f)?i=f:f&&(s=fe(s??{},f))}if(Array.isArray(e.allOf)){const f=e.allOf.map(c=>{if(kh(c)){let h=Xs(t,c,n,r);return h?(h=fe(c,h),yn(h,...Ao)):void 0}return c});if(f.length>0){const c=ml(t,{allOf:f});s=fe(s??{},c)}}const o=bl(t,e,n);o&&(s=fe(s??{},o));const u=yl(t,e,n);u&&(s=fe(s??{},u));const l=Hr(t,e,n);if(l&&(s=fe(s??{},l)),s==null)return i;const a=Xs(t,s,n,r);return a&&(s=fe(s,a)),yn(s,...Ao)}const Sh=["allOf","anyOf","oneOf","dependencies","if","then","else"];function ko(t,e,n,r){let s=Xs(t,e,n,r);return s?(s=fe(e,s),yn(s,...Sh)):e}class _l{constructor(e,n){this.remotes={},this.errors={},this.typeKeywords={},this.validateKeyword={},this.validateType={},this.validateFormat={},this.config=e,this.typeKeywords=Ar(e.typeKeywords),this.validateKeyword=Object.assign({},e.validateKeyword),this.validateType=Object.assign({},e.validateType),this.validateFormat=Object.assign({},e.validateFormat),this.errors=Object.assign({},e.errors),this.setSchema(n)}get rootSchema(){return this.__rootSchema}set rootSchema(e){e!=null&&(this.__rootSchema=this.config.compileSchema(this,e))}addRemoteSchema(e,n){this.config.addRemoteSchema(this,e,n)}compileSchema(e){var n;return this.config.compileSchema(this,e,(n=this.rootSchema)!==null&&n!==void 0?n:e)}createSchemaOf(e){return this.config.createSchemaOf(e)}each(e,n,r,s){return this.config.each(this,e,n,r,s)}eachSchema(e,n=this.rootSchema){return this.config.eachSchema(n,e)}getChildSchemaSelection(e,n){return this.config.getChildSchemaSelection(this,e,n)}getSchema(e){return this.config.getSchema(this,e)}getTemplate(e,n,r=this.config.templateDefaultOptions){return this.config.getTemplate(this,e,n,r)}isValid(e,n,r){return this.config.isValid(this,e,n,r)}resolveAnyOf(e,n,r){return this.config.resolveAnyOf(this,e,n,r)}resolveAllOf(e,n){return this.config.resolveAllOf(this,e,n)}resolveRef(e){return this.config.resolveRef(e,this.rootSchema)}resolveOneOf(e,n,r){return this.config.resolveOneOf(this,e,n,r)}setSchema(e){this.rootSchema=e}step(e,n,r,s){return this.config.step(this,e,n,r,s)}validate(e,n,r){return this.config.validate(this,e,n,r)}}function El(t,e,n){n.id=n.id||e,t.remotes[e]=t.compileSchema(n)}var cr={exports:{}},xh=cr.exports,So;function Fh(){return So||(So=1,function(t,e){(function(n,r){t.exports=r()})(typeof self<"u"?self:xh,()=>(()=>{var n={d:(x,w)=>{for(var v in w)n.o(w,v)&&!n.o(x,v)&&Object.defineProperty(x,v,{enumerable:!0,get:w[v]})},o:(x,w)=>Object.prototype.hasOwnProperty.call(x,w),r:x=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})}},r={};function s(x){return x==="#"||x===""||Array.isArray(x)&&x.length===0||!1}n.r(r),n.d(r,{default:()=>$,get:()=>h,isRoot:()=>s,join:()=>N,remove:()=>E,removeUndefinedItems:()=>_,set:()=>D,split:()=>c,splitLast:()=>V});const i=/~1/g,o=/~0/g,u=/\/+/g,l=/(^[#/]*|\/+$)/g;function a(x){return x.replace(i,"/").replace(o,"~")}function f(x){return a(decodeURIComponent(x))}function c(x){if(x==null||typeof x!="string"||s(x))return Array.isArray(x)?x:[];const w=x.indexOf("#")>=0?f:a,v=(x=(x=x.replace(u,"/")).replace(l,"")).split("/");for(let M=0,Q=v.length;M<Q;M+=1)v[M]=w(v[M]);return v}function h(x,w,v=void 0){if(w==null||x==null)return v;if(s(w))return x;const M=d(x,c(w));return M===void 0?v:M}function d(x,w){const v=w.shift();if(x!==void 0)return v!==void 0?d(x[v],w):x}const p=/^\[.*\]$/,g=/^\[(.+)\]$/;function y(x,w){return x==="__proto__"||x=="constructor"&&w.length>0&&w[0]=="prototype"}function D(x,w,v){if(w==null)return x;const M=c(w);if(M.length===0)return x;x==null&&(x=p.test(M[0])?[]:{});let Q,U,I=x;for(;M.length>1;)Q=M.shift(),U=p.test(M[0]),y(Q,M)||(I=m(I,Q,U));return Q=M.pop(),b(I,Q,v),x}function b(x,w,v){let M;const Q=w.match(g);w==="[]"&&Array.isArray(x)?x.push(v):Q?(M=Q.pop(),x[M]=v):x[w]=v}function m(x,w,v){if(x[w]!=null)return x[w];const M=v?[]:{};return b(x,w,M),M}function _(x){let w=0,v=0;for(;w+v<x.length;)x[w+v]===void 0&&(v+=1),x[w]=x[w+v],w+=1;return x.length=x.length-v,x}function E(x,w,v){const M=c(w),Q=M.pop(),U=h(x,M);return U&&delete U[Q],Array.isArray(U)&&v!==!0&&_(U),x}const C=/\/+/g,S=/~/g,A=/\//g;function O(x,w){if(x.length===0)return w?"#":"";for(let v=0,M=x.length;v<M;v+=1)x[v]=x[v].replace(S,"~0").replace(A,"~1"),w&&(x[v]=encodeURIComponent(x[v]));return((w?"#/":"/")+x.join("/")).replace(C,"/")}function N(x,...w){const v=[];if(Array.isArray(x))return O(x,arguments[1]===!0);const M=arguments[arguments.length-1],Q=typeof M=="boolean"?M:x&&x[0]==="#";for(let I=0,At=arguments.length;I<At;I+=1)v.push.apply(v,c(arguments[I]));const U=[];for(let I=0,At=v.length;I<At;I+=1)if(v[I]===".."){if(U.length===0)return Q?"#":"";U.pop()}else U.push(v[I]);return O(U,Q)}function V(x){const w=c(x);if(w.length===0)return typeof x=="string"&&x[0]==="#"?["#",w[0]]:["",void 0];if(w.length===1)return x[0]==="#"?["#",w[0]]:["",w[0]];const v=w.pop();return[N(w,x[0]==="#"),v]}const $={get:h,set:D,remove:E,join:N,split:c,splitLast:V,isRoot:s,removeUndefinedItems:_};return r})())}(cr)),cr.exports}var ht=Fh();const bn=Pn(ht);var qn={},me={},en={},xo;function wh(){if(xo)return en;xo=1,Object.defineProperty(en,"__esModule",{value:!0}),en.TokenError=void 0;let t=class extends Error{constructor(n,r){if(super(n),this.message=n,this.token=r,r&&r.errors)r.errors.push(this);else throw this}inspect(){return"SyntaxError: "+this.message}};return en.TokenError=t,en}var Fo;function Oh(){if(Fo)return me;Fo=1,Object.defineProperty(me,"__esModule",{value:!0}),me.Parser=me.findRuleByName=me.parseRuleName=me.escapeRegExp=me.readToken=void 0;const t=/^[A-Z0-9_]+$/,e=/(\?|\+|\*)$/,n=/^(@|&|!)/,r="WS",s=wh();function i(g,y){let D=y.exec(g);return D&&D.index==0?D[0].length==0&&y.source.length>0?null:{type:null,text:D[0],rest:g.substr(D[0].length),start:0,end:D[0].length-1,fullText:D[0],errors:[],children:[],parent:null}:null}me.readToken=i;function o(g){return g.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}me.escapeRegExp=o;function u(g){g.rest="",g.children&&g.children.forEach(y=>u(y))}function l(g,y){g.start+=y,g.end+=y,g.children&&g.children.forEach(D=>l(D,g.start))}function a(g,y){y.errors&&y.errors.length&&y.errors.forEach(D=>g.push(D)),y.children&&y.children.forEach(D=>a(g,D))}function f(g){let y=e.exec(g),D=n.exec(g),b=y&&y[0]||"",m=D&&D[0]||"",_={raw:g,name:g.replace(e,"").replace(n,""),isOptional:b=="?"||b=="*",allowRepetition:b=="+"||b=="*",atLeastOne:b=="+",lookupPositive:m=="&",lookupNegative:m=="!",pinned:m=="@",lookup:!1,isLiteral:!1};return _.isLiteral=_.name[0]=="'"||_.name[0]=='"',_.lookup=_.lookupNegative||_.lookupPositive,_}me.parseRuleName=f;function c(g,y){let D=f(g);return y.cachedRules[D.name]||null}me.findRuleByName=c;function h(g,y){if(g.children){let D=g.children.filter(b=>b.type&&y.test(b.type));for(let b=0;b<D.length;b++){let m=g.children.indexOf(D[b]);m!=-1&&g.children.splice(m,1)}g.children.forEach(b=>h(b,y))}}const d=["EOF"];class p{constructor(y,D){this.grammarRules=y,this.options=D,this.cachedRules={},this.debug=D?D.debug===!0:!1;let b=[],m=[];if(y.forEach(_=>{let E=f(_.name);if(E.name in this.cachedRules){b.push("Duplicated rule "+E.name);return}else this.cachedRules[E.name]=_;if(!_.bnf||!_.bnf.length){let C="Missing rule content, rule: "+_.name;b.indexOf(C)==-1&&b.push(C)}else _.bnf.forEach(C=>{if(typeof C[0]=="string"&&f(C[0]).name==_.name){let A="Left recursion is not allowed, rule: "+_.name;b.indexOf(A)==-1&&b.push(A)}C.forEach(S=>{if(typeof S=="string"){let A=f(S);!A.isLiteral&&m.indexOf(A.name)==-1&&d.indexOf(A.name)==-1&&m.push(A.name)}})});r==_.name&&(_.implicitWs=!1),_.implicitWs&&m.indexOf(r)==-1&&m.push(r),_.recover&&m.indexOf(_.recover)==-1&&m.push(_.recover)}),m.forEach(_=>{_ in this.cachedRules||b.push("Missing rule "+_)}),b.length)throw new Error(b.join(`
`))}getAST(y,D){D||(D=this.grammarRules.filter(m=>!m.fragment&&m.name.indexOf("%")!=0)[0].name);let b=this.parse(y,D);if(b){a(b.errors,b),l(b,0),h(b,/^%/),(!this.options||!this.options.keepUpperRules)&&h(b,t);let m=b.rest;m&&new s.TokenError(`Unexpected end of input: 
`+m,b),u(b),b.rest=m}return b}emitSource(){return"CANNOT EMIT SOURCE FROM BASE Parser"}parse(y,D,b=0){let m=null,_=f(D),E,C=this.debug&&!t.test(_.name);C&&console.log(new Array(b).join("â”‚  ")+"Trying to get "+D+" from "+JSON.stringify(y.split(`
`)[0]));let S=_.name,A=c(_.name,this);if(_.name=="EOF"){if(y.length)return null;if(y.length==0)return{type:"EOF",text:"",rest:"",start:0,end:0,fullText:"",errors:[],children:[],parent:null}}try{if(!A&&_.isLiteral){let O=_.name.trim();if(O.startsWith('"')?O=JSON.parse(O):O.startsWith("'")&&(O=O.replace(/^'(.+)'$/,"$1").replace(/\\'/g,"'")),O==="")return{type:"%%EMPTY%%",text:"",rest:y,start:0,end:0,fullText:"",errors:[],children:[],parent:null};E=new RegExp(o(O)),S=null}}catch(O){return O instanceof ReferenceError&&console.error(O),null}if(E){let O=i(y,E);if(O)return O.type=S,O}else{let O=A.bnf;O instanceof Array&&O.forEach(N=>{if(m)return;let V=null,$={type:_.name,text:"",children:[],end:0,errors:[],fullText:"",parent:null,start:0,rest:y};A.fragment&&($.fragment=!0);let x=y,w=0,v=N.length>0,M=!1;for(let Q=0;Q<N.length;Q++)if(typeof N[Q]=="string"){let U=f(N[Q]);v=v&&U.isOptional;let I,At=!1;do{if(I=null,A.implicitWs&&(I=this.parse(x,U.name,b+1),!I)){let pe;do if(pe=this.parse(x,r,b+1),pe)$.text=$.text+pe.text,$.end=$.text.length,pe.parent=$,$.children.push(pe),x=x.substr(pe.text.length),w+=pe.text.length;else break;while(pe&&pe.text.length)}if(I=I||this.parse(x,U.name,b+1),U.lookupNegative){if(I)return;break}if(U.lookupPositive&&!I)return;if(!I&&(U.isOptional||U.atLeastOne&&At))break;if(I&&A.pinned==Q+1&&(V=I,C&&console.log(new Array(b+1).join("â”‚  ")+"â””â”€ "+I.type+" PINNED")),I||(I=this.parseRecovery(A,x,b+1)),!I)if(V)m=$,I={type:"SyntaxError",text:x,children:[],end:x.length,errors:[],fullText:"",parent:null,start:0,rest:""},x.length?new s.TokenError(`Unexpected end of input. Expecting ${U.name} Got: ${x}`,I):new s.TokenError(`Unexpected end of input. Missing ${U.name}`,I),C&&console.log(new Array(b+1).join("â”‚  ")+"â””â”€ "+I.type+" "+JSON.stringify(I.text));else return;if(At=!0,M=!0,I.type=="%%EMPTY%%")break;I.start+=w,I.end+=w,!U.lookupPositive&&I.type&&(I.fragment?I.children&&I.children.forEach(pe=>{pe.start+=w,pe.end+=w,pe.parent=$,$.children.push(pe)}):(I.parent=$,$.children.push(I))),U.lookup&&(I.lookup=!0),C&&console.log(new Array(b+1).join("â”‚  ")+"â””â”€ "+I.type+" "+JSON.stringify(I.text)),!U.lookup&&!I.lookup&&($.text=$.text+I.text,$.end=$.text.length,x=x.substr(I.text.length),w+=I.text.length),$.rest=x}while(I&&U.allowRepetition&&x.length&&!I.lookup)}else{let U=i(x,N[Q]);if(!U)return;C&&console.log(new Array(b+1).join("â”‚  ")+"â””> "+JSON.stringify(U.text)+N[Q].source),M=!0,U.start+=w,U.end+=w,$.text=$.text+U.text,$.end=$.text.length,x=x.substr(U.text.length),w+=U.text.length,$.rest=x}M&&(m=$,C&&console.log(new Array(b).join("â”‚  ")+"â”œ<â”€â”´< PUSHING "+m.type+" "+JSON.stringify(m.text)))}),m&&A.simplifyWhenOneChildren&&m.children.length==1&&(m=m.children[0])}return m||C&&console.log(D+" NOT RESOLVED FROM "+y),m}parseRecovery(y,D,b){if(y.recover&&D.length){let m=this.debug;m&&console.log(new Array(b+1).join("â”‚  ")+"Trying to recover until token "+y.recover+" from "+JSON.stringify(D.split(`
`)[0]+D.split(`
`)[1]));let _={type:"SyntaxError",text:"",children:[],end:0,errors:[],fullText:"",parent:null,start:0,rest:""},E;do if(E=this.parse(D,y.recover,b+1),E){new s.TokenError('Unexpected input: "'+_.text+`" Expecting: ${y.name}`,_);break}else _.text=_.text+D[0],_.end=_.text.length,D=D.substr(1);while(!E&&D.length>0);if(_.text.length>0&&E)return m&&console.log(new Array(b+1).join("â”‚  ")+"Recovered text: "+JSON.stringify(_.text)),_}return null}}return me.Parser=p,me.default=p,me}var wo;function vh(){if(wo)return qn;wo=1,Object.defineProperty(qn,"__esModule",{value:!0});const t=Oh();var e;return function(n){n.RULES=[{name:"Grammar",bnf:[["RULE_S*","%Atomic*","EOF"]]},{name:"%Atomic",bnf:[["Production","RULE_S*"]],fragment:!0},{name:"Production",bnf:[["NCName","RULE_S*",'"::="',"RULE_WHITESPACE*","Choice","RULE_WHITESPACE*","RULE_EOL+","RULE_S*"]]},{name:"NCName",bnf:[[/[a-zA-Z][a-zA-Z_0-9]*/]]},{name:"Choice",bnf:[["SequenceOrDifference","%_Choice_1*"]],fragment:!0},{name:"%_Choice_1",bnf:[["RULE_WHITESPACE*",'"|"',"RULE_WHITESPACE*","SequenceOrDifference"]],fragment:!0},{name:"SequenceOrDifference",bnf:[["Item","RULE_WHITESPACE*","%_Item_1?"]]},{name:"%_Item_1",bnf:[["Minus","Item"],["Item*"]],fragment:!0},{name:"Minus",bnf:[['"-"']]},{name:"Item",bnf:[["RULE_WHITESPACE*","%Primary","PrimaryDecoration?"]],fragment:!0},{name:"PrimaryDecoration",bnf:[['"?"'],['"*"'],['"+"']]},{name:"DecorationName",bnf:[['"ebnf://"',/[^\x5D#]+/]]},{name:"%Primary",bnf:[["NCName"],["StringLiteral"],["CharCode"],["CharClass"],["SubItem"]],fragment:!0},{name:"SubItem",bnf:[['"("',"RULE_WHITESPACE*","Choice","RULE_WHITESPACE*",'")"']]},{name:"StringLiteral",bnf:[[`'"'`,/[^"]*/,`'"'`],[`"'"`,/[^']*/,`"'"`]],pinned:1},{name:"CharCode",bnf:[['"#x"',/[0-9a-zA-Z]+/]]},{name:"CharClass",bnf:[["'['","'^'?","%RULE_CharClass_1+",'"]"']]},{name:"%RULE_CharClass_1",bnf:[["CharCodeRange"],["CharRange"],["CharCode"],["RULE_Char"]],fragment:!0},{name:"RULE_Char",bnf:[[/\x09/],[/\x0A/],[/\x0D/],[/[\x20-\x5c]/],[/[\x5e-\uD7FF]/],[/[\uE000-\uFFFD]/]]},{name:"CharRange",bnf:[["RULE_Char",'"-"',"RULE_Char"]]},{name:"CharCodeRange",bnf:[["CharCode",'"-"',"CharCode"]]},{name:"RULE_WHITESPACE",bnf:[["%RULE_WHITESPACE_CHAR*"],["Comment","RULE_WHITESPACE*"]]},{name:"RULE_S",bnf:[["RULE_WHITESPACE","RULE_S*"],["RULE_EOL","RULE_S*"]]},{name:"%RULE_WHITESPACE_CHAR",bnf:[[/\x09/],[/\x20/]],fragment:!0},{name:"Comment",bnf:[['"/*"',"%RULE_Comment_Body*",'"*/"']]},{name:"%RULE_Comment_Body",bnf:[['!"*/"',/[^*]/]],fragment:!0},{name:"RULE_EOL",bnf:[[/\x0D/,/\x0A/],[/\x0A/],[/\x0D/]]},{name:"Link",bnf:[["'['","Url","']'"]]},{name:"Url",bnf:[[/[^\x5D:/?#]/,'"://"',/[^\x5D#]+/,"%Url1?"]]},{name:"%Url1",bnf:[['"#"',"NCName"]],fragment:!0}],n.defaultParser=new t.Parser(n.RULES,{debug:!1});const r=/^(!|&)/,s=/(\?|\+|\*)$/,i=/^%/;function o(m,_){if(typeof m=="string"){if(r.test(m))return"";if(i.test(m)){let C=s.exec(m),S=C?C[0]+" ":"";return u(m,_)?a(m,_)+S:"("+a(m,_)+")"+S}return m}else return m.source.replace(/\\(?:x|u)([a-zA-Z0-9]+)/g,"#x$1").replace(/\[\\(?:x|u)([a-zA-Z0-9]+)-\\(?:x|u)([a-zA-Z0-9]+)\]/g,"[#x$1-#x$2]")}function u(m,_){let E=t.findRuleByName(m,_);return E&&E.bnf.length==1&&E.bnf[0].length==1&&(E.bnf[0][0]instanceof RegExp||E.bnf[0][0][0]=='"'||E.bnf[0][0][0]=="'")}function l(m,_){return m.map(E=>o(E,_)).join(" ")}function a(m,_){let E=t.findRuleByName(m,_);return E?E.bnf.map(C=>l(C,_)).join(" | "):"RULE_NOT_FOUND {"+m+"}"}function f(m){let _=[];return m.grammarRules.forEach(E=>{if(!/^%/.test(E.name)){let C=E.recover?" /* { recoverUntil="+E.recover+" } */":"";_.push(E.name+" ::= "+a(E.name,m)+C)}}),_.join(`
`)}n.emit=f;let c=0;function h(m,_){throw console.log("reberia restar "+_+" a "+m),new Error("Difference not supported yet")}function d(m){return new RegExp(m.replace(/#x([a-zA-Z0-9]{4})/g,"\\u$1").replace(/#x([a-zA-Z0-9]{3})/g,"\\u0$1").replace(/#x([a-zA-Z0-9]{2})/g,"\\x$1").replace(/#x([a-zA-Z0-9]{1})/g,"\\x0$1"))}function p(m,_,E){let C=null,S=[];return _.children.forEach((A,O)=>{A.type=="Minus"&&h(C,A);let N=_.children[O+1];N=N&&N.type=="PrimaryDecoration"&&N.text||"";let V="";switch(A.type){case"SubItem":let $="%"+(E+c++);g(m,A,$),S.push(V+$+N);break;case"NCName":case"StringLiteral":S.push(V+A.text+N);break;case"CharCode":case"CharClass":if(N||V){let x={name:"%"+(E+c++),bnf:[[d(A.text)]]};m.push(x),S.push(V+x.name+N)}else S.push(d(A.text));break;case"PrimaryDecoration":break;default:throw new Error(" HOW SHOULD I PARSE THIS? "+A.type+" -> "+JSON.stringify(A.text))}C=A}),S}function g(m,_,E){let C=_.children.filter(O=>O.type=="SequenceOrDifference").map(O=>p(m,O,E)),S={name:E,bnf:C},A=null;C.forEach(O=>{A=A||O.recover,delete O.recover}),E.indexOf("%")==0&&(S.fragment=!0),A&&(S.recover=A),m.push(S)}function y(m,_=n.defaultParser){let E=_.getAST(m);if(!E)throw new Error("Could not parse "+m);if(E.errors&&E.errors.length)throw E.errors[0];let C=[];return E.children.filter(S=>S.type=="Production").map(S=>{let A=S.children.filter(O=>O.type=="NCName")[0].text;g(C,S,A)}),C}n.getRules=y;function D(m,_=n.defaultParser){return y(m.join(""),_)}n.Transform=D;class b extends t.Parser{constructor(_,E){const C=E&&E.debugRulesParser===!0?new t.Parser(n.RULES,{debug:!0}):n.defaultParser;super(y(_,C),E)}emitSource(){return f(this)}}n.Parser=b}(e||(e={})),qn.default=e,qn}var Ph=vh();const $h=Pn(Ph),Ih="[^?/{}*,()#]+",Th=`
root ::= ("#" recursion | recursion | (query | pattern) recursion* | "#" SEP? | SEP)
recursion ::= (SEP query | pattern)*

query ::= (ESC escaped ESC | property | all | any | regex) typecheck? lookahead?
property ::= ${Ih}
regex ::= "{" [^}]+ "}"
SEP ::= "/"
all ::= "**"
any ::= "*"

typecheck ::= "?:" ("value" | "boolean" | "string" | "number" | "object" | "array")
lookahead ::= "?" expression ((andExpr | orExpr) expression)*
andExpr ::= S? "&&" S?
orExpr ::= S? "||" S?

expression ::= (exprProperty | ESC escaped ESC) ((isnot | is) (exprProperty | regex | ESC escaped ESC))*
exprProperty ::= [a-zA-Z0-9-_ $]+
escaped ::= [^"]+
is ::= ":"
isnot ::= ":!"
ESC ::= '"'

pattern ::= S? "(" (SEP query | pattern (orPattern? pattern)*)* ")" quantifier? S? lookahead?
quantifier ::= "+" | "*" | [0-9]+
orPattern ::= S? "," S?

S ::= [ ]*
`,Nh=new $h.Parser(Th),Bh=t=>Nh.getAST(t),ge=0,Mt=3,kr=(t,e)=>`${t}/${e}`,Cl=Object.prototype.toString,Rh=/Object|Array/,ei=t=>Rh.test(Cl.call(t)),Lh=t=>Cl.call(t).match(/\s([^\]]+)\]/).pop().toLowerCase();function Al(t){return new RegExp(t.text.replace(/(^{|}$)/g,""))}function Mh(t,e){Array.isArray(t)?t.forEach(e):Object.prototype.toString.call(t)==="[object Object]"&&Object.keys(t).forEach(function(n){e(t[n],n,t)})}function Oo(t){return Array.isArray(t)?t.map(function(e,n){return`${n}`}):Object.prototype.toString.call(t)==="[object Object]"?Object.keys(t):[]}const nt={mem:[],get(t,e){const n=t[ge][e];if(!nt.mem.includes(n))return ei(n)&&nt.mem.push(n),[n,e,t[ge],kr(t[Mt],e)]},reset(){nt.mem.length=0}},ti={any(t,e){const n=e[ge];return Oo(n).map(r=>[n[r],r,n,kr(e[Mt],r)])},all(t,e){const n=[e];return Mh(e[ge],(r,s)=>{const i=nt.get(e,s);i&&n.push(...ti.all(t,i))}),n},regex(t,e){const n=Al(t),r=e[ge];return Oo(r).filter(s=>n.test(s)).map(s=>[r[s],s,r,kr(e[Mt],s)])}},Sr={escaped:(t,e)=>Sr.property(t,e),property:(t,e)=>{const n=t.text;if(e[ge]&&e[ge][n]!==void 0)return[e[ge][n],n,e[ge],kr(e[Mt],n)]},typecheck:(t,e)=>{const n=t.text.replace(/^\?:/,"");if(n==="value")return ei(e[ge])?void 0:e;if(Lh(e[ge])===n)return e},lookahead:(t,e)=>{let n=!0,r=!1;return t.children.forEach(s=>{if(s.type==="expression"){const i=Sr.expression(s,e)!==void 0;n=r===!0?n||i:n&&i}else r=s.type==="orExpr"}),n?e:void 0},expression:(t,e)=>{const n=t.children[0].text,r=t.children[1],s=t.children[2],i=e[ge];if(ei(i)!==!1)return jh(i[n],r,s)?e:void 0}};function jh(t,e,n){if(e===void 0)return t!==void 0;let r;const s=`${t}`;return n.type==="regex"?r=Al(n).test(s):r=s===n.text,e.type==="isnot"&&(r=r===!1&&t!==void 0),r}function Uh(t,e,n,r){const s=[];for(let i=0,o=e.length;i<o;i+=1)s.push(...t(n,e[i],n,r));return s}function zh(t,e,n,r){const s=[];for(let i=0,o=e.length;i<o;i+=1){const u=t(n,e[i],r);u&&s.push(u)}return s}function qh(t,e,n){let r=t;return e.children.forEach(s=>{if(ti[s.type])r=Uh(ti[s.type],r,s,n);else if(Sr[s.type])r=zh(Sr[s.type],r,s,n);else throw new Error(`Unknown filter ${s.type}`)}),r}function Gh(t,e,n){const r=[];let s=t;return e.children.forEach(i=>{if(i.type==="orPattern"){r.push(...s),s=t;return}s=Pi(s,i,n)}),r.push(...s),r}function Vh(t){if(t==null)return 1;if(t==="*"||t==="+")return 1/0;const e=parseInt(t);return isNaN(e)?1:e}function Kh(t,e,n){const r=[],s=e.children.find(l=>l.type==="quantifier"),i=Vh(s&&s.text);let o=t;s&&s.text==="*"&&r.push(...o);let u=0;for(;o.length>0&&u<i;)o=Gh(o,e,n),r.push(...o),u+=1;return r}function Wh(t,e,n){let r=t;return e.children.forEach(s=>r=Pi(r,s,n)),r}function Pi(t,e,n){let r;return e.type==="query"?r=qh(t,e,n):e.type==="pattern"?r=Kh(t,e,n):r=Wh(t,e,n),nt.reset(),nt.mem.push(t),r}function Jh(t,e){return nt.reset(),nt.mem.push(t),Pi([[t,null,null,"#"]],e)}const vo={value:t=>t.map(e=>e[ge]),pointer:t=>t.map(e=>e[Mt]),all:t=>t,map:t=>{const e={};return t.forEach(n=>e[n[Mt]]=n[ge]),e}};var Dt;(function(t){t.POINTER="pointer",t.VALUE="value",t.ALL="all",t.MAP="map"})(Dt||(Dt={}));In.POINTER=Dt.POINTER;In.VALUE=Dt.VALUE;In.ALL=Dt.ALL;In.MAP=Dt.MAP;function In(t,e,n=Dt.VALUE){if(e==null)return[];e=e.replace(/(\/$)/g,""),e===""&&(e="#");const r=Bh(e);if(r==null)throw new Error(`empty ast for '${e}'`);if(r.rest!=="")throw new Error(`Failed parsing queryString from: '${r.rest}'`);const s=Jh(t,r);return typeof n=="function"?s.map(i=>n(...i)):vo[n]?vo[n](s):s}var xr;(function(t){t.REPLACE_ITEMS="replace",t.INSERT_ITEMS="insert"})(xr||(xr={}));xr.REPLACE_ITEMS;xr.INSERT_ITEMS;const Ve={$ref:{type:!1},allOf:{type:!1,definitions:["allOf/*"]},anyOf:{type:!1,definitions:["anyOf/*"]},array:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not","items","items/*","additionalItems"],validationKeywords:["minItems","maxItems","uniqueItems"],keywords:["items","additionalItems","minItems","maxItems","uniqueItems"]},boolean:{type:!0},enum:{type:!1},integer:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minimum","maximum","multipleOf"]},not:{type:!1,definitions:["not"]},number:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minimum","maximum","multipleOf"]},null:{type:!0},object:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not","properties/*","additionalProperties","patternProperties/*","dependencies/*"],validationKeywords:["minProperties","maxProperties","required"],keywords:["properties","additionalProperties","patternProperties","dependencies","minProperties","maxProperties","required"]},oneOf:{type:!1,definitions:["oneOf/*"]},string:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minLength","maxLength","pattern"]}},Hh=Object.keys(Ve).filter(t=>Ve[t].type===!1),Po=Object.prototype.hasOwnProperty;function $o(t){if(tt(t)===!1)return;if(t.enum)return"enum";const e=t.type;if(Array.isArray(e)||Ve[e])return e;const n=Hh.filter(r=>t[r]);if(n.length===1)return n[0];if(n.length===0){for(let r=0,s=Ve.object.keywords.length;r<s;r+=1){const i=Ve.object.keywords[r];if(Po.call(t,i))return"object"}for(let r=0,s=Ve.array.keywords.length;r<s;r+=1){const i=Ve.array.keywords[r];if(Po.call(t,i))return"array"}return}throw new Error(`Mutiple typeIds [${n.join(", ")}] matched in ${JSON.stringify(t)}`)}function Qh(t){const e=[],n=$o(t);if(n==null)return e;let r;if(Array.isArray(n)){r={};for(let s=0,i=n.length;s<i;s+=1)Object.assign(r,Ve[n[s]])}else r=Ve[n];return r.definitions==null||r.definitions.forEach(s=>{In(t,s,(i,o,u,l)=>{tt(i)&&$o(i)&&e.push({pointer:bn.join(bn.split(l),!1),def:i})})}),e}function Yh(t,e){if(this.callback(t,e)===!0)return;Qh(t).forEach(r=>this.nextTypeDefs(r.def,bn.join(e,r.pointer,!1)))}function Gn(t,e,n,r="definitions"){const s=e[r];Object.keys(s).forEach(i=>{if(s[i]===!1||tt(s[i])){t.nextTypeDefs(s[i],bn.join(n,r,i,!1));return}})}function Qr(t,e,n="#"){const r={callback:e,nextTypeDefs:Yh};r.nextTypeDefs(t,n),t.definitions!=null&&(r.callback=(s,i)=>{e(s,i),s.definitions!=null&&Gn(r,s,i)},Gn(r,t,n)),t.$defs!=null&&(r.callback=(s,i)=>{e(s,i),s.definitions!=null&&Gn(r,s,i)},Gn(r,t,n,"$defs"))}const Zh=/(#|\/)+$/,Vn=/#$/,Xh=/^[^:]+:\/\/[^/]+\//,ed=/\/[^/]*$/,td=/#.*$/;function Fr(t,e){return t==null&&e==null?"#":e==null?t.replace(Vn,""):t==null?e.replace(Vn,""):e[0]==="#"?`${t.replace(td,"")}${e.replace(Zh,"")}`:Xh.test(e)?e.replace(Vn,""):`${t.replace(ed,"")}/${e.replace(Vn,"")}`}const tn=/(#|\/)+$/g,nd=["",null,"#"];function rd(t){if(nd.includes(t))return[];if(t=t.replace(tn,""),t.indexOf("#")===-1)return[t.replace(tn,"")];if(t.indexOf("#")===0)return[t.replace(tn,"")];const e=t.split("#");return e[0]=e[0].replace(tn,""),e[1]=`#${e[1].replace(tn,"")}`,e}const sd=/(#|\/)+$/g,id=t=>z(t)==="object";function qe(t,e,n){if(id(n)&&(n=n.__ref||n.$ref),n==null)return e;let r;const s=n.replace(sd,"");if(t.remotes[s])return r=t.remotes[s],r&&r.$ref?qe(t,e,r.$ref):r;if(t.ids[n])return r=ht.get(e,t.ids[n]),r&&r.$ref?qe(t,e,r.$ref):r;const i=rd(n);if(i.length===0)return e;if(i.length===1){if(n=i[0],t.remotes[n])return r=t.remotes[n],qe(t,e,r.$ref);if(t.ids[n])return r=ht.get(e,t.ids[n]),r&&r.$ref?qe(t,e,r.$ref):r}if(i.length===2){const o=i[0];if(n=i[1],t.remotes[o])return t.remotes[o].getRef?t.remotes[o].getRef(n):qe(t,t.remotes[o],n);if(t.ids[o])return qe(t,ht.get(e,t.ids[o]),n)}return r=ht.get(e,t.ids[n]||n),r&&r.$ref?qe(t,e,r.$ref):r}const Io="__compiled",To="__ref",od="getRef",ud="getRoot",ld=/(#|\/)+$/g;function ad(t,e,n=e,r=!1){if(!e||e[Io]!==void 0)return e;const s={ids:{},remotes:t.remotes},i=JSON.stringify(e),o=JSON.parse(i);if(Object.defineProperty(o,Io,{enumerable:!1,value:!0}),Object.defineProperty(o,od,{enumerable:!1,value:qe.bind(null,s,o)}),r===!1&&i.includes("$ref")===!1)return o;e!==n&&Object.defineProperty(o,"definitions",{enumerable:!1,value:Object.assign({},n.definitions,n.$defs,e.definitions,e.$defs)});const u={},l=()=>o;return Qr(o,(a,f)=>{var c;if(a.id){if(a.id.startsWith("http")&&/(allOf|anyOf|oneOf)\/\d+$/.test(f)){const y=f.replace(/\/(allOf|anyOf|oneOf)\/\d+$/,""),D=ht.get(o,y);a.id=(c=D.id)!==null&&c!==void 0?c:a.id}s.ids[a.id.replace(ld,"")]=f}f=`#${f}`.replace(/##+/,"#");const h=f.replace(/\/[^/]+$/,""),d=f.replace(/\/[^/]+\/[^/]+$/,""),p=u[h]||u[d],g=Fr(p,a.id);u[f]=g,s.ids[g]==null&&(s.ids[g]=f),a.$ref&&!a[To]&&(Object.defineProperty(a,To,{enumerable:!1,value:Fr(g,a.$ref)}),Object.defineProperty(a,ud,{enumerable:!1,value:l}))}),o}function kl(t,e,n,r=t.rootSchema,s="#"){r=t.resolveRef(r),n(r,e,s);const i=z(e);i==="object"?Object.keys(e).forEach(o=>{const u=t.step(o,r,e,s),l=e[o];t.each(l,n,u,`${s}/${o}`)}):i==="array"&&e.forEach((o,u)=>{const l=t.step(u,r,e,s);t.each(o,n,l,`${s}/${u}`)})}const Sl={additionalItemsError:P("AdditionalItemsError"),additionalPropertiesError:P("AdditionalPropertiesError"),anyOfError:P("AnyOfError"),allOfError:P("AllOfError"),constError:P("ConstError"),containsError:P("ContainsError"),containsArrayError:P("ContainsArrayError"),containsAnyError:P("ContainsAnyError"),enumError:P("EnumError"),forbiddenPropertyError:P("ForbiddenPropertyError"),formatURLError:P("FormatURLError"),formatURIError:P("FormatURIError"),formatURIReferenceError:P("FormatURIReferenceError"),formatURITemplateError:P("FormatURITemplateError"),formatDateError:P("FormatDateError"),formatDateTimeError:P("FormatDateTimeError"),formatEmailError:P("FormatEmailError"),formatHostnameError:P("FormatHostnameError"),formatIPV4Error:P("FormatIPV4Error"),formatIPV4LeadingZeroError:P("FormatIPV4LeadingZeroError"),formatIPV6Error:P("FormatIPV6Error"),formatIPV6LeadingZeroError:P("FormatIPV6LeadingZeroError"),formatJsonPointerError:P("FormatJsonPointerError"),formatRegExError:P("FormatRegExError"),formatTimeError:P("FormatTimeError"),invalidSchemaError:P("InvalidSchemaError"),invalidDataError:P("InvalidDataError"),invalidTypeError:P("InvalidTypeError"),invalidPropertyNameError:P("InvalidPropertyNameError"),maximumError:P("MaximumError"),maxItemsError:P("MaxItemsError"),maxLengthError:P("MaxLengthError"),maxPropertiesError:P("MaxPropertiesError"),minimumError:P("MinimumError"),minItemsError:P("MinItemsError"),minItemsOneError:P("MinItemsOneError"),minLengthError:P("MinLengthError"),minLengthOneError:P("MinLengthOneError"),minPropertiesError:P("MinPropertiesError"),missingDependencyError:P("MissingDependencyError"),missingOneOfPropertyError:P("MissingOneOfPropertyError"),multipleOfError:P("MultipleOfError"),multipleOneOfError:P("MultipleOneOfError"),noAdditionalPropertiesError:P("NoAdditionalPropertiesError"),notError:P("NotError"),oneOfError:P("OneOfError"),oneOfPropertyError:P("OneOfPropertyError"),patternError:P("PatternError"),patternPropertiesError:P("PatternPropertiesError"),requiredPropertyError:P("RequiredPropertyError"),schemaWarning:P("SchemaWarning"),typeError:P("TypeError"),undefinedValueError:P("UndefinedValueError"),uniqueItemsError:P("UniqueItemsError"),unknownPropertyError:P("UnknownPropertyError"),valueNotEmptyError:P("ValueNotEmptyError")};var Ss={exports:{}},No;function cd(){return No||(No=1,function(t){(function(e){e.exports.is_uri=r,e.exports.is_http_uri=s,e.exports.is_https_uri=i,e.exports.is_web_uri=o,e.exports.isUri=r,e.exports.isHttpUri=s,e.exports.isHttpsUri=i,e.exports.isWebUri=o;var n=function(u){var l=u.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return l};function r(u){if(u&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(u)&&!/%[^0-9a-f]/i.test(u)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(u)){var l=[],a="",f="",c="",h="",d="",p="";if(l=n(u),a=l[1],f=l[2],c=l[3],h=l[4],d=l[5],!!(a&&a.length&&c.length>=0)){if(f&&f.length){if(!(c.length===0||/^\//.test(c)))return}else if(/^\/\//.test(c))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(a.toLowerCase()))return p+=a+":",f&&f.length&&(p+="//"+f),p+=c,h&&h.length&&(p+="?"+h),d&&d.length&&(p+="#"+d),p}}}function s(u,l){if(r(u)){var a=[],f="",c="",h="",d="",p="",g="",y="";if(a=n(u),f=a[1],c=a[2],h=a[3],p=a[4],g=a[5],!!f){if(l){if(f.toLowerCase()!="https")return}else if(f.toLowerCase()!="http")return;if(c)return/:(\d+)$/.test(c)&&(d=c.match(/:(\d+)$/)[0],c=c.replace(/:\d+$/,"")),y+=f+":",y+="//"+c,d&&(y+=d),y+=h,p&&p.length&&(y+="?"+p),g&&g.length&&(y+="#"+g),y}}}function i(u){return s(u,!0)}function o(u){return s(u)||i(u)}})(t)}(Ss)),Ss.exports}var fd=cd();const Bo=Pn(fd);var ae={},fr={exports:{}},hd=fr.exports,Ro;function dd(){return Ro||(Ro=1,function(t){(function(e,n){t.exports?t.exports=n():e.nearley=n()})(hd,function(){function e(a,f,c){return this.id=++e.highestId,this.name=a,this.symbols=f,this.postprocess=c,this}e.highestId=0,e.prototype.toString=function(a){var f=typeof a>"u"?this.symbols.map(l).join(" "):this.symbols.slice(0,a).map(l).join(" ")+" â— "+this.symbols.slice(a).map(l).join(" ");return this.name+" â†’ "+f};function n(a,f,c,h){this.rule=a,this.dot=f,this.reference=c,this.data=[],this.wantedBy=h,this.isComplete=this.dot===a.symbols.length}n.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},n.prototype.nextState=function(a){var f=new n(this.rule,this.dot+1,this.reference,this.wantedBy);return f.left=this,f.right=a,f.isComplete&&(f.data=f.build(),f.right=void 0),f},n.prototype.build=function(){var a=[],f=this;do a.push(f.right.data),f=f.left;while(f.left);return a.reverse(),a},n.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,o.fail))};function r(a,f){this.grammar=a,this.index=f,this.states=[],this.wants={},this.scannable=[],this.completed={}}r.prototype.process=function(a){for(var f=this.states,c=this.wants,h=this.completed,d=0;d<f.length;d++){var p=f[d];if(p.isComplete){if(p.finish(),p.data!==o.fail){for(var g=p.wantedBy,y=g.length;y--;){var D=g[y];this.complete(D,p)}if(p.reference===this.index){var b=p.rule.name;(this.completed[b]=this.completed[b]||[]).push(p)}}}else{var b=p.rule.symbols[p.dot];if(typeof b!="string"){this.scannable.push(p);continue}if(c[b]){if(c[b].push(p),h.hasOwnProperty(b))for(var m=h[b],y=0;y<m.length;y++){var _=m[y];this.complete(p,_)}}else c[b]=[p],this.predict(b)}}},r.prototype.predict=function(a){for(var f=this.grammar.byName[a]||[],c=0;c<f.length;c++){var h=f[c],d=this.wants[a],p=new n(h,0,this.index,d);this.states.push(p)}},r.prototype.complete=function(a,f){var c=a.nextState(f);this.states.push(c)};function s(a,f){this.rules=a,this.start=f||this.rules[0].name;var c=this.byName={};this.rules.forEach(function(h){c.hasOwnProperty(h.name)||(c[h.name]=[]),c[h.name].push(h)})}s.fromCompiled=function(h,f){var c=h.Lexer;h.ParserStart&&(f=h.ParserStart,h=h.ParserRules);var h=h.map(function(p){return new e(p.name,p.symbols,p.postprocess)}),d=new s(h,f);return d.lexer=c,d};function i(){this.reset("")}i.prototype.reset=function(a,f){this.buffer=a,this.index=0,this.line=f?f.line:1,this.lastLineBreak=f?-f.col:0},i.prototype.next=function(){if(this.index<this.buffer.length){var a=this.buffer[this.index++];return a===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:a}}},i.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},i.prototype.formatError=function(a,f){var c=this.buffer;if(typeof c=="string"){var h=c.split(`
`).slice(Math.max(0,this.line-5),this.line),d=c.indexOf(`
`,this.index);d===-1&&(d=c.length);var p=this.index-this.lastLineBreak,g=String(this.line).length;return f+=" at line "+this.line+" col "+p+`:

`,f+=h.map(function(D,b){return y(this.line-h.length+b+1,g)+" "+D},this).join(`
`),f+=`
`+y("",g+p)+`^
`,f}else return f+" at index "+(this.index-1);function y(D,b){var m=String(D);return Array(b-m.length+1).join(" ")+m}};function o(a,f,c){if(a instanceof s)var h=a,c=f;else var h=s.fromCompiled(a,f);this.grammar=h,this.options={keepHistory:!1,lexer:h.lexer||new i};for(var d in c||{})this.options[d]=c[d];this.lexer=this.options.lexer,this.lexerState=void 0;var p=new r(h,0);this.table=[p],p.wants[h.start]=[],p.predict(h.start),p.process(),this.current=0}o.fail={},o.prototype.feed=function(a){var f=this.lexer;f.reset(a,this.lexerState);for(var c;;){try{if(c=f.next(),!c)break}catch(S){var g=new r(this.grammar,this.current+1);this.table.push(g);var h=new Error(this.reportLexerError(S));throw h.offset=this.current,h.token=S.token,h}var d=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var p=this.current+1,g=new r(this.grammar,p);this.table.push(g);for(var y=c.text!==void 0?c.text:c.value,D=f.constructor===i?c.value:c,b=d.scannable,m=b.length;m--;){var _=b[m],E=_.rule.symbols[_.dot];if(E.test?E.test(D):E.type?E.type===c.type:E.literal===y){var C=_.nextState({data:D,token:c,isToken:!0,reference:p-1});g.states.push(C)}}if(g.process(),g.states.length===0){var h=new Error(this.reportError(c));throw h.offset=this.current,h.token=c,h}this.options.keepHistory&&(d.lexerState=f.save()),this.current++}return d&&(this.lexerState=f.save()),this.results=this.finish(),this},o.prototype.reportLexerError=function(a){var f,c,h=a.token;return h?(f="input "+JSON.stringify(h.text[0])+" (lexer error)",c=this.lexer.formatError(h,"Syntax error")):(f="input (lexer error)",c=a.message),this.reportErrorCommon(c,f)},o.prototype.reportError=function(a){var f=(a.type?a.type+" token: ":"")+JSON.stringify(a.value!==void 0?a.value:a),c=this.lexer.formatError(a,"Syntax error");return this.reportErrorCommon(c,f)},o.prototype.reportErrorCommon=function(a,f){var c=[];c.push(a);var h=this.table.length-2,d=this.table[h],p=d.states.filter(function(y){var D=y.rule.symbols[y.dot];return D&&typeof D!="string"});if(p.length===0)c.push("Unexpected "+f+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(d.states,c);else{c.push("Unexpected "+f+`. Instead, I was expecting to see one of the following:
`);var g=p.map(function(y){return this.buildFirstStateStack(y,[])||[y]},this);g.forEach(function(y){var D=y[0],b=D.rule.symbols[D.dot],m=this.getSymbolDisplay(b);c.push("A "+m+" based on:"),this.displayStateStack(y,c)},this)}return c.push(""),c.join(`
`)},o.prototype.displayStateStack=function(a,f){for(var c,h=0,d=0;d<a.length;d++){var p=a[d],g=p.rule.toString(p.dot);g===c?h++:(h>0&&f.push("    ^ "+h+" more lines identical to this"),h=0,f.push("    "+g)),c=g}},o.prototype.getSymbolDisplay=function(a){return u(a)},o.prototype.buildFirstStateStack=function(a,f){if(f.indexOf(a)!==-1)return null;if(a.wantedBy.length===0)return[a];var c=a.wantedBy[0],h=[a].concat(f),d=this.buildFirstStateStack(c,h);return d===null?null:[a].concat(d)},o.prototype.save=function(){var a=this.table[this.current];return a.lexerState=this.lexerState,a},o.prototype.restore=function(a){var f=a.index;this.current=f,this.table[f]=a,this.table.splice(f+1),this.lexerState=a.lexerState,this.results=this.finish()},o.prototype.rewind=function(a){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[a])},o.prototype.finish=function(){var a=[],f=this.grammar.start,c=this.table[this.table.length-1];return c.states.forEach(function(h){h.rule.name===f&&h.dot===h.rule.symbols.length&&h.reference===0&&h.data!==o.fail&&a.push(h)}),a.map(function(h){return h.data})};function u(a){var f=typeof a;if(f==="string")return a;if(f==="object"){if(a.literal)return JSON.stringify(a.literal);if(a instanceof RegExp)return"character matching "+a;if(a.type)return a.type+" token";if(a.test)return"token matching "+String(a.test);throw new Error("Unknown symbol type: "+a)}}function l(a){var f=typeof a;if(f==="string")return a;if(f==="object"){if(a.literal)return JSON.stringify(a.literal);if(a instanceof RegExp)return a.toString();if(a.type)return"%"+a.type;if(a.test)return"<"+String(a.test)+">";throw new Error("Unknown symbol type: "+a)}}return{Parser:o,Grammar:s,Rule:e}})}(fr)),fr.exports}var Kn={},Lo;function pd(){if(Lo)return Kn;Lo=1,Object.defineProperty(Kn,"__esModule",{value:!0});function t(s){return s[0]}const e=s=>[].concat(...s.map(i=>Array.isArray(i)?e(i):i));function n(s){return s?Array.isArray(s)?e(s).join(""):s:""}const r={Lexer:void 0,ParserRules:[{name:"Reverse_path",symbols:["Path"]},{name:"Reverse_path$string$1",symbols:[{literal:"<"},{literal:">"}],postprocess:s=>s.join("")},{name:"Reverse_path",symbols:["Reverse_path$string$1"]},{name:"Forward_path$subexpression$1$subexpression$1",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:"@"}],postprocess:function(s){return s.join("")}},{name:"Forward_path$subexpression$1",symbols:["Forward_path$subexpression$1$subexpression$1","Domain",{literal:">"}]},{name:"Forward_path",symbols:["Forward_path$subexpression$1"]},{name:"Forward_path$subexpression$2",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:">"}],postprocess:function(s){return s.join("")}},{name:"Forward_path",symbols:["Forward_path$subexpression$2"]},{name:"Forward_path",symbols:["Path"]},{name:"Path$ebnf$1$subexpression$1",symbols:["A_d_l",{literal:":"}]},{name:"Path$ebnf$1",symbols:["Path$ebnf$1$subexpression$1"],postprocess:t},{name:"Path$ebnf$1",symbols:[],postprocess:()=>null},{name:"Path",symbols:[{literal:"<"},"Path$ebnf$1","Mailbox",{literal:">"}]},{name:"A_d_l$ebnf$1",symbols:[]},{name:"A_d_l$ebnf$1$subexpression$1",symbols:[{literal:","},"At_domain"]},{name:"A_d_l$ebnf$1",symbols:["A_d_l$ebnf$1","A_d_l$ebnf$1$subexpression$1"],postprocess:s=>s[0].concat([s[1]])},{name:"A_d_l",symbols:["At_domain","A_d_l$ebnf$1"]},{name:"At_domain",symbols:[{literal:"@"},"Domain"]},{name:"Domain$ebnf$1",symbols:[]},{name:"Domain$ebnf$1$subexpression$1",symbols:[{literal:"."},"sub_domain"]},{name:"Domain$ebnf$1",symbols:["Domain$ebnf$1","Domain$ebnf$1$subexpression$1"],postprocess:s=>s[0].concat([s[1]])},{name:"Domain",symbols:["sub_domain","Domain$ebnf$1"]},{name:"sub_domain",symbols:["U_label"]},{name:"Let_dig",symbols:["ALPHA_DIGIT"],postprocess:t},{name:"Ldh_str$ebnf$1",symbols:[]},{name:"Ldh_str$ebnf$1",symbols:["Ldh_str$ebnf$1","ALPHA_DIG_DASH"],postprocess:s=>s[0].concat([s[1]])},{name:"Ldh_str",symbols:["Ldh_str$ebnf$1","Let_dig"]},{name:"U_Let_dig",symbols:["ALPHA_DIGIT_U"],postprocess:t},{name:"U_Ldh_str$ebnf$1",symbols:[]},{name:"U_Ldh_str$ebnf$1",symbols:["U_Ldh_str$ebnf$1","ALPHA_DIG_DASH_U"],postprocess:s=>s[0].concat([s[1]])},{name:"U_Ldh_str",symbols:["U_Ldh_str$ebnf$1","U_Let_dig"]},{name:"U_label$ebnf$1$subexpression$1",symbols:["U_Ldh_str"]},{name:"U_label$ebnf$1",symbols:["U_label$ebnf$1$subexpression$1"],postprocess:t},{name:"U_label$ebnf$1",symbols:[],postprocess:()=>null},{name:"U_label",symbols:["U_Let_dig","U_label$ebnf$1"]},{name:"address_literal$subexpression$1",symbols:["IPv4_address_literal"]},{name:"address_literal$subexpression$1",symbols:["IPv6_address_literal"]},{name:"address_literal$subexpression$1",symbols:["General_address_literal"]},{name:"address_literal",symbols:[{literal:"["},"address_literal$subexpression$1",{literal:"]"}]},{name:"non_local_part",symbols:["Domain"],postprocess:function(s){return{DomainName:n(s[0])}}},{name:"non_local_part",symbols:["address_literal"],postprocess:function(s){return{AddressLiteral:n(s[0])}}},{name:"Mailbox",symbols:["Local_part",{literal:"@"},"non_local_part"],postprocess:function(s){return{localPart:n(s[0]),domainPart:n(s[2])}}},{name:"Local_part",symbols:["Dot_string"],postprocess:function(s){return{DotString:n(s[0])}}},{name:"Local_part",symbols:["Quoted_string"],postprocess:function(s){return{QuotedString:n(s[0])}}},{name:"Dot_string$ebnf$1",symbols:[]},{name:"Dot_string$ebnf$1$subexpression$1",symbols:[{literal:"."},"Atom"]},{name:"Dot_string$ebnf$1",symbols:["Dot_string$ebnf$1","Dot_string$ebnf$1$subexpression$1"],postprocess:s=>s[0].concat([s[1]])},{name:"Dot_string",symbols:["Atom","Dot_string$ebnf$1"]},{name:"Atom$ebnf$1",symbols:[/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/]},{name:"Atom$ebnf$1",symbols:["Atom$ebnf$1",/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/],postprocess:s=>s[0].concat([s[1]])},{name:"Atom",symbols:["Atom$ebnf$1"]},{name:"Quoted_string$ebnf$1",symbols:[]},{name:"Quoted_string$ebnf$1",symbols:["Quoted_string$ebnf$1","QcontentSMTP"],postprocess:s=>s[0].concat([s[1]])},{name:"Quoted_string",symbols:["DQUOTE","Quoted_string$ebnf$1","DQUOTE"]},{name:"QcontentSMTP",symbols:["qtextSMTP"]},{name:"QcontentSMTP",symbols:["quoted_pairSMTP"]},{name:"quoted_pairSMTP",symbols:[{literal:"\\"},/[\x20-\x7e]/]},{name:"qtextSMTP",symbols:[/[\x20-\x21\x23-\x5b\x5d-\x7e\u0080-\uFFFF]/],postprocess:t},{name:"IPv4_address_literal$macrocall$2",symbols:[{literal:"."},"Snum"]},{name:"IPv4_address_literal$macrocall$1",symbols:["IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2"]},{name:"IPv4_address_literal",symbols:["Snum","IPv4_address_literal$macrocall$1"]},{name:"IPv6_address_literal$subexpression$1",symbols:[/[iI]/,/[pP]/,/[vV]/,{literal:"6"},{literal:":"}],postprocess:function(s){return s.join("")}},{name:"IPv6_address_literal",symbols:["IPv6_address_literal$subexpression$1","IPv6_addr"]},{name:"General_address_literal$ebnf$1",symbols:["dcontent"]},{name:"General_address_literal$ebnf$1",symbols:["General_address_literal$ebnf$1","dcontent"],postprocess:s=>s[0].concat([s[1]])},{name:"General_address_literal",symbols:["Standardized_tag",{literal:":"},"General_address_literal$ebnf$1"]},{name:"Standardized_tag",symbols:["Ldh_str"]},{name:"dcontent",symbols:[/[\x21-\x5a\x5e-\x7e]/],postprocess:t},{name:"Snum",symbols:["DIGIT"]},{name:"Snum$subexpression$1",symbols:[/[1-9]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$1"]},{name:"Snum$subexpression$2",symbols:[{literal:"1"},"DIGIT","DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$2"]},{name:"Snum$subexpression$3",symbols:[{literal:"2"},/[0-4]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$3"]},{name:"Snum$subexpression$4",symbols:[{literal:"2"},{literal:"5"},/[0-5]/]},{name:"Snum",symbols:["Snum$subexpression$4"]},{name:"IPv6_addr",symbols:["IPv6_full"]},{name:"IPv6_addr",symbols:["IPv6_comp"]},{name:"IPv6_addr",symbols:["IPv6v4_full"]},{name:"IPv6_addr",symbols:["IPv6v4_comp"]},{name:"IPv6_hex",symbols:["HEXDIG"]},{name:"IPv6_hex$subexpression$1",symbols:["HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$1"]},{name:"IPv6_hex$subexpression$2",symbols:["HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$2"]},{name:"IPv6_hex$subexpression$3",symbols:["HEXDIG","HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$3"]},{name:"IPv6_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_full$macrocall$1",symbols:["IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2"]},{name:"IPv6_full",symbols:["IPv6_hex","IPv6_full$macrocall$1"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$1",symbols:["IPv6_comp$ebnf$1$subexpression$1"],postprocess:t},{name:"IPv6_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:s=>s.join("")},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$2$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$2",symbols:["IPv6_comp$ebnf$2$subexpression$1"],postprocess:t},{name:"IPv6_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6_comp",symbols:["IPv6_comp$ebnf$1","IPv6_comp$string$1","IPv6_comp$ebnf$2"]},{name:"IPv6v4_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_full$macrocall$1",symbols:["IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2"]},{name:"IPv6v4_full",symbols:["IPv6_hex","IPv6v4_full$macrocall$1",{literal:":"},"IPv4_address_literal"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6v4_comp$ebnf$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1"],postprocess:t},{name:"IPv6v4_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:s=>s.join("")},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",{literal:":"}]},{name:"IPv6v4_comp$ebnf$2",symbols:["IPv6v4_comp$ebnf$2$subexpression$1"],postprocess:t},{name:"IPv6v4_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp",symbols:["IPv6v4_comp$ebnf$1","IPv6v4_comp$string$1","IPv6v4_comp$ebnf$2","IPv4_address_literal"]},{name:"DIGIT",symbols:[/[0-9]/],postprocess:t},{name:"ALPHA_DIGIT_U",symbols:[/[0-9A-Za-z\u0080-\uFFFF]/],postprocess:t},{name:"ALPHA_DIGIT",symbols:[/[0-9A-Za-z]/],postprocess:t},{name:"ALPHA_DIG_DASH",symbols:[/[-0-9A-Za-z]/],postprocess:t},{name:"ALPHA_DIG_DASH_U",symbols:[/[-0-9A-Za-z\u0080-\uFFFF]/],postprocess:t},{name:"HEXDIG",symbols:[/[0-9A-Fa-f]/],postprocess:t},{name:"DQUOTE",symbols:[{literal:'"'}],postprocess:t}],ParserStart:"Reverse_path"};return Kn.default=r,Kn}var Mo;function md(){if(Mo)return ae;Mo=1;var t=ae&&ae.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ae,"__esModule",{value:!0}),ae.canonicalize=ae.canonicalize_quoted_string=ae.normalize=ae.normalize_dot_string=ae.parse=void 0;const e=dd(),n=t(pd());n.default.ParserStart="Mailbox";const r=e.Grammar.fromCompiled(n.default);function s(a){const f=new e.Parser(r);if(f.feed(a),f.results.length!==1)throw new Error("address parsing failed: ambiguous grammar");return f.results[0]}ae.parse=s;function i(a){return function(){const h=a.indexOf("+");return h===-1?a:a.substr(0,h)}().replace(/\./g,"").toLowerCase()}ae.normalize_dot_string=i;function o(a){var f,c;const h=s(a),d=(f=h.domainPart.AddressLiteral)!==null&&f!==void 0?f:h.domainPart.DomainName.toLowerCase();return`${(c=h.localPart.QuotedString)!==null&&c!==void 0?c:i(h.localPart.DotString)}@${d}`}ae.normalize=o;function u(a){return`"${a.substr(1).substr(0,a.length-2).replace(/(?:\\(.))/g,"$1").replace(/(?:(["\\]))/g,"\\$1")}"`}ae.canonicalize_quoted_string=u;function l(a){var f;const c=s(a),h=(f=c.domainPart.AddressLiteral)!==null&&f!==void 0?f:c.domainPart.DomainName.toLowerCase();return`${c.localPart.QuotedString?u(c.localPart.QuotedString):c.localPart.DotString}@${h}`}return ae.canonicalize=l,ae}var gd=md();const yd=new RegExp("^([0-9]+)-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\\.[0-9]+)?(([Zz])|([\\+|\\-]([01][0-9]|2[0-3]):[0-5][0-9]))$"),bd=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,Dd=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,_d=/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,Ed=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Cd=/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Ad=[0,31,28,31,30,31,30,31,31,30,31,30,31],kd=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Sd=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,xd=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Fd=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,xl={date:(t,e,n,r)=>{if(typeof n!="string"||n==="")return;const s=n.match(Ed);if(!s)return t.errors.formatDateTimeError({value:n,pointer:r,schema:e});const i=+s[1],o=+s[2],u=+s[3],l=i%4===0&&(i%100!==0||i%400===0);if(!(o>=1&&o<=12&&u>=1&&u<=(o==2&&l?29:Ad[o])))return t.errors.formatDateError({value:n,pointer:r,schema:e})},"date-time":(t,e,n,r)=>{if(!(typeof n!="string"||n===""))return n===""||yd.test(n)?new Date(n).toString()==="Invalid Date"?t.errors.formatDateTimeError({value:n,pointer:r,schema:e}):void 0:t.errors.formatDateTimeError({value:n,pointer:r,schema:e})},email:(t,e,n,r)=>{if(typeof n!="string"||n==="")return;if(n[0]==='"')return t.errors.formatEmailError({value:n,pointer:r,schema:e});const[s,i,...o]=n.split("@");if(!s||!i||o.length!==0||s.length>64||i.length>253)return t.errors.formatEmailError({value:n,pointer:r,schema:e});if(s[0]==="."||s.endsWith(".")||s.includes(".."))return t.errors.formatEmailError({value:n,pointer:r,schema:e});if(!/^[a-z0-9.-]+$/i.test(i)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(s))return t.errors.formatEmailError({value:n,pointer:r,schema:e});if(!i.split(".").every(u=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(u)))return t.errors.formatEmailError({value:n,pointer:r,schema:e})},"idn-email":(t,e,n,r)=>{if(!(typeof n!="string"||n===""))try{gd.parse(n);return}catch{return t.errors.formatEmailError({value:n,pointer:r,schema:e})}},hostname:(t,e,n,r)=>{if(typeof n=="string"&&!(n===""||_d.test(n)))return t.errors.formatHostnameError({value:n,pointer:r,schema:e})},ipv4:(t,e,n,r)=>{if(!(typeof n!="string"||n==="")){if(n&&n[0]==="0")return t.errors.formatIPV4LeadingZeroError({value:n,pointer:r,schema:e});if(!(n.length<=15&&bd.test(n)))return t.errors.formatIPV4Error({value:n,pointer:r,schema:e})}},ipv6:(t,e,n,r)=>{if(!(typeof n!="string"||n==="")){if(n&&n[0]==="0")return t.errors.formatIPV6LeadingZeroError({value:n,pointer:r,schema:e});if(!(n.length<=45&&Dd.test(n)))return t.errors.formatIPV6Error({value:n,pointer:r,schema:e})}},"json-pointer":(t,e,n,r)=>{if(!(typeof n!="string"||n==="")&&!kd.test(n))return t.errors.formatJsonPointerError({value:n,pointer:r,schema:e})},"relative-json-pointer":(t,e,n,r)=>{if(!(typeof n!="string"||n==="")&&!Sd.test(n))return t.errors.formatJsonPointerError({value:n,pointer:r,schema:e})},regex:(t,e,n,r)=>{if(typeof n=="string"&&/\\Z$/.test(n)===!1){try{new RegExp(n);return}catch{}return t.errors.formatRegExError({value:n,pointer:r,schema:e})}if(!(typeof n=="object"||typeof n=="number"||Array.isArray(n)))return t.errors.formatRegExError({value:n,pointer:r,schema:e})},time:(t,e,n,r)=>typeof n!="string"||n===""||n.match(Cd)?void 0:t.errors.formatDateTimeError({value:n,pointer:r,schema:e}),uri:(t,e,n,r)=>{if(!(typeof n!="string"||n==="")&&!Bo.isUri(n))return t.errors.formatURIError({value:n,pointer:r,schema:e})},"uri-reference":(t,e,n,r)=>{if(!(typeof n!="string"||n==="")&&!xd.test(n))return t.errors.formatURIReferenceError({value:n,pointer:r,schema:e})},"uri-template":(t,e,n,r)=>{if(!(typeof n!="string"||n==="")&&!Fd.test(n))return t.errors.formatURITemplateError({value:n,pointer:r,schema:e})},url:(t,e,n,r)=>{if(!(n===""||Bo.isWebUri(n)))return t.errors.formatURLError({value:n,pointer:r,schema:e})}},Fl={};function wl(t,e=Fl){const{pointer:n="#",data:r,schema:s=t.rootSchema,withSchemaWarning:i=!1}=e,o=bn.split(n),u=Ol(t,t.resolveRef(s),o,"#",r);if(!(!i&&(u==null?void 0:u.code)==="schema-warning"))return u}function Ol(t,e,n,r,s=Fl){if(n.length===0)return t.resolveRef(e);const i=n.shift();return e=t.step(i,e,s,r),le(e)?e:(s=s[i],Ol(t,e,n,`${r}/${i}`,s))}function wd(t){switch(z(t)){case"string":case"array":return(t==null?void 0:t.length)===0;case"null":case"undefined":return!0;case"object":return Object.keys(t).length===0;default:return!1}}const jo=Vt.templateDefaultOptions;let Ke;function xs(t,e){const{$ref:n}=t;return n==null?!0:(Ke[e]==null||Ke[e][n]==null?0:Ke[e][n])<Vt.GET_TEMPLATE_RECURSION_LIMIT}function Uo(t,e,n){const{$ref:r}=e;return r==null?e:(Ke[n]=Ke[n]||{},Ke[n][r]=Ke[n][r]||0,Ke[n][r]+=1,t.resolveRef(e))}function Od(t,e){if(t==="string")return JSON.stringify(e);if(typeof e!="string")return null;try{if(e=JSON.parse(e),typeof e===t)return e}catch{}return null}function vl(t,e,n,r,s){if(z(e)!=="object")return Object.assign({pointer:r},e);if(xs(e,r)===!1&&n==null)return!1;let i=Ar(Uo(t,e,r));if(Array.isArray(e.anyOf)&&e.anyOf.length>0){if(xs(e.anyOf[0],`${r}/anyOf/0`)){const o=Uo(t,e.anyOf[0],`${r}/anyOf/0`);i=Fi(i,o),i.pointer=e.anyOf[0].$ref||i.pointer}delete i.anyOf}if(Array.isArray(e.allOf)&&e.allOf.map((u,l)=>xs(u,`${r}/allOf/${l}`)).reduceRight((u,l)=>u&&l,!0)){const u=[];let l=Ar(n);for(let f=0;f<e.allOf.length;f+=1)u.push(dl(t,e.allOf[f],l)),l=we(t,l,{type:e.type,...u[f]},`${r}/allOf/${f}`,s);const a=ml(t,{allOf:u});a&&(i=fe(i,a))}return i.pointer=i.pointer||e.$ref||r,i}const zo=t=>t&&typeof t=="object";function we(t,e,n,r,s){var i;if(n==null)throw new Error(`getTemplate: missing schema for data: ${JSON.stringify(e)}`);if(r==null)throw new Error("Missing pointer");let o=vl(t,n,e,r,s);if(!zo(o))return;if(r=o.pointer,o!=null&&o.const)return o.const;if(Array.isArray(o.oneOf))if(wd(e)){const f=o.oneOf[0].type||o.type||o.const&&typeof o.const||z(e);o={...o.oneOf[0],type:f}}else{const f=xi(t,e,o);if(le(f)){if(e!=null&&s.removeInvalidData!==!0)return e;o=o.oneOf[0],e=void 0}else f.type=(i=f.type)!==null&&i!==void 0?i:o.type,o=f}if(!zo(o)||o.type==null)return;if(e instanceof File)return e;const u=Array.isArray(o.type)?vd(o.type,e,o.default):o.type,l=z(e);return e!=null&&l!==u&&!(l==="number"&&u==="integer")&&(e=Od(u,e)),qo[u]==null?s.removeInvalidData?void 0:e:qo[u](t,o,e,r,s)}function vd(t,e,n){if(e==null){if(n!=null){const s=z(n);if(t.includes(s))return s}return t[0]}const r=z(e);return t.includes(r)?r:t[0]}const qo={null:(t,e,n)=>nn(e,n,null),string:(t,e,n)=>nn(e,n,""),number:(t,e,n)=>nn(e,n,0),integer:(t,e,n)=>nn(e,n,0),boolean:(t,e,n)=>nn(e,n,!1),object:(t,e,n,r,s)=>{var i;const o=e.default===void 0?{}:e.default,u={},l=s.extendDefaults===!1&&e.default!==void 0?[]:(i=e.required)!==null&&i!==void 0?i:[];e.properties&&Object.keys(e.properties).forEach(c=>{const h=n==null||n[c]==null?o[c]:n[c],d=l.includes(c);(h!=null||d||s.addOptionalProps)&&(u[c]=we(t,h,e.properties[c],`${r}/properties/${c}`,s))});let a=yl(t,e,u);if(a){a=fe(e,a),delete a.dependencies;const c=we(t,n,a,`${r}/dependencies`,s);Object.assign(u,c)}n&&(s.removeInvalidData===!0&&(e.additionalProperties===!1||z(e.additionalProperties)==="object")?z(e.additionalProperties)==="object"&&Object.keys(n).forEach(c=>{u[c]==null&&t.isValid(n[c],e.additionalProperties)&&(u[c]=n[c])}):Object.keys(n).forEach(c=>u[c]==null&&(u[c]=n[c])));const f=Hr(t,e,u);if(f){const c=we(t,u,{type:"object",...f},r,s);Object.assign(u,c)}return u},array:(t,e,n,r,s)=>{var i,o;if(e.items==null)return n||[];const u=e.default===void 0?[]:e.default,l=n||u,a=s.extendDefaults===!1&&e.default!==void 0?0:e.minItems||0;if(Array.isArray(e.items)){for(let c=0,h=Math.max(a??0,(o=(i=e.items)===null||i===void 0?void 0:i.length)!==null&&o!==void 0?o:0);c<h;c+=1)l[c]=we(t,l[c]==null?u[c]:l[c],e.items[c],`${r}/items/${c}`,s);return l}if(z(e.items)!=="object")return l;const f=vl(t,e.items,n,r,s);if(f===!1)return l;if(r=f.pointer||r,f.oneOf&&l.length===0){const c=f.oneOf[0];for(let h=0;h<a;h+=1)l[h]=we(t,l[h]==null?u[h]:l[h],c,`${r}/oneOf/0`,s);return l}if(f.oneOf&&l.length>0){const c=Math.max(a,l.length);for(let h=0;h<c;h+=1){let d=l[h]==null?u[h]:l[h],p=xi(t,d,f);p==null||le(p)?d!=null&&s.removeInvalidData!==!0?l[h]=d:(d=void 0,p=f.oneOf[0],l[h]=we(t,d,p,`${r}/oneOf/${h}`,s)):l[h]=we(t,d,p,`${r}/oneOf/${h}`,s)}return l}if(f.type){for(let c=0,h=Math.max(a,l.length);c<h;c+=1)l[c]=we(t,l[c]==null?u[c]:l[c],f,`${r}/items`,s);return l}return l}};function nn(t,e,n){return e??(t.const?t.const:t.default===void 0&&Array.isArray(t.enum)?t.enum[0]:t.default===void 0?n:t.default)}const Pl=(t,e,n=t.rootSchema,r)=>(Ke={},r?we(t,e,n,"#",{...jo,...r}):we(t,e,n,"#",jo));function $l(t,e,n=t.rootSchema,r="#"){return t.validate(e,n,r).length===0}function Go(t){const e=[];let n=0;const r=t.length;for(;n<r;){const s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const i=t.charCodeAt(n++);(i&64512)==56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e}function Vo(t){const e=`${t}`,n=e.indexOf(".");return n===-1?0:e.length-(n+1)}var Fs,Ko;function Pd(){return Ko||(Ko=1,Fs=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),Fs}var $d=Pd();const Il=Pn($d),Id=Object.prototype.hasOwnProperty,Wo=(t,e)=>!(t[e]===void 0||!Id.call(t,e)),Tl={additionalProperties:(t,e,n,r)=>{if(e.additionalProperties===!0||e.additionalProperties==null||z(e.patternProperties)==="object"&&e.additionalProperties===!1)return;const s=[];let i=Object.keys(n).filter(u=>Vt.propertyBlacklist.includes(u)===!1);const o=Object.keys(e.properties||{});if(z(e.patternProperties)==="object"){const u=Object.keys(e.patternProperties).map(l=>new RegExp(l));i=i.filter(l=>{for(let a=0;a<u.length;a+=1)if(u[a].test(l))return!1;return!0})}for(let u=0,l=i.length;u<l;u+=1){const a=i[u];if(o.indexOf(a)===-1){const f=tt(e.additionalProperties);if(f&&Array.isArray(e.additionalProperties.oneOf)){const c=t.resolveOneOf(n[a],e.additionalProperties,`${r}/${a}`);le(c)?s.push(t.errors.additionalPropertiesError({pointer:r,schema:e.additionalProperties,value:n,property:i[u],properties:o,errors:c.data.errors})):s.push(...t.validate(n[a],c,r))}else f?s.push(...t.validate(n[a],e.additionalProperties,`${r}/${a}`)):s.push(t.errors.noAdditionalPropertiesError({pointer:r,schema:e,value:n,property:i[u],properties:o}))}}return s},allOf:Dh,anyOf:Ch,dependencies:Eh,enum:(t,e,n,r)=>{const s=z(n);if(s==="object"||s==="array"){const i=JSON.stringify(n);for(let o=0;o<e.enum.length;o+=1)if(JSON.stringify(e.enum[o])===i)return}else if(e.enum.includes(n))return;return t.errors.enumError({pointer:r,schema:e,value:n,values:e.enum})},format:(t,e,n,r)=>{if(t.validateFormat[e.format])return t.validateFormat[e.format](t,e,n,r)},items:(t,e,n,r)=>{if(e.items===!1)return Array.isArray(n)&&n.length===0?void 0:t.errors.invalidDataError({pointer:r,value:n,schema:e});const s=[];for(let i=0;i<n.length;i+=1){const o=n[i],u=t.step(i,e,n,r);if(le(u))return[u];const l=t.validate(o,u,`${r}/${i}`);s.push(...l)}return s},maximum:(t,e,n,r)=>{if(!isNaN(e.maximum)){if(e.maximum&&e.maximum<n)return t.errors.maximumError({maximum:e.maximum,length:n,value:n,pointer:r,schema:e});if(e.maximum&&e.exclusiveMaximum===!0&&e.maximum===n)return t.errors.maximumError({maximum:e.maximum,length:n,pointer:r,schema:e,value:n})}},maxItems:(t,e,n,r)=>{if(!isNaN(e.maxItems)&&e.maxItems<n.length)return t.errors.maxItemsError({maximum:e.maxItems,length:n.length,schema:e,value:n,pointer:r})},maxLength:(t,e,n,r)=>{if(isNaN(e.maxLength))return;const s=Go(n).length;if(e.maxLength<s)return t.errors.maxLengthError({maxLength:e.maxLength,length:s,pointer:r,schema:e,value:n})},maxProperties:(t,e,n,r)=>{const s=Object.keys(n).length;if(isNaN(e.maxProperties)===!1&&e.maxProperties<s)return t.errors.maxPropertiesError({maxProperties:e.maxProperties,length:s,pointer:r,schema:e,value:n})},minLength:(t,e,n,r)=>{if(isNaN(e.minLength))return;const s=Go(n).length;if(e.minLength>s)return e.minLength===1?t.errors.minLengthOneError({minLength:e.minLength,length:s,pointer:r,schema:e,value:n}):t.errors.minLengthError({minLength:e.minLength,length:s,pointer:r,schema:e,value:n})},minimum:(t,e,n,r)=>{if(!isNaN(e.minimum)){if(e.minimum>n)return t.errors.minimumError({minimum:e.minimum,length:n,pointer:r,schema:e,value:n});if(e.exclusiveMinimum===!0&&e.minimum===n)return t.errors.minimumError({minimum:e.minimum,length:n,pointer:r,schema:e,value:n})}},minItems:(t,e,n,r)=>{if(!isNaN(e.minItems)&&e.minItems>n.length)return e.minItems===1?t.errors.minItemsOneError({minItems:e.minItems,length:n.length,pointer:r,schema:e,value:n}):t.errors.minItemsError({minItems:e.minItems,length:n.length,pointer:r,schema:e,value:n})},minProperties:(t,e,n,r)=>{if(isNaN(e.minProperties))return;const s=Object.keys(n).length;if(e.minProperties>s)return t.errors.minPropertiesError({minProperties:e.minProperties,length:s,pointer:r,schema:e,value:n})},multipleOf:(t,e,n,r)=>{if(isNaN(e.multipleOf)||typeof n!="number")return;const s=Vo(n),i=Vo(e.multipleOf);if(s>i)return t.errors.multipleOfError({multipleOf:e.multipleOf,value:n,pointer:r,schema:e});const o=Math.pow(10,i),u=Math.round(n*o),l=Math.round(e.multipleOf*o);if(u%l/o!==0)return t.errors.multipleOfError({multipleOf:e.multipleOf,value:n,pointer:r,schema:e})},not:(t,e,n,r)=>{const s=[];return t.validate(n,e.not,r).length===0&&s.push(t.errors.notError({value:n,not:e.not,pointer:r,schema:e})),s},oneOf:If,pattern:(t,e,n,r)=>{if(new RegExp(e.pattern,"u").test(n)===!1)return t.errors.patternError({pattern:e.pattern,description:e.patternExample||e.pattern,received:n,schema:e,value:n,pointer:r})},patternProperties:(t,e,n,r)=>{const s=e.properties||{},i=e.patternProperties;if(z(i)!=="object")return;const o=[],u=Object.keys(n),l=Object.keys(i).map(a=>({regex:new RegExp(a),patternSchema:i[a]}));return u.forEach(a=>{let f=!1;for(let c=0,h=l.length;c<h;c+=1)if(l[c].regex.test(a)){f=!0;const d=t.validate(n[a],l[c].patternSchema,`${r}/${a}`);d&&d.length>0&&o.push(...d)}s[a]||f===!1&&e.additionalProperties===!1&&o.push(t.errors.patternPropertiesError({key:a,pointer:r,schema:e,value:n,patterns:Object.keys(i).join(",")}))}),o},properties:(t,e,n,r)=>{const s=[],i=Object.keys(e.properties||{});for(let o=0;o<i.length;o+=1){const u=i[o];if(Wo(n,u)){const l=t.step(u,e,n,r),a=t.validate(n[u],l,`${r}/${u}`);s.push(...a)}}return s},propertiesRequired:(t,e,n,r)=>{const s=[],i=Object.keys(e.properties||{});for(let o=0;o<i.length;o+=1){const u=i[o];if(n[u]===void 0)s.push(t.errors.requiredPropertyError({key:u,pointer:r,schema:e,value:n}));else{const l=t.step(u,e,n,r),a=t.validate(n[u],l,`${r}/${u}`);s.push(...a)}}return s},required:(t,e,n,r)=>{if(Array.isArray(e.required)!==!1)return e.required.map(s=>{if(!Wo(n,s))return t.errors.requiredPropertyError({key:s,pointer:r,schema:e,value:n})})},requiredNotEmpty:(t,e,n,r)=>{if(Array.isArray(e.required)!==!1)return e.required.map(s=>{if(n[s]==null||n[s]==="")return t.errors.valueNotEmptyError({property:s,pointer:`${r}/${s}`,schema:e,value:n})})},uniqueItems:(t,e,n,r)=>{if((Array.isArray(n)&&e.uniqueItems)===!1)return;const s=[],i=[];return n.forEach((o,u)=>{for(let l=u+1;l<n.length;l+=1)Il(o,n[l])&&!s.includes(l)&&(i.push(t.errors.uniqueItemsError({pointer:`${r}/${l}`,duplicatePointer:`${r}/${u}`,arrayPointer:r,value:JSON.stringify(o),schema:e})),s.push(l))}),i}};function Ne(t){if(t===void 0)return;const e={type:z(t)};return e.type==="object"&&tt(t)&&(e.properties={},Object.keys(t).forEach(n=>e.properties[n]=Ne(t[n]))),e.type==="array"&&Array.isArray(t)&&(t.length===1?e.items=Ne(t[0]):e.items=t.map(Ne)),e}const Td={array:(t,e,n,r,s)=>{const i=r==null?void 0:r[e],o=z(n.items);if(o==="object")return ko(t,n.items,i,`${s}/${e}`)||t.resolveRef(n.items);if(o==="array"){if(n.items[e]===!0)return Ne(i);if(n.items[e]===!1)return t.errors.invalidDataError({key:e,value:i,pointer:s,schema:n});if(n.items[e])return t.resolveRef(n.items[e]);if(n.additionalItems===!1)return t.errors.additionalItemsError({key:e,value:i,pointer:s,schema:n});if(n.additionalItems===!0||n.additionalItems===void 0)return Ne(i);if(z(n.additionalItems)==="object")return n.additionalItems;throw new Error(`Invalid schema ${JSON.stringify(n,null,2)} for ${JSON.stringify(r,null,2)}`)}return n.additionalItems!==!1&&i?Ne(i):new Error(`Invalid array schema for ${e} at ${s}`)},object:(t,e,n,r,s)=>{var i;n=ko(t,n,r,s);const o=(i=n==null?void 0:n.properties)===null||i===void 0?void 0:i[e];if(o!==void 0){if(o===!1)return t.errors.forbiddenPropertyError({property:e,value:r,pointer:s,schema:n});if(o===!0)return Ne(r==null?void 0:r[e]);const a=t.resolveRef(o);if(le(a))return a;if(a&&Array.isArray(a.oneOf)){const f=t.resolveOneOf(r[e],a,`${s}/${e}`);for(const c in a)c!=="oneOf"&&f[c]===void 0&&(f[c]=a[c]);return f}if(a)return a}const{patternProperties:u}=n;if(z(u)==="object"){let a;const f=Object.keys(u);for(let c=0,h=f.length;c<h;c+=1)if(a=new RegExp(f[c]),a.test(e))return u[f[c]]}const{additionalProperties:l}=n;return z(l)==="object"?n.additionalProperties:r&&(l===void 0||l===!0)?Ne(r[e]):t.errors.unknownPropertyError({property:e,value:r,pointer:`${s}`,schema:n})}};function Nl(t,e,n,r,s="#"){var i;const o=z(r);let u=(i=n.type)!==null&&i!==void 0?i:o;if(Array.isArray(u)){if(!u.includes(o))return t.errors.typeError({value:r,pointer:s,expected:n.type,received:o,schema:n});u=o}const l=Td[u];if(l){const a=l(t,`${e}`,n,r,s);return a===void 0?t.errors.schemaWarning({pointer:s,value:r,schema:n,key:e}):a}return new Error(`Unsupported schema type ${n.type} for key ${e}`)}function Bl(t,e,n=t.rootSchema){var r;if(n.oneOf)return n.oneOf.map(i=>t.resolveRef(i));if(!((r=n.items)===null||r===void 0)&&r.oneOf)return n.items.oneOf.map(i=>t.resolveRef(i));const s=t.step(e,n,{},"#");return le(s)?s:[s]}const Nd={array:(t,e,n,r)=>t.typeKeywords.array.filter(s=>e&&e[s]!=null).map(s=>t.validateKeyword[s](t,e,n,r)),object:(t,e,n,r)=>t.typeKeywords.object.filter(s=>e&&e[s]!=null).map(s=>t.validateKeyword[s](t,e,n,r)),string:(t,e,n,r)=>t.typeKeywords.string.filter(s=>e&&e[s]!=null).map(s=>t.validateKeyword[s](t,e,n,r)),integer:(t,e,n,r)=>t.typeKeywords.number.filter(s=>e&&e[s]!=null).map(s=>t.validateKeyword[s](t,e,n,r)),number:(t,e,n,r)=>t.typeKeywords.number.filter(s=>e&&e[s]!=null).map(s=>t.validateKeyword[s](t,e,n,r)),boolean:(t,e,n,r)=>t.typeKeywords.boolean.filter(s=>e&&e[s]!=null).map(s=>t.validateKeyword[s](t,e,n,r)),null:(t,e,n,r)=>t.typeKeywords.null.filter(s=>e&&e[s]!=null).map(s=>t.validateKeyword[s](t,e,n,r))};function Bd(t,e){const n=z(t);return n==="number"&&(e==="integer"||Array.isArray(e)&&e.includes("integer"))?Number.isInteger(t)||isNaN(t)?"integer":"number":n}function Rl(t,e,n=t.rootSchema,r="#"){if(n=t.resolveRef(n),z(n)==="boolean")return n?[]:[t.errors.invalidDataError({pointer:r,schema:n,value:e})];if(le(n))return[n];if(n.const!==void 0)return Il(n.const,e)?[]:[t.errors.constError({pointer:r,schema:n,value:e,expected:n.const})];const s=Bd(e,n.type),i=n.type||s;return s!==i&&(!Array.isArray(i)||!i.includes(s))?[t.errors.typeError({pointer:r,schema:n,value:e,received:s,expected:i})]:t.validateType[s]==null?[t.errors.invalidTypeError({pointer:r,schema:n,value:e,receivedType:s})]:gn(t.validateType[s](t,n,e,r)).filter(Cr)}const Rd={typeKeywords:{array:["allOf","anyOf","enum","items","maxItems","minItems","not","oneOf","uniqueItems"],boolean:["enum","not","allOf","anyOf","oneOf"],object:["additionalProperties","dependencies","enum","format","minProperties","maxProperties","patternProperties","properties","required","not","oneOf","allOf","anyOf"],string:["allOf","anyOf","enum","format","maxLength","minLength","not","oneOf","pattern"],number:["allOf","anyOf","enum","format","maximum","minimum","multipleOf","not","oneOf"],null:["allOf","anyOf","enum","format","not","oneOf"]},validateKeyword:Tl,validateType:Nd,validateFormat:xl,errors:Sl,addRemoteSchema:El,compileSchema:ad,createSchemaOf:Ne,each:kl,eachSchema:Qr,getChildSchemaSelection:Bl,getSchema:wl,getTemplate:Pl,isValid:$l,resolveAllOf:pl,resolveAnyOf:Dl,resolveOneOf:tl,resolveRef:gl,step:Nl,validate:Rl,templateDefaultOptions:Vt.templateDefaultOptions};class Ll extends _l{constructor(e,n={}){super(Fi(Rd,n),e)}}const Jo="__compiled",Ho="__ref",Ld="getRef",Md="getRoot",jd=/(#|\/)+$/g;function Ud(t,e,n=e,r=!1){if(e===!0||e===!1||e===void 0||e[Jo]!==void 0)return e;const s={ids:{},remotes:t.remotes},i=JSON.stringify(e),o=JSON.parse(i);if(Object.defineProperty(o,Jo,{enumerable:!1,value:!0}),Object.defineProperty(o,Ld,{enumerable:!1,value:qe.bind(null,s,o)}),r===!1&&i.includes("$ref")===!1)return o;o!==n&&Object.defineProperty(o,"$defs",{enumerable:!0,value:Object.assign({},n.definitions,n.$defs,o.definitions,o.$defs)});const u={},l=()=>o;return Qr(o,(a,f)=>{var c;if(a.$id){if(a.$id.startsWith("http")&&/(allOf|anyOf|oneOf)\/\d+$/.test(f)){const y=f.replace(/\/(allOf|anyOf|oneOf)\/\d+$/,""),D=ht.get(o,y);a.$id=(c=D.$id)!==null&&c!==void 0?c:a.$id}s.ids[a.$id.replace(jd,"")]=f}f=`#${f}`.replace(/##+/,"#");const h=f.replace(/\/[^/]+$/,""),d=f.replace(/\/[^/]+\/[^/]+$/,""),p=u[h]||u[d],g=Fr(p,a.$id);u[f]=g,s.ids[g]==null&&(s.ids[g]=f),a.$ref&&!a[Ho]&&(Object.defineProperty(a,Ho,{enumerable:!1,value:Fr(g,a.$ref)}),Object.defineProperty(a,Md,{enumerable:!1,value:l}))}),o}const zd={...Tl,contains:(t,e,n,r)=>{if(e.contains===!1)return t.errors.containsArrayError({pointer:r,value:n,schema:e});if(e.contains===!0)return Array.isArray(n)&&n.length===0?t.errors.containsAnyError({pointer:r,value:n,schema:e}):void 0;if(z(e.contains)==="object"){for(let s=0;s<n.length;s+=1)if(t.isValid(n[s],e.contains))return;return t.errors.containsError({pointer:r,schema:e,value:n})}},exclusiveMaximum:(t,e,n,r)=>{if(!isNaN(e.exclusiveMaximum)&&e.exclusiveMaximum<=n)return t.errors.maximumError({maximum:e.exclusiveMaximum,length:n,pointer:r,schema:e,value:n})},exclusiveMinimum:(t,e,n,r)=>{if(!isNaN(e.exclusiveMinimum)&&e.exclusiveMinimum>=n)return t.errors.minimumError({minimum:e.exclusiveMinimum,length:n,pointer:r,schema:e,value:n})},if:bh,maximum:(t,e,n,r)=>{if(!isNaN(e.maximum)&&e.maximum&&e.maximum<n)return t.errors.maximumError({maximum:e.maximum,length:n,pointer:r,schema:e,value:n})},minimum:(t,e,n,r)=>{if(!isNaN(e.minimum)&&e.minimum>n)return t.errors.minimumError({minimum:e.minimum,length:n,pointer:r,schema:e,value:n})},patternProperties:(t,e,n,r)=>{const s=e.properties||{},i=e.patternProperties;if(z(i)!=="object")return;const o=[],u=Object.keys(n),l=Object.keys(i).map(a=>({regex:new RegExp(a),patternSchema:i[a]}));return u.forEach(a=>{let f=!1;for(let c=0,h=l.length;c<h;c+=1)if(l[c].regex.test(a)){if(f=!0,l[c].patternSchema===!1){o.push(t.errors.patternPropertiesError({key:a,pointer:r,patterns:Object.keys(i).join(","),schema:e,value:n}));return}const d=t.validate(n[a],l[c].patternSchema,`${r}/${a}`);d&&d.length>0&&o.push(...d)}s[a]||f===!1&&e.additionalProperties===!1&&o.push(t.errors.patternPropertiesError({key:a,pointer:r,patterns:Object.keys(i).join(","),schema:e,value:n}))}),o},propertyNames:(t,e,n,r)=>{if(e.propertyNames===!1)return Object.keys(n).length===0?void 0:t.errors.invalidPropertyNameError({property:Object.keys(n),pointer:r,value:n,schema:e});if(e.propertyNames===!0||z(e.propertyNames)!=="object")return;const s=[],i=Object.keys(n),o={...e.propertyNames,type:"string"};return i.forEach(u=>{const l=t.validate(u,o,`${r}/${u}`);l.length>0&&s.push(t.errors.invalidPropertyNameError({property:u,pointer:r,validationError:l[0],value:n[u],schema:e}))}),s}},qd={array:(t,e,n,r)=>t.typeKeywords.array.filter(s=>e&&e[s]!=null).map(s=>t.validateKeyword[s](t,e,n,r)),object:(t,e,n,r)=>t.typeKeywords.object.filter(s=>e&&e[s]!=null).map(s=>t.validateKeyword[s](t,e,n,r)),string:(t,e,n,r)=>t.typeKeywords.string.filter(s=>e&&e[s]!=null).map(s=>t.validateKeyword[s](t,e,n,r)),integer:(t,e,n,r)=>t.typeKeywords.number.filter(s=>e&&e[s]!=null).map(s=>t.validateKeyword[s](t,e,n,r)),number:(t,e,n,r)=>t.typeKeywords.number.filter(s=>e&&e[s]!=null).map(s=>t.validateKeyword[s](t,e,n,r)),boolean:(t,e,n,r)=>t.typeKeywords.boolean.filter(s=>e&&e[s]!=null).map(s=>t.validateKeyword[s](t,e,n,r)),null:(t,e,n,r)=>t.typeKeywords.null.filter(s=>e&&e[s]!=null).map(s=>t.validateKeyword[s](t,e,n,r))},Ml={typeKeywords:{array:["allOf","anyOf","contains","enum","if","items","maxItems","minItems","not","oneOf","uniqueItems"],boolean:["allOf","anyOf","enum","not","oneOf"],object:["additionalProperties","allOf","anyOf","dependencies","enum","format","if","maxProperties","minProperties","not","oneOf","patternProperties","properties","propertyNames","required"],string:["allOf","anyOf","enum","format","if","maxLength","minLength","not","oneOf","pattern"],number:["allOf","anyOf","enum","exclusiveMaximum","exclusiveMinimum","format","if","maximum","minimum","multipleOf","not","oneOf"],null:["allOf","anyOf","enum","format","not","oneOf"]},validateKeyword:zd,validateType:qd,validateFormat:xl,errors:Sl,addRemoteSchema:El,compileSchema:Ud,createSchemaOf:Ne,each:kl,eachSchema:Qr,getChildSchemaSelection:Bl,getSchema:wl,getTemplate:Pl,isValid:$l,resolveAllOf:pl,resolveAnyOf:Dl,resolveOneOf:tl,resolveRef:gl,step:Nl,validate:Rl,templateDefaultOptions:Vt.templateDefaultOptions};class jl extends _l{constructor(e,n={}){super(Fi(Ml,n),e)}}({...Ml});function Te(t,e,n=[]){const r=document.createElement(t);return Object.entries(e).forEach(([s,i])=>{if(s==="text"){r.innerText=i;return}if(s==="inner"){r.innerHTML=i;return}r.setAttribute(s,i)}),n.forEach(s=>r.appendChild(s)),r}const Qo={};function Gd(t){let e=Qo[t];if(e)return e;e=Qo[t]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);e.push(r)}for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return e}function jt(t,e){typeof e!="string"&&(e=jt.defaultChars);const n=Gd(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(r){let s="";for(let i=0,o=r.length;i<o;i+=3){const u=parseInt(r.slice(i+1,i+3),16);if(u<128){s+=n[u];continue}if((u&224)===192&&i+3<o){const l=parseInt(r.slice(i+4,i+6),16);if((l&192)===128){const a=u<<6&1984|l&63;a<128?s+="ï¿½ï¿½":s+=String.fromCharCode(a),i+=3;continue}}if((u&240)===224&&i+6<o){const l=parseInt(r.slice(i+4,i+6),16),a=parseInt(r.slice(i+7,i+9),16);if((l&192)===128&&(a&192)===128){const f=u<<12&61440|l<<6&4032|a&63;f<2048||f>=55296&&f<=57343?s+="ï¿½ï¿½ï¿½":s+=String.fromCharCode(f),i+=6;continue}}if((u&248)===240&&i+9<o){const l=parseInt(r.slice(i+4,i+6),16),a=parseInt(r.slice(i+7,i+9),16),f=parseInt(r.slice(i+10,i+12),16);if((l&192)===128&&(a&192)===128&&(f&192)===128){let c=u<<18&1835008|l<<12&258048|a<<6&4032|f&63;c<65536||c>1114111?s+="ï¿½ï¿½ï¿½ï¿½":(c-=65536,s+=String.fromCharCode(55296+(c>>10),56320+(c&1023))),i+=9;continue}}s+="ï¿½"}return s})}jt.defaultChars=";/?:@&=+$,#";jt.componentChars="";const Yo={};function Vd(t){let e=Yo[t];if(e)return e;e=Yo[t]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);/^[0-9a-z]$/i.test(r)?e.push(r):e.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n];return e}function Tn(t,e,n){typeof e!="string"&&(n=e,e=Tn.defaultChars),typeof n>"u"&&(n=!0);const r=Vd(e);let s="";for(let i=0,o=t.length;i<o;i++){const u=t.charCodeAt(i);if(n&&u===37&&i+2<o&&/^[0-9a-f]{2}$/i.test(t.slice(i+1,i+3))){s+=t.slice(i,i+3),i+=2;continue}if(u<128){s+=r[u];continue}if(u>=55296&&u<=57343){if(u>=55296&&u<=56319&&i+1<o){const l=t.charCodeAt(i+1);if(l>=56320&&l<=57343){s+=encodeURIComponent(t[i]+t[i+1]),i++;continue}}s+="%EF%BF%BD";continue}s+=encodeURIComponent(t[i])}return s}Tn.defaultChars=";/?:@&=+$,-_.!~*'()#";Tn.componentChars="-_.!~*'()";function $i(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function wr(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const Kd=/^([a-z0-9.+-]+:)/i,Wd=/:[0-9]*$/,Jd=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Hd=["<",">",'"',"`"," ","\r",`
`,"	"],Qd=["{","}","|","\\","^","`"].concat(Hd),Yd=["'"].concat(Qd),Zo=["%","/","?",";","#"].concat(Yd),Xo=["/","?","#"],Zd=255,eu=/^[+a-z0-9A-Z_-]{0,63}$/,Xd=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,tu={javascript:!0,"javascript:":!0},nu={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Ii(t,e){if(t&&t instanceof wr)return t;const n=new wr;return n.parse(t,e),n}wr.prototype.parse=function(t,e){let n,r,s,i=t;if(i=i.trim(),!e&&t.split("#").length===1){const a=Jd.exec(i);if(a)return this.pathname=a[1],a[2]&&(this.search=a[2]),this}let o=Kd.exec(i);if(o&&(o=o[0],n=o.toLowerCase(),this.protocol=o,i=i.substr(o.length)),(e||o||i.match(/^\/\/[^@\/]+@[^@\/]+/))&&(s=i.substr(0,2)==="//",s&&!(o&&tu[o])&&(i=i.substr(2),this.slashes=!0)),!tu[o]&&(s||o&&!nu[o])){let a=-1;for(let p=0;p<Xo.length;p++)r=i.indexOf(Xo[p]),r!==-1&&(a===-1||r<a)&&(a=r);let f,c;a===-1?c=i.lastIndexOf("@"):c=i.lastIndexOf("@",a),c!==-1&&(f=i.slice(0,c),i=i.slice(c+1),this.auth=f),a=-1;for(let p=0;p<Zo.length;p++)r=i.indexOf(Zo[p]),r!==-1&&(a===-1||r<a)&&(a=r);a===-1&&(a=i.length),i[a-1]===":"&&a--;const h=i.slice(0,a);i=i.slice(a),this.parseHost(h),this.hostname=this.hostname||"";const d=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!d){const p=this.hostname.split(/\./);for(let g=0,y=p.length;g<y;g++){const D=p[g];if(D&&!D.match(eu)){let b="";for(let m=0,_=D.length;m<_;m++)D.charCodeAt(m)>127?b+="x":b+=D[m];if(!b.match(eu)){const m=p.slice(0,g),_=p.slice(g+1),E=D.match(Xd);E&&(m.push(E[1]),_.unshift(E[2])),_.length&&(i=_.join(".")+i),this.hostname=m.join(".");break}}}}this.hostname.length>Zd&&(this.hostname=""),d&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const u=i.indexOf("#");u!==-1&&(this.hash=i.substr(u),i=i.slice(0,u));const l=i.indexOf("?");return l!==-1&&(this.search=i.substr(l),i=i.slice(0,l)),i&&(this.pathname=i),nu[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};wr.prototype.parseHost=function(t){let e=Wd.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const ep=Object.freeze(Object.defineProperty({__proto__:null,decode:jt,encode:Tn,format:$i,parse:Ii},Symbol.toStringTag,{value:"Module"})),Ul=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,zl=/[\0-\x1F\x7F-\x9F]/,tp=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,Ti=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,ql=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Gl=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,np=Object.freeze(Object.defineProperty({__proto__:null,Any:Ul,Cc:zl,Cf:tp,P:Ti,S:ql,Z:Gl},Symbol.toStringTag,{value:"Module"}));function rp(t){return Object.prototype.toString.call(t)}function Ni(t){return rp(t)==="[object String]"}const sp=Object.prototype.hasOwnProperty;function ip(t,e){return sp.call(t,e)}function Yr(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(r){t[r]=n[r]})}}),t}function Vl(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}function Bi(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function Or(t){if(t>65535){t-=65536;const e=55296+(t>>10),n=56320+(t&1023);return String.fromCharCode(e,n)}return String.fromCharCode(t)}const Kl=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,op=/&([a-z#][a-z0-9]{1,31});/gi,up=new RegExp(Kl.source+"|"+op.source,"gi"),lp=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function ap(t,e){if(e.charCodeAt(0)===35&&lp.test(e)){const r=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return Bi(r)?Or(r):t}const n=Wu(t);return n!==t?n:t}function cp(t){return t.indexOf("\\")<0?t:t.replace(Kl,"$1")}function Ut(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(up,function(e,n,r){return n||ap(e,r)})}const fp=/[&<>"]/,hp=/[&<>"]/g,dp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function pp(t){return dp[t]}function st(t){return fp.test(t)?t.replace(hp,pp):t}const mp=/[.?*+^$[\]\\(){}|-]/g;function gp(t){return t.replace(mp,"\\$&")}function G(t){switch(t){case 9:case 32:return!0}return!1}function Dn(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function _n(t){return Ti.test(t)||ql.test(t)}function En(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Zr(t){return t=t.trim().replace(/\s+/g," "),"áºž".toLowerCase()==="á¹¾"&&(t=t.replace(/áºž/g,"ÃŸ")),t.toLowerCase().toUpperCase()}const yp={mdurl:ep,ucmicro:np},bp=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:Vl,assign:Yr,escapeHtml:st,escapeRE:gp,fromCodePoint:Or,has:ip,isMdAsciiPunct:En,isPunctChar:_n,isSpace:G,isString:Ni,isValidEntityCode:Bi,isWhiteSpace:Dn,lib:yp,normalizeReference:Zr,unescapeAll:Ut,unescapeMd:cp},Symbol.toStringTag,{value:"Module"}));function Dp(t,e,n){let r,s,i,o;const u=t.posMax,l=t.pos;for(t.pos=e+1,r=1;t.pos<u;){if(i=t.src.charCodeAt(t.pos),i===93&&(r--,r===0)){s=!0;break}if(o=t.pos,t.md.inline.skipToken(t),i===91){if(o===t.pos-1)r++;else if(n)return t.pos=l,-1}}let a=-1;return s&&(a=t.pos),t.pos=l,a}function _p(t,e,n){let r,s=e;const i={ok:!1,pos:0,str:""};if(t.charCodeAt(s)===60){for(s++;s<n;){if(r=t.charCodeAt(s),r===10||r===60)return i;if(r===62)return i.pos=s+1,i.str=Ut(t.slice(e+1,s)),i.ok=!0,i;if(r===92&&s+1<n){s+=2;continue}s++}return i}let o=0;for(;s<n&&(r=t.charCodeAt(s),!(r===32||r<32||r===127));){if(r===92&&s+1<n){if(t.charCodeAt(s+1)===32)break;s+=2;continue}if(r===40&&(o++,o>32))return i;if(r===41){if(o===0)break;o--}s++}return e===s||o!==0||(i.str=Ut(t.slice(e,s)),i.pos=s,i.ok=!0),i}function Ep(t,e,n,r){let s,i=e;const o={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)o.str=r.str,o.marker=r.marker;else{if(i>=n)return o;let u=t.charCodeAt(i);if(u!==34&&u!==39&&u!==40)return o;e++,i++,u===40&&(u=41),o.marker=u}for(;i<n;){if(s=t.charCodeAt(i),s===o.marker)return o.pos=i+1,o.str+=Ut(t.slice(e,i)),o.ok=!0,o;if(s===40&&o.marker===41)return o;s===92&&i+1<n&&i++,i++}return o.can_continue=!0,o.str+=Ut(t.slice(e,i)),o}const Cp=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:_p,parseLinkLabel:Dp,parseLinkTitle:Ep},Symbol.toStringTag,{value:"Module"})),je={};je.code_inline=function(t,e,n,r,s){const i=t[e];return"<code"+s.renderAttrs(i)+">"+st(i.content)+"</code>"};je.code_block=function(t,e,n,r,s){const i=t[e];return"<pre"+s.renderAttrs(i)+"><code>"+st(t[e].content)+`</code></pre>
`};je.fence=function(t,e,n,r,s){const i=t[e],o=i.info?Ut(i.info).trim():"";let u="",l="";if(o){const f=o.split(/(\s+)/g);u=f[0],l=f.slice(2).join("")}let a;if(n.highlight?a=n.highlight(i.content,u,l)||st(i.content):a=st(i.content),a.indexOf("<pre")===0)return a+`
`;if(o){const f=i.attrIndex("class"),c=i.attrs?i.attrs.slice():[];f<0?c.push(["class",n.langPrefix+u]):(c[f]=c[f].slice(),c[f][1]+=" "+n.langPrefix+u);const h={attrs:c};return`<pre><code${s.renderAttrs(h)}>${a}</code></pre>
`}return`<pre><code${s.renderAttrs(i)}>${a}</code></pre>
`};je.image=function(t,e,n,r,s){const i=t[e];return i.attrs[i.attrIndex("alt")][1]=s.renderInlineAsText(i.children,n,r),s.renderToken(t,e,n)};je.hardbreak=function(t,e,n){return n.xhtmlOut?`<br />
`:`<br>
`};je.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};je.text=function(t,e){return st(t[e].content)};je.html_block=function(t,e){return t[e].content};je.html_inline=function(t,e){return t[e].content};function Kt(){this.rules=Yr({},je)}Kt.prototype.renderAttrs=function(e){let n,r,s;if(!e.attrs)return"";for(s="",n=0,r=e.attrs.length;n<r;n++)s+=" "+st(e.attrs[n][0])+'="'+st(e.attrs[n][1])+'"';return s};Kt.prototype.renderToken=function(e,n,r){const s=e[n];let i="";if(s.hidden)return"";s.block&&s.nesting!==-1&&n&&e[n-1].hidden&&(i+=`
`),i+=(s.nesting===-1?"</":"<")+s.tag,i+=this.renderAttrs(s),s.nesting===0&&r.xhtmlOut&&(i+=" /");let o=!1;if(s.block&&(o=!0,s.nesting===1&&n+1<e.length)){const u=e[n+1];(u.type==="inline"||u.hidden||u.nesting===-1&&u.tag===s.tag)&&(o=!1)}return i+=o?`>
`:">",i};Kt.prototype.renderInline=function(t,e,n){let r="";const s=this.rules;for(let i=0,o=t.length;i<o;i++){const u=t[i].type;typeof s[u]<"u"?r+=s[u](t,i,e,n,this):r+=this.renderToken(t,i,e)}return r};Kt.prototype.renderInlineAsText=function(t,e,n){let r="";for(let s=0,i=t.length;s<i;s++)switch(t[s].type){case"text":r+=t[s].content;break;case"image":r+=this.renderInlineAsText(t[s].children,e,n);break;case"html_inline":case"html_block":r+=t[s].content;break;case"softbreak":case"hardbreak":r+=`
`;break}return r};Kt.prototype.render=function(t,e,n){let r="";const s=this.rules;for(let i=0,o=t.length;i<o;i++){const u=t[i].type;u==="inline"?r+=this.renderInline(t[i].children,e,n):typeof s[u]<"u"?r+=s[u](t,i,e,n,this):r+=this.renderToken(t,i,e,n)}return r};function be(){this.__rules__=[],this.__cache__=null}be.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};be.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(r){e.indexOf(r)<0&&e.push(r)})}),t.__cache__={},e.forEach(function(n){t.__cache__[n]=[],t.__rules__.forEach(function(r){r.enabled&&(n&&r.alt.indexOf(n)<0||t.__cache__[n].push(r.fn))})})};be.prototype.at=function(t,e,n){const r=this.__find__(t),s=n||{};if(r===-1)throw new Error("Parser rule not found: "+t);this.__rules__[r].fn=e,this.__rules__[r].alt=s.alt||[],this.__cache__=null};be.prototype.before=function(t,e,n,r){const s=this.__find__(t),i=r||{};if(s===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(s,0,{name:e,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null};be.prototype.after=function(t,e,n,r){const s=this.__find__(t),i=r||{};if(s===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(s+1,0,{name:e,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null};be.prototype.push=function(t,e,n){const r=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null};be.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(r){const s=this.__find__(r);if(s<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[s].enabled=!0,n.push(r)},this),this.__cache__=null,n};be.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(t,e)};be.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(r){const s=this.__find__(r);if(s<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[s].enabled=!1,n.push(r)},this),this.__cache__=null,n};be.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};function ve(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}ve.prototype.attrIndex=function(e){if(!this.attrs)return-1;const n=this.attrs;for(let r=0,s=n.length;r<s;r++)if(n[r][0]===e)return r;return-1};ve.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};ve.prototype.attrSet=function(e,n){const r=this.attrIndex(e),s=[e,n];r<0?this.attrPush(s):this.attrs[r]=s};ve.prototype.attrGet=function(e){const n=this.attrIndex(e);let r=null;return n>=0&&(r=this.attrs[n][1]),r};ve.prototype.attrJoin=function(e,n){const r=this.attrIndex(e);r<0?this.attrPush([e,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n};function Wl(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}Wl.prototype.Token=ve;const Ap=/\r\n?|\n/g,kp=/\0/g;function Sp(t){let e;e=t.src.replace(Ap,`
`),e=e.replace(kp,"ï¿½"),t.src=e}function xp(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}function Fp(t){const e=t.tokens;for(let n=0,r=e.length;n<r;n++){const s=e[n];s.type==="inline"&&t.md.inline.parse(s.content,t.md,t.env,s.children)}}function wp(t){return/^<a[>\s]/i.test(t)}function Op(t){return/^<\/a\s*>/i.test(t)}function vp(t){const e=t.tokens;if(t.md.options.linkify)for(let n=0,r=e.length;n<r;n++){if(e[n].type!=="inline"||!t.md.linkify.pretest(e[n].content))continue;let s=e[n].children,i=0;for(let o=s.length-1;o>=0;o--){const u=s[o];if(u.type==="link_close"){for(o--;s[o].level!==u.level&&s[o].type!=="link_open";)o--;continue}if(u.type==="html_inline"&&(wp(u.content)&&i>0&&i--,Op(u.content)&&i++),!(i>0)&&u.type==="text"&&t.md.linkify.test(u.content)){const l=u.content;let a=t.md.linkify.match(l);const f=[];let c=u.level,h=0;a.length>0&&a[0].index===0&&o>0&&s[o-1].type==="text_special"&&(a=a.slice(1));for(let d=0;d<a.length;d++){const p=a[d].url,g=t.md.normalizeLink(p);if(!t.md.validateLink(g))continue;let y=a[d].text;a[d].schema?a[d].schema==="mailto:"&&!/^mailto:/i.test(y)?y=t.md.normalizeLinkText("mailto:"+y).replace(/^mailto:/,""):y=t.md.normalizeLinkText(y):y=t.md.normalizeLinkText("http://"+y).replace(/^http:\/\//,"");const D=a[d].index;if(D>h){const E=new t.Token("text","",0);E.content=l.slice(h,D),E.level=c,f.push(E)}const b=new t.Token("link_open","a",1);b.attrs=[["href",g]],b.level=c++,b.markup="linkify",b.info="auto",f.push(b);const m=new t.Token("text","",0);m.content=y,m.level=c,f.push(m);const _=new t.Token("link_close","a",-1);_.level=--c,_.markup="linkify",_.info="auto",f.push(_),h=a[d].lastIndex}if(h<l.length){const d=new t.Token("text","",0);d.content=l.slice(h),d.level=c,f.push(d)}e[n].children=s=Vl(s,o,f)}}}}const Jl=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Pp=/\((c|tm|r)\)/i,$p=/\((c|tm|r)\)/ig,Ip={c:"Â©",r:"Â®",tm:"â„¢"};function Tp(t,e){return Ip[e.toLowerCase()]}function Np(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];r.type==="text"&&!e&&(r.content=r.content.replace($p,Tp)),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}function Bp(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];r.type==="text"&&!e&&Jl.test(r.content)&&(r.content=r.content.replace(/\+-/g,"Â±").replace(/\.{2,}/g,"â€¦").replace(/([?!])â€¦/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1â€”").replace(/(^|\s)--(?=\s|$)/mg,"$1â€“").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1â€“")),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}function Rp(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(Pp.test(t.tokens[e].content)&&Np(t.tokens[e].children),Jl.test(t.tokens[e].content)&&Bp(t.tokens[e].children))}const Lp=/['"]/,ru=/['"]/g,su="â€™";function Wn(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function Mp(t,e){let n;const r=[];for(let s=0;s<t.length;s++){const i=t[s],o=t[s].level;for(n=r.length-1;n>=0&&!(r[n].level<=o);n--);if(r.length=n+1,i.type!=="text")continue;let u=i.content,l=0,a=u.length;e:for(;l<a;){ru.lastIndex=l;const f=ru.exec(u);if(!f)break;let c=!0,h=!0;l=f.index+1;const d=f[0]==="'";let p=32;if(f.index-1>=0)p=u.charCodeAt(f.index-1);else for(n=s-1;n>=0&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n--)if(t[n].content){p=t[n].content.charCodeAt(t[n].content.length-1);break}let g=32;if(l<a)g=u.charCodeAt(l);else for(n=s+1;n<t.length&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n++)if(t[n].content){g=t[n].content.charCodeAt(0);break}const y=En(p)||_n(String.fromCharCode(p)),D=En(g)||_n(String.fromCharCode(g)),b=Dn(p),m=Dn(g);if(m?c=!1:D&&(b||y||(c=!1)),b?h=!1:y&&(m||D||(h=!1)),g===34&&f[0]==='"'&&p>=48&&p<=57&&(h=c=!1),c&&h&&(c=y,h=D),!c&&!h){d&&(i.content=Wn(i.content,f.index,su));continue}if(h)for(n=r.length-1;n>=0;n--){let _=r[n];if(r[n].level<o)break;if(_.single===d&&r[n].level===o){_=r[n];let E,C;d?(E=e.md.options.quotes[2],C=e.md.options.quotes[3]):(E=e.md.options.quotes[0],C=e.md.options.quotes[1]),i.content=Wn(i.content,f.index,C),t[_.token].content=Wn(t[_.token].content,_.pos,E),l+=C.length-1,_.token===s&&(l+=E.length-1),u=i.content,a=u.length,r.length=n;continue e}}c?r.push({token:s,pos:f.index,single:d,level:o}):h&&d&&(i.content=Wn(i.content,f.index,su))}}}function jp(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!Lp.test(t.tokens[e].content)||Mp(t.tokens[e].children,t)}function Up(t){let e,n;const r=t.tokens,s=r.length;for(let i=0;i<s;i++){if(r[i].type!=="inline")continue;const o=r[i].children,u=o.length;for(e=0;e<u;e++)o[e].type==="text_special"&&(o[e].type="text");for(e=n=0;e<u;e++)o[e].type==="text"&&e+1<u&&o[e+1].type==="text"?o[e+1].content=o[e].content+o[e+1].content:(e!==n&&(o[n]=o[e]),n++);e!==n&&(o.length=n)}}const ws=[["normalize",Sp],["block",xp],["inline",Fp],["linkify",vp],["replacements",Rp],["smartquotes",jp],["text_join",Up]];function Ri(){this.ruler=new be;for(let t=0;t<ws.length;t++)this.ruler.push(ws[t][0],ws[t][1])}Ri.prototype.process=function(t){const e=this.ruler.getRules("");for(let n=0,r=e.length;n<r;n++)e[n](t)};Ri.prototype.State=Wl;function Ue(t,e,n,r){this.src=t,this.md=e,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const s=this.src;for(let i=0,o=0,u=0,l=0,a=s.length,f=!1;o<a;o++){const c=s.charCodeAt(o);if(!f)if(G(c)){u++,c===9?l+=4-l%4:l++;continue}else f=!0;(c===10||o===a-1)&&(c!==10&&o++,this.bMarks.push(i),this.eMarks.push(o),this.tShift.push(u),this.sCount.push(l),this.bsCount.push(0),f=!1,u=0,l=0,i=o+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Ue.prototype.push=function(t,e,n){const r=new ve(t,e,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};Ue.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};Ue.prototype.skipEmptyLines=function(e){for(let n=this.lineMax;e<n&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};Ue.prototype.skipSpaces=function(e){for(let n=this.src.length;e<n;e++){const r=this.src.charCodeAt(e);if(!G(r))break}return e};Ue.prototype.skipSpacesBack=function(e,n){if(e<=n)return e;for(;e>n;)if(!G(this.src.charCodeAt(--e)))return e+1;return e};Ue.prototype.skipChars=function(e,n){for(let r=this.src.length;e<r&&this.src.charCodeAt(e)===n;e++);return e};Ue.prototype.skipCharsBack=function(e,n,r){if(e<=r)return e;for(;e>r;)if(n!==this.src.charCodeAt(--e))return e+1;return e};Ue.prototype.getLines=function(e,n,r,s){if(e>=n)return"";const i=new Array(n-e);for(let o=0,u=e;u<n;u++,o++){let l=0;const a=this.bMarks[u];let f=a,c;for(u+1<n||s?c=this.eMarks[u]+1:c=this.eMarks[u];f<c&&l<r;){const h=this.src.charCodeAt(f);if(G(h))h===9?l+=4-(l+this.bsCount[u])%4:l++;else if(f-a<this.tShift[u])l++;else break;f++}l>r?i[o]=new Array(l-r+1).join(" ")+this.src.slice(f,c):i[o]=this.src.slice(f,c)}return i.join("")};Ue.prototype.Token=ve;const zp=65536;function Os(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];return t.src.slice(n,r)}function iu(t){const e=[],n=t.length;let r=0,s=t.charCodeAt(r),i=!1,o=0,u="";for(;r<n;)s===124&&(i?(u+=t.substring(o,r-1),o=r):(e.push(u+t.substring(o,r)),u="",o=r+1)),i=s===92,r++,s=t.charCodeAt(r);return e.push(u+t.substring(o)),e}function qp(t,e,n,r){if(e+2>n)return!1;let s=e+1;if(t.sCount[s]<t.blkIndent||t.sCount[s]-t.blkIndent>=4)return!1;let i=t.bMarks[s]+t.tShift[s];if(i>=t.eMarks[s])return!1;const o=t.src.charCodeAt(i++);if(o!==124&&o!==45&&o!==58||i>=t.eMarks[s])return!1;const u=t.src.charCodeAt(i++);if(u!==124&&u!==45&&u!==58&&!G(u)||o===45&&G(u))return!1;for(;i<t.eMarks[s];){const _=t.src.charCodeAt(i);if(_!==124&&_!==45&&_!==58&&!G(_))return!1;i++}let l=Os(t,e+1),a=l.split("|");const f=[];for(let _=0;_<a.length;_++){const E=a[_].trim();if(!E){if(_===0||_===a.length-1)continue;return!1}if(!/^:?-+:?$/.test(E))return!1;E.charCodeAt(E.length-1)===58?f.push(E.charCodeAt(0)===58?"center":"right"):E.charCodeAt(0)===58?f.push("left"):f.push("")}if(l=Os(t,e).trim(),l.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4)return!1;a=iu(l),a.length&&a[0]===""&&a.shift(),a.length&&a[a.length-1]===""&&a.pop();const c=a.length;if(c===0||c!==f.length)return!1;if(r)return!0;const h=t.parentType;t.parentType="table";const d=t.md.block.ruler.getRules("blockquote"),p=t.push("table_open","table",1),g=[e,0];p.map=g;const y=t.push("thead_open","thead",1);y.map=[e,e+1];const D=t.push("tr_open","tr",1);D.map=[e,e+1];for(let _=0;_<a.length;_++){const E=t.push("th_open","th",1);f[_]&&(E.attrs=[["style","text-align:"+f[_]]]);const C=t.push("inline","",0);C.content=a[_].trim(),C.children=[],t.push("th_close","th",-1)}t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let b,m=0;for(s=e+2;s<n&&!(t.sCount[s]<t.blkIndent);s++){let _=!1;for(let C=0,S=d.length;C<S;C++)if(d[C](t,s,n,!0)){_=!0;break}if(_||(l=Os(t,s).trim(),!l)||t.sCount[s]-t.blkIndent>=4||(a=iu(l),a.length&&a[0]===""&&a.shift(),a.length&&a[a.length-1]===""&&a.pop(),m+=c-a.length,m>zp))break;if(s===e+2){const C=t.push("tbody_open","tbody",1);C.map=b=[e+2,0]}const E=t.push("tr_open","tr",1);E.map=[s,s+1];for(let C=0;C<c;C++){const S=t.push("td_open","td",1);f[C]&&(S.attrs=[["style","text-align:"+f[C]]]);const A=t.push("inline","",0);A.content=a[C]?a[C].trim():"",A.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return b&&(t.push("tbody_close","tbody",-1),b[1]=s),t.push("table_close","table",-1),g[1]=s,t.parentType=h,t.line=s,!0}function Gp(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1;let r=e+1,s=r;for(;r<n;){if(t.isEmpty(r)){r++;continue}if(t.sCount[r]-t.blkIndent>=4){r++,s=r;continue}break}t.line=s;const i=t.push("code_block","code",0);return i.content=t.getLines(e,s,4+t.blkIndent,!1)+`
`,i.map=[e,t.line],!0}function Vp(t,e,n,r){let s=t.bMarks[e]+t.tShift[e],i=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||s+3>i)return!1;const o=t.src.charCodeAt(s);if(o!==126&&o!==96)return!1;let u=s;s=t.skipChars(s,o);let l=s-u;if(l<3)return!1;const a=t.src.slice(u,s),f=t.src.slice(s,i);if(o===96&&f.indexOf(String.fromCharCode(o))>=0)return!1;if(r)return!0;let c=e,h=!1;for(;c++,!(c>=n||(s=u=t.bMarks[c]+t.tShift[c],i=t.eMarks[c],s<i&&t.sCount[c]<t.blkIndent));)if(t.src.charCodeAt(s)===o&&!(t.sCount[c]-t.blkIndent>=4)&&(s=t.skipChars(s,o),!(s-u<l)&&(s=t.skipSpaces(s),!(s<i)))){h=!0;break}l=t.sCount[e],t.line=c+(h?1:0);const d=t.push("fence","code",0);return d.info=f,d.content=t.getLines(e+1,c,l,!0),d.markup=a,d.map=[e,t.line],!0}function Kp(t,e,n,r){let s=t.bMarks[e]+t.tShift[e],i=t.eMarks[e];const o=t.lineMax;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(s)!==62)return!1;if(r)return!0;const u=[],l=[],a=[],f=[],c=t.md.block.ruler.getRules("blockquote"),h=t.parentType;t.parentType="blockquote";let d=!1,p;for(p=e;p<n;p++){const m=t.sCount[p]<t.blkIndent;if(s=t.bMarks[p]+t.tShift[p],i=t.eMarks[p],s>=i)break;if(t.src.charCodeAt(s++)===62&&!m){let E=t.sCount[p]+1,C,S;t.src.charCodeAt(s)===32?(s++,E++,S=!1,C=!0):t.src.charCodeAt(s)===9?(C=!0,(t.bsCount[p]+E)%4===3?(s++,E++,S=!1):S=!0):C=!1;let A=E;for(u.push(t.bMarks[p]),t.bMarks[p]=s;s<i;){const O=t.src.charCodeAt(s);if(G(O))O===9?A+=4-(A+t.bsCount[p]+(S?1:0))%4:A++;else break;s++}d=s>=i,l.push(t.bsCount[p]),t.bsCount[p]=t.sCount[p]+1+(C?1:0),a.push(t.sCount[p]),t.sCount[p]=A-E,f.push(t.tShift[p]),t.tShift[p]=s-t.bMarks[p];continue}if(d)break;let _=!1;for(let E=0,C=c.length;E<C;E++)if(c[E](t,p,n,!0)){_=!0;break}if(_){t.lineMax=p,t.blkIndent!==0&&(u.push(t.bMarks[p]),l.push(t.bsCount[p]),f.push(t.tShift[p]),a.push(t.sCount[p]),t.sCount[p]-=t.blkIndent);break}u.push(t.bMarks[p]),l.push(t.bsCount[p]),f.push(t.tShift[p]),a.push(t.sCount[p]),t.sCount[p]=-1}const g=t.blkIndent;t.blkIndent=0;const y=t.push("blockquote_open","blockquote",1);y.markup=">";const D=[e,0];y.map=D,t.md.block.tokenize(t,e,p);const b=t.push("blockquote_close","blockquote",-1);b.markup=">",t.lineMax=o,t.parentType=h,D[1]=t.line;for(let m=0;m<f.length;m++)t.bMarks[m+e]=u[m],t.tShift[m+e]=f[m],t.sCount[m+e]=a[m],t.bsCount[m+e]=l[m];return t.blkIndent=g,!0}function Wp(t,e,n,r){const s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let i=t.bMarks[e]+t.tShift[e];const o=t.src.charCodeAt(i++);if(o!==42&&o!==45&&o!==95)return!1;let u=1;for(;i<s;){const a=t.src.charCodeAt(i++);if(a!==o&&!G(a))return!1;a===o&&u++}if(u<3)return!1;if(r)return!0;t.line=e+1;const l=t.push("hr","hr",0);return l.map=[e,t.line],l.markup=Array(u+1).join(String.fromCharCode(o)),!0}function ou(t,e){const n=t.eMarks[e];let r=t.bMarks[e]+t.tShift[e];const s=t.src.charCodeAt(r++);if(s!==42&&s!==45&&s!==43)return-1;if(r<n){const i=t.src.charCodeAt(r);if(!G(i))return-1}return r}function uu(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];let s=n;if(s+1>=r)return-1;let i=t.src.charCodeAt(s++);if(i<48||i>57)return-1;for(;;){if(s>=r)return-1;if(i=t.src.charCodeAt(s++),i>=48&&i<=57){if(s-n>=10)return-1;continue}if(i===41||i===46)break;return-1}return s<r&&(i=t.src.charCodeAt(s),!G(i))?-1:s}function Jp(t,e){const n=t.level+2;for(let r=e+2,s=t.tokens.length-2;r<s;r++)t.tokens[r].level===n&&t.tokens[r].type==="paragraph_open"&&(t.tokens[r+2].hidden=!0,t.tokens[r].hidden=!0,r+=2)}function Hp(t,e,n,r){let s,i,o,u,l=e,a=!0;if(t.sCount[l]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[l]-t.listIndent>=4&&t.sCount[l]<t.blkIndent)return!1;let f=!1;r&&t.parentType==="paragraph"&&t.sCount[l]>=t.blkIndent&&(f=!0);let c,h,d;if((d=uu(t,l))>=0){if(c=!0,o=t.bMarks[l]+t.tShift[l],h=Number(t.src.slice(o,d-1)),f&&h!==1)return!1}else if((d=ou(t,l))>=0)c=!1;else return!1;if(f&&t.skipSpaces(d)>=t.eMarks[l])return!1;if(r)return!0;const p=t.src.charCodeAt(d-1),g=t.tokens.length;c?(u=t.push("ordered_list_open","ol",1),h!==1&&(u.attrs=[["start",h]])):u=t.push("bullet_list_open","ul",1);const y=[l,0];u.map=y,u.markup=String.fromCharCode(p);let D=!1;const b=t.md.block.ruler.getRules("list"),m=t.parentType;for(t.parentType="list";l<n;){i=d,s=t.eMarks[l];const _=t.sCount[l]+d-(t.bMarks[l]+t.tShift[l]);let E=_;for(;i<s;){const v=t.src.charCodeAt(i);if(v===9)E+=4-(E+t.bsCount[l])%4;else if(v===32)E++;else break;i++}const C=i;let S;C>=s?S=1:S=E-_,S>4&&(S=1);const A=_+S;u=t.push("list_item_open","li",1),u.markup=String.fromCharCode(p);const O=[l,0];u.map=O,c&&(u.info=t.src.slice(o,d-1));const N=t.tight,V=t.tShift[l],$=t.sCount[l],x=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=A,t.tight=!0,t.tShift[l]=C-t.bMarks[l],t.sCount[l]=E,C>=s&&t.isEmpty(l+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,l,n,!0),(!t.tight||D)&&(a=!1),D=t.line-l>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=x,t.tShift[l]=V,t.sCount[l]=$,t.tight=N,u=t.push("list_item_close","li",-1),u.markup=String.fromCharCode(p),l=t.line,O[1]=l,l>=n||t.sCount[l]<t.blkIndent||t.sCount[l]-t.blkIndent>=4)break;let w=!1;for(let v=0,M=b.length;v<M;v++)if(b[v](t,l,n,!0)){w=!0;break}if(w)break;if(c){if(d=uu(t,l),d<0)break;o=t.bMarks[l]+t.tShift[l]}else if(d=ou(t,l),d<0)break;if(p!==t.src.charCodeAt(d-1))break}return c?u=t.push("ordered_list_close","ol",-1):u=t.push("bullet_list_close","ul",-1),u.markup=String.fromCharCode(p),y[1]=l,t.line=l,t.parentType=m,a&&Jp(t,g),!0}function Qp(t,e,n,r){let s=t.bMarks[e]+t.tShift[e],i=t.eMarks[e],o=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(s)!==91)return!1;function u(b){const m=t.lineMax;if(b>=m||t.isEmpty(b))return null;let _=!1;if(t.sCount[b]-t.blkIndent>3&&(_=!0),t.sCount[b]<0&&(_=!0),!_){const S=t.md.block.ruler.getRules("reference"),A=t.parentType;t.parentType="reference";let O=!1;for(let N=0,V=S.length;N<V;N++)if(S[N](t,b,m,!0)){O=!0;break}if(t.parentType=A,O)return null}const E=t.bMarks[b]+t.tShift[b],C=t.eMarks[b];return t.src.slice(E,C+1)}let l=t.src.slice(s,i+1);i=l.length;let a=-1;for(s=1;s<i;s++){const b=l.charCodeAt(s);if(b===91)return!1;if(b===93){a=s;break}else if(b===10){const m=u(o);m!==null&&(l+=m,i=l.length,o++)}else if(b===92&&(s++,s<i&&l.charCodeAt(s)===10)){const m=u(o);m!==null&&(l+=m,i=l.length,o++)}}if(a<0||l.charCodeAt(a+1)!==58)return!1;for(s=a+2;s<i;s++){const b=l.charCodeAt(s);if(b===10){const m=u(o);m!==null&&(l+=m,i=l.length,o++)}else if(!G(b))break}const f=t.md.helpers.parseLinkDestination(l,s,i);if(!f.ok)return!1;const c=t.md.normalizeLink(f.str);if(!t.md.validateLink(c))return!1;s=f.pos;const h=s,d=o,p=s;for(;s<i;s++){const b=l.charCodeAt(s);if(b===10){const m=u(o);m!==null&&(l+=m,i=l.length,o++)}else if(!G(b))break}let g=t.md.helpers.parseLinkTitle(l,s,i);for(;g.can_continue;){const b=u(o);if(b===null)break;l+=b,s=i,i=l.length,o++,g=t.md.helpers.parseLinkTitle(l,s,i,g)}let y;for(s<i&&p!==s&&g.ok?(y=g.str,s=g.pos):(y="",s=h,o=d);s<i;){const b=l.charCodeAt(s);if(!G(b))break;s++}if(s<i&&l.charCodeAt(s)!==10&&y)for(y="",s=h,o=d;s<i;){const b=l.charCodeAt(s);if(!G(b))break;s++}if(s<i&&l.charCodeAt(s)!==10)return!1;const D=Zr(l.slice(1,a));return D?(r||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[D]>"u"&&(t.env.references[D]={title:y,href:c}),t.line=o),!0):!1}const Yp=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Zp="[a-zA-Z_:][a-zA-Z0-9:._-]*",Xp="[^\"'=<>`\\x00-\\x20]+",em="'[^']*'",tm='"[^"]*"',nm="(?:"+Xp+"|"+em+"|"+tm+")",rm="(?:\\s+"+Zp+"(?:\\s*=\\s*"+nm+")?)",Hl="<[A-Za-z][A-Za-z0-9\\-]*"+rm+"*\\s*\\/?>",Ql="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",sm="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",im="<[?][\\s\\S]*?[?]>",om="<![A-Za-z][^>]*>",um="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",lm=new RegExp("^(?:"+Hl+"|"+Ql+"|"+sm+"|"+im+"|"+om+"|"+um+")"),am=new RegExp("^(?:"+Hl+"|"+Ql+")"),kt=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+Yp.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(am.source+"\\s*$"),/^$/,!1]];function cm(t,e,n,r){let s=t.bMarks[e]+t.tShift[e],i=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(s)!==60)return!1;let o=t.src.slice(s,i),u=0;for(;u<kt.length&&!kt[u][0].test(o);u++);if(u===kt.length)return!1;if(r)return kt[u][2];let l=e+1;if(!kt[u][1].test(o)){for(;l<n&&!(t.sCount[l]<t.blkIndent);l++)if(s=t.bMarks[l]+t.tShift[l],i=t.eMarks[l],o=t.src.slice(s,i),kt[u][1].test(o)){o.length!==0&&l++;break}}t.line=l;const a=t.push("html_block","",0);return a.map=[e,l],a.content=t.getLines(e,l,t.blkIndent,!0),!0}function fm(t,e,n,r){let s=t.bMarks[e]+t.tShift[e],i=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let o=t.src.charCodeAt(s);if(o!==35||s>=i)return!1;let u=1;for(o=t.src.charCodeAt(++s);o===35&&s<i&&u<=6;)u++,o=t.src.charCodeAt(++s);if(u>6||s<i&&!G(o))return!1;if(r)return!0;i=t.skipSpacesBack(i,s);const l=t.skipCharsBack(i,35,s);l>s&&G(t.src.charCodeAt(l-1))&&(i=l),t.line=e+1;const a=t.push("heading_open","h"+String(u),1);a.markup="########".slice(0,u),a.map=[e,t.line];const f=t.push("inline","",0);f.content=t.src.slice(s,i).trim(),f.map=[e,t.line],f.children=[];const c=t.push("heading_close","h"+String(u),-1);return c.markup="########".slice(0,u),!0}function hm(t,e,n){const r=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const s=t.parentType;t.parentType="paragraph";let i=0,o,u=e+1;for(;u<n&&!t.isEmpty(u);u++){if(t.sCount[u]-t.blkIndent>3)continue;if(t.sCount[u]>=t.blkIndent){let d=t.bMarks[u]+t.tShift[u];const p=t.eMarks[u];if(d<p&&(o=t.src.charCodeAt(d),(o===45||o===61)&&(d=t.skipChars(d,o),d=t.skipSpaces(d),d>=p))){i=o===61?1:2;break}}if(t.sCount[u]<0)continue;let h=!1;for(let d=0,p=r.length;d<p;d++)if(r[d](t,u,n,!0)){h=!0;break}if(h)break}if(!i)return!1;const l=t.getLines(e,u,t.blkIndent,!1).trim();t.line=u+1;const a=t.push("heading_open","h"+String(i),1);a.markup=String.fromCharCode(o),a.map=[e,t.line];const f=t.push("inline","",0);f.content=l,f.map=[e,t.line-1],f.children=[];const c=t.push("heading_close","h"+String(i),-1);return c.markup=String.fromCharCode(o),t.parentType=s,!0}function dm(t,e,n){const r=t.md.block.ruler.getRules("paragraph"),s=t.parentType;let i=e+1;for(t.parentType="paragraph";i<n&&!t.isEmpty(i);i++){if(t.sCount[i]-t.blkIndent>3||t.sCount[i]<0)continue;let a=!1;for(let f=0,c=r.length;f<c;f++)if(r[f](t,i,n,!0)){a=!0;break}if(a)break}const o=t.getLines(e,i,t.blkIndent,!1).trim();t.line=i;const u=t.push("paragraph_open","p",1);u.map=[e,t.line];const l=t.push("inline","",0);return l.content=o,l.map=[e,t.line],l.children=[],t.push("paragraph_close","p",-1),t.parentType=s,!0}const Jn=[["table",qp,["paragraph","reference"]],["code",Gp],["fence",Vp,["paragraph","reference","blockquote","list"]],["blockquote",Kp,["paragraph","reference","blockquote","list"]],["hr",Wp,["paragraph","reference","blockquote","list"]],["list",Hp,["paragraph","reference","blockquote"]],["reference",Qp],["html_block",cm,["paragraph","reference","blockquote"]],["heading",fm,["paragraph","reference","blockquote"]],["lheading",hm],["paragraph",dm]];function Xr(){this.ruler=new be;for(let t=0;t<Jn.length;t++)this.ruler.push(Jn[t][0],Jn[t][1],{alt:(Jn[t][2]||[]).slice()})}Xr.prototype.tokenize=function(t,e,n){const r=this.ruler.getRules(""),s=r.length,i=t.md.options.maxNesting;let o=e,u=!1;for(;o<n&&(t.line=o=t.skipEmptyLines(o),!(o>=n||t.sCount[o]<t.blkIndent));){if(t.level>=i){t.line=n;break}const l=t.line;let a=!1;for(let f=0;f<s;f++)if(a=r[f](t,o,n,!1),a){if(l>=t.line)throw new Error("block rule didn't increment state.line");break}if(!a)throw new Error("none of the block rules matched");t.tight=!u,t.isEmpty(t.line-1)&&(u=!0),o=t.line,o<n&&t.isEmpty(o)&&(u=!0,o++,t.line=o)}};Xr.prototype.parse=function(t,e,n,r){if(!t)return;const s=new this.State(t,e,n,r);this.tokenize(s,s.line,s.lineMax)};Xr.prototype.State=Ue;function Nn(t,e,n,r){this.src=t,this.env=n,this.md=e,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}Nn.prototype.pushPending=function(){const t=new ve("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};Nn.prototype.push=function(t,e,n){this.pending&&this.pushPending();const r=new ve(t,e,n);let s=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],s={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(s),r};Nn.prototype.scanDelims=function(t,e){const n=this.posMax,r=this.src.charCodeAt(t),s=t>0?this.src.charCodeAt(t-1):32;let i=t;for(;i<n&&this.src.charCodeAt(i)===r;)i++;const o=i-t,u=i<n?this.src.charCodeAt(i):32,l=En(s)||_n(String.fromCharCode(s)),a=En(u)||_n(String.fromCharCode(u)),f=Dn(s),c=Dn(u),h=!c&&(!a||f||l),d=!f&&(!l||c||a);return{can_open:h&&(e||!d||l),can_close:d&&(e||!h||a),length:o}};Nn.prototype.Token=ve;function pm(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function mm(t,e){let n=t.pos;for(;n<t.posMax&&!pm(t.src.charCodeAt(n));)n++;return n===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}const gm=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function ym(t,e){if(!t.md.options.linkify||t.linkLevel>0)return!1;const n=t.pos,r=t.posMax;if(n+3>r||t.src.charCodeAt(n)!==58||t.src.charCodeAt(n+1)!==47||t.src.charCodeAt(n+2)!==47)return!1;const s=t.pending.match(gm);if(!s)return!1;const i=s[1],o=t.md.linkify.matchAtStart(t.src.slice(n-i.length));if(!o)return!1;let u=o.url;if(u.length<=i.length)return!1;u=u.replace(/\*+$/,"");const l=t.md.normalizeLink(u);if(!t.md.validateLink(l))return!1;if(!e){t.pending=t.pending.slice(0,-i.length);const a=t.push("link_open","a",1);a.attrs=[["href",l]],a.markup="linkify",a.info="auto";const f=t.push("text","",0);f.content=t.md.normalizeLinkText(u);const c=t.push("link_close","a",-1);c.markup="linkify",c.info="auto"}return t.pos+=u.length-i.length,!0}function bm(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==10)return!1;const r=t.pending.length-1,s=t.posMax;if(!e)if(r>=0&&t.pending.charCodeAt(r)===32)if(r>=1&&t.pending.charCodeAt(r-1)===32){let i=r-1;for(;i>=1&&t.pending.charCodeAt(i-1)===32;)i--;t.pending=t.pending.slice(0,i),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(n++;n<s&&G(t.src.charCodeAt(n));)n++;return t.pos=n,!0}const Li=[];for(let t=0;t<256;t++)Li.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){Li[t.charCodeAt(0)]=1});function Dm(t,e){let n=t.pos;const r=t.posMax;if(t.src.charCodeAt(n)!==92||(n++,n>=r))return!1;let s=t.src.charCodeAt(n);if(s===10){for(e||t.push("hardbreak","br",0),n++;n<r&&(s=t.src.charCodeAt(n),!!G(s));)n++;return t.pos=n,!0}let i=t.src[n];if(s>=55296&&s<=56319&&n+1<r){const u=t.src.charCodeAt(n+1);u>=56320&&u<=57343&&(i+=t.src[n+1],n++)}const o="\\"+i;if(!e){const u=t.push("text_special","",0);s<256&&Li[s]!==0?u.content=i:u.content=o,u.markup=o,u.info="escape"}return t.pos=n+1,!0}function _m(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==96)return!1;const s=n;n++;const i=t.posMax;for(;n<i&&t.src.charCodeAt(n)===96;)n++;const o=t.src.slice(s,n),u=o.length;if(t.backticksScanned&&(t.backticks[u]||0)<=s)return e||(t.pending+=o),t.pos+=u,!0;let l=n,a;for(;(a=t.src.indexOf("`",l))!==-1;){for(l=a+1;l<i&&t.src.charCodeAt(l)===96;)l++;const f=l-a;if(f===u){if(!e){const c=t.push("code_inline","code",0);c.markup=o,c.content=t.src.slice(n,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=l,!0}t.backticks[f]=a}return t.backticksScanned=!0,e||(t.pending+=o),t.pos+=u,!0}function Em(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e||r!==126)return!1;const s=t.scanDelims(t.pos,!0);let i=s.length;const o=String.fromCharCode(r);if(i<2)return!1;let u;i%2&&(u=t.push("text","",0),u.content=o,i--);for(let l=0;l<i;l+=2)u=t.push("text","",0),u.content=o+o,t.delimiters.push({marker:r,length:0,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close});return t.pos+=s.length,!0}function lu(t,e){let n;const r=[],s=e.length;for(let i=0;i<s;i++){const o=e[i];if(o.marker!==126||o.end===-1)continue;const u=e[o.end];n=t.tokens[o.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[u.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",t.tokens[u.token-1].type==="text"&&t.tokens[u.token-1].content==="~"&&r.push(u.token-1)}for(;r.length;){const i=r.pop();let o=i+1;for(;o<t.tokens.length&&t.tokens[o].type==="s_close";)o++;o--,i!==o&&(n=t.tokens[o],t.tokens[o]=t.tokens[i],t.tokens[i]=n)}}function Cm(t){const e=t.tokens_meta,n=t.tokens_meta.length;lu(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&lu(t,e[r].delimiters)}const Yl={tokenize:Em,postProcess:Cm};function Am(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e||r!==95&&r!==42)return!1;const s=t.scanDelims(t.pos,r===42);for(let i=0;i<s.length;i++){const o=t.push("text","",0);o.content=String.fromCharCode(r),t.delimiters.push({marker:r,length:s.length,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close})}return t.pos+=s.length,!0}function au(t,e){const n=e.length;for(let r=n-1;r>=0;r--){const s=e[r];if(s.marker!==95&&s.marker!==42||s.end===-1)continue;const i=e[s.end],o=r>0&&e[r-1].end===s.end+1&&e[r-1].marker===s.marker&&e[r-1].token===s.token-1&&e[s.end+1].token===i.token+1,u=String.fromCharCode(s.marker),l=t.tokens[s.token];l.type=o?"strong_open":"em_open",l.tag=o?"strong":"em",l.nesting=1,l.markup=o?u+u:u,l.content="";const a=t.tokens[i.token];a.type=o?"strong_close":"em_close",a.tag=o?"strong":"em",a.nesting=-1,a.markup=o?u+u:u,a.content="",o&&(t.tokens[e[r-1].token].content="",t.tokens[e[s.end+1].token].content="",r--)}}function km(t){const e=t.tokens_meta,n=t.tokens_meta.length;au(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&au(t,e[r].delimiters)}const Zl={tokenize:Am,postProcess:km};function Sm(t,e){let n,r,s,i,o="",u="",l=t.pos,a=!0;if(t.src.charCodeAt(t.pos)!==91)return!1;const f=t.pos,c=t.posMax,h=t.pos+1,d=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(d<0)return!1;let p=d+1;if(p<c&&t.src.charCodeAt(p)===40){for(a=!1,p++;p<c&&(n=t.src.charCodeAt(p),!(!G(n)&&n!==10));p++);if(p>=c)return!1;if(l=p,s=t.md.helpers.parseLinkDestination(t.src,p,t.posMax),s.ok){for(o=t.md.normalizeLink(s.str),t.md.validateLink(o)?p=s.pos:o="",l=p;p<c&&(n=t.src.charCodeAt(p),!(!G(n)&&n!==10));p++);if(s=t.md.helpers.parseLinkTitle(t.src,p,t.posMax),p<c&&l!==p&&s.ok)for(u=s.str,p=s.pos;p<c&&(n=t.src.charCodeAt(p),!(!G(n)&&n!==10));p++);}(p>=c||t.src.charCodeAt(p)!==41)&&(a=!0),p++}if(a){if(typeof t.env.references>"u")return!1;if(p<c&&t.src.charCodeAt(p)===91?(l=p+1,p=t.md.helpers.parseLinkLabel(t,p),p>=0?r=t.src.slice(l,p++):p=d+1):p=d+1,r||(r=t.src.slice(h,d)),i=t.env.references[Zr(r)],!i)return t.pos=f,!1;o=i.href,u=i.title}if(!e){t.pos=h,t.posMax=d;const g=t.push("link_open","a",1),y=[["href",o]];g.attrs=y,u&&y.push(["title",u]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=p,t.posMax=c,!0}function xm(t,e){let n,r,s,i,o,u,l,a,f="";const c=t.pos,h=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91)return!1;const d=t.pos+2,p=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(p<0)return!1;if(i=p+1,i<h&&t.src.charCodeAt(i)===40){for(i++;i<h&&(n=t.src.charCodeAt(i),!(!G(n)&&n!==10));i++);if(i>=h)return!1;for(a=i,u=t.md.helpers.parseLinkDestination(t.src,i,t.posMax),u.ok&&(f=t.md.normalizeLink(u.str),t.md.validateLink(f)?i=u.pos:f=""),a=i;i<h&&(n=t.src.charCodeAt(i),!(!G(n)&&n!==10));i++);if(u=t.md.helpers.parseLinkTitle(t.src,i,t.posMax),i<h&&a!==i&&u.ok)for(l=u.str,i=u.pos;i<h&&(n=t.src.charCodeAt(i),!(!G(n)&&n!==10));i++);else l="";if(i>=h||t.src.charCodeAt(i)!==41)return t.pos=c,!1;i++}else{if(typeof t.env.references>"u")return!1;if(i<h&&t.src.charCodeAt(i)===91?(a=i+1,i=t.md.helpers.parseLinkLabel(t,i),i>=0?s=t.src.slice(a,i++):i=p+1):i=p+1,s||(s=t.src.slice(d,p)),o=t.env.references[Zr(s)],!o)return t.pos=c,!1;f=o.href,l=o.title}if(!e){r=t.src.slice(d,p);const g=[];t.md.inline.parse(r,t.md,t.env,g);const y=t.push("image","img",0),D=[["src",f],["alt",""]];y.attrs=D,y.children=g,y.content=r,l&&D.push(["title",l])}return t.pos=i,t.posMax=h,!0}const Fm=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,wm=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function Om(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==60)return!1;const r=t.pos,s=t.posMax;for(;;){if(++n>=s)return!1;const o=t.src.charCodeAt(n);if(o===60)return!1;if(o===62)break}const i=t.src.slice(r+1,n);if(wm.test(i)){const o=t.md.normalizeLink(i);if(!t.md.validateLink(o))return!1;if(!e){const u=t.push("link_open","a",1);u.attrs=[["href",o]],u.markup="autolink",u.info="auto";const l=t.push("text","",0);l.content=t.md.normalizeLinkText(i);const a=t.push("link_close","a",-1);a.markup="autolink",a.info="auto"}return t.pos+=i.length+2,!0}if(Fm.test(i)){const o=t.md.normalizeLink("mailto:"+i);if(!t.md.validateLink(o))return!1;if(!e){const u=t.push("link_open","a",1);u.attrs=[["href",o]],u.markup="autolink",u.info="auto";const l=t.push("text","",0);l.content=t.md.normalizeLinkText(i);const a=t.push("link_close","a",-1);a.markup="autolink",a.info="auto"}return t.pos+=i.length+2,!0}return!1}function vm(t){return/^<a[>\s]/i.test(t)}function Pm(t){return/^<\/a\s*>/i.test(t)}function $m(t){const e=t|32;return e>=97&&e<=122}function Im(t,e){if(!t.md.options.html)return!1;const n=t.posMax,r=t.pos;if(t.src.charCodeAt(r)!==60||r+2>=n)return!1;const s=t.src.charCodeAt(r+1);if(s!==33&&s!==63&&s!==47&&!$m(s))return!1;const i=t.src.slice(r).match(lm);if(!i)return!1;if(!e){const o=t.push("html_inline","",0);o.content=i[0],vm(o.content)&&t.linkLevel++,Pm(o.content)&&t.linkLevel--}return t.pos+=i[0].length,!0}const Tm=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Nm=/^&([a-z][a-z0-9]{1,31});/i;function Bm(t,e){const n=t.pos,r=t.posMax;if(t.src.charCodeAt(n)!==38||n+1>=r)return!1;if(t.src.charCodeAt(n+1)===35){const i=t.src.slice(n).match(Tm);if(i){if(!e){const o=i[1][0].toLowerCase()==="x"?parseInt(i[1].slice(1),16):parseInt(i[1],10),u=t.push("text_special","",0);u.content=Bi(o)?Or(o):Or(65533),u.markup=i[0],u.info="entity"}return t.pos+=i[0].length,!0}}else{const i=t.src.slice(n).match(Nm);if(i){const o=Wu(i[0]);if(o!==i[0]){if(!e){const u=t.push("text_special","",0);u.content=o,u.markup=i[0],u.info="entity"}return t.pos+=i[0].length,!0}}}return!1}function cu(t){const e={},n=t.length;if(!n)return;let r=0,s=-2;const i=[];for(let o=0;o<n;o++){const u=t[o];if(i.push(0),(t[r].marker!==u.marker||s!==u.token-1)&&(r=o),s=u.token,u.length=u.length||0,!u.close)continue;e.hasOwnProperty(u.marker)||(e[u.marker]=[-1,-1,-1,-1,-1,-1]);const l=e[u.marker][(u.open?3:0)+u.length%3];let a=r-i[r]-1,f=a;for(;a>l;a-=i[a]+1){const c=t[a];if(c.marker===u.marker&&c.open&&c.end<0){let h=!1;if((c.close||u.open)&&(c.length+u.length)%3===0&&(c.length%3!==0||u.length%3!==0)&&(h=!0),!h){const d=a>0&&!t[a-1].open?i[a-1]+1:0;i[o]=o-a+d,i[a]=d,u.open=!1,c.end=o,c.close=!1,f=-1,s=-2;break}}}f!==-1&&(e[u.marker][(u.open?3:0)+(u.length||0)%3]=f)}}function Rm(t){const e=t.tokens_meta,n=t.tokens_meta.length;cu(t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&cu(e[r].delimiters)}function Lm(t){let e,n,r=0;const s=t.tokens,i=t.tokens.length;for(e=n=0;e<i;e++)s[e].nesting<0&&r--,s[e].level=r,s[e].nesting>0&&r++,s[e].type==="text"&&e+1<i&&s[e+1].type==="text"?s[e+1].content=s[e].content+s[e+1].content:(e!==n&&(s[n]=s[e]),n++);e!==n&&(s.length=n)}const vs=[["text",mm],["linkify",ym],["newline",bm],["escape",Dm],["backticks",_m],["strikethrough",Yl.tokenize],["emphasis",Zl.tokenize],["link",Sm],["image",xm],["autolink",Om],["html_inline",Im],["entity",Bm]],Ps=[["balance_pairs",Rm],["strikethrough",Yl.postProcess],["emphasis",Zl.postProcess],["fragments_join",Lm]];function Bn(){this.ruler=new be;for(let t=0;t<vs.length;t++)this.ruler.push(vs[t][0],vs[t][1]);this.ruler2=new be;for(let t=0;t<Ps.length;t++)this.ruler2.push(Ps[t][0],Ps[t][1])}Bn.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),r=n.length,s=t.md.options.maxNesting,i=t.cache;if(typeof i[e]<"u"){t.pos=i[e];return}let o=!1;if(t.level<s){for(let u=0;u<r;u++)if(t.level++,o=n[u](t,!0),t.level--,o){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;o||t.pos++,i[e]=t.pos};Bn.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,r=t.posMax,s=t.md.options.maxNesting;for(;t.pos<r;){const i=t.pos;let o=!1;if(t.level<s){for(let u=0;u<n;u++)if(o=e[u](t,!1),o){if(i>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(o){if(t.pos>=r)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};Bn.prototype.parse=function(t,e,n,r){const s=new this.State(t,e,n,r);this.tokenize(s);const i=this.ruler2.getRules(""),o=i.length;for(let u=0;u<o;u++)i[u](s)};Bn.prototype.State=Nn;function Mm(t){const e={};t=t||{},e.src_Any=Ul.source,e.src_Cc=zl.source,e.src_Z=Gl.source,e.src_P=Ti.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><ï½œ]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|ï½œ]|"+e.src_ZPCc+"))((?![$+<=>^`|ï½œ])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|ï½œ]|"+e.src_ZPCc+"))((?![$+<=>^`|ï½œ])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function ni(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(r){t[r]=n[r]})}),t}function es(t){return Object.prototype.toString.call(t)}function jm(t){return es(t)==="[object String]"}function Um(t){return es(t)==="[object Object]"}function zm(t){return es(t)==="[object RegExp]"}function fu(t){return es(t)==="[object Function]"}function qm(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const Xl={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function Gm(t){return Object.keys(t||{}).reduce(function(e,n){return e||Xl.hasOwnProperty(n)},!1)}const Vm={"http:":{validate:function(t,e,n){const r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},Km="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Wm="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|Ñ€Ñ„".split("|");function Jm(t){t.__index__=-1,t.__text_cache__=""}function Hm(t){return function(e,n){const r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}function hu(){return function(t,e){e.normalize(t)}}function vr(t){const e=t.re=Mm(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(Km),n.push(e.src_xn),e.src_tlds=n.join("|");function r(u){return u.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(r(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(r(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(r(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(r(e.tpl_host_fuzzy_test),"i");const s=[];t.__compiled__={};function i(u,l){throw new Error('(LinkifyIt) Invalid schema "'+u+'": '+l)}Object.keys(t.__schemas__).forEach(function(u){const l=t.__schemas__[u];if(l===null)return;const a={validate:null,link:null};if(t.__compiled__[u]=a,Um(l)){zm(l.validate)?a.validate=Hm(l.validate):fu(l.validate)?a.validate=l.validate:i(u,l),fu(l.normalize)?a.normalize=l.normalize:l.normalize?i(u,l):a.normalize=hu();return}if(jm(l)){s.push(u);return}i(u,l)}),s.forEach(function(u){t.__compiled__[t.__schemas__[u]]&&(t.__compiled__[u].validate=t.__compiled__[t.__schemas__[u]].validate,t.__compiled__[u].normalize=t.__compiled__[t.__schemas__[u]].normalize)}),t.__compiled__[""]={validate:null,normalize:hu()};const o=Object.keys(t.__compiled__).filter(function(u){return u.length>0&&t.__compiled__[u]}).map(qm).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><ï½œ]|"+e.src_ZPCc+"))("+o+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><ï½œ]|"+e.src_ZPCc+"))("+o+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),Jm(t)}function Qm(t,e){const n=t.__index__,r=t.__last_index__,s=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=s,this.text=s,this.url=s}function ri(t,e){const n=new Qm(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function Ee(t,e){if(!(this instanceof Ee))return new Ee(t,e);e||Gm(t)&&(e=t,t={}),this.__opts__=ni({},Xl,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=ni({},Vm,t),this.__compiled__={},this.__tlds__=Wm,this.__tlds_replaced__=!1,this.re={},vr(this)}Ee.prototype.add=function(e,n){return this.__schemas__[e]=n,vr(this),this};Ee.prototype.set=function(e){return this.__opts__=ni(this.__opts__,e),this};Ee.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let n,r,s,i,o,u,l,a,f;if(this.re.schema_test.test(e)){for(l=this.re.schema_search,l.lastIndex=0;(n=l.exec(e))!==null;)if(i=this.testSchemaAt(e,n[2],l.lastIndex),i){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+i;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(a=e.search(this.re.host_fuzzy_test),a>=0&&(this.__index__<0||a<this.__index__)&&(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(o=r.index+r[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(f=e.indexOf("@"),f>=0&&(s=e.match(this.re.email_fuzzy))!==null&&(o=s.index+s[1].length,u=s.index+s[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&u>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=u))),this.__index__>=0};Ee.prototype.pretest=function(e){return this.re.pretest.test(e)};Ee.prototype.testSchemaAt=function(e,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,r,this):0};Ee.prototype.match=function(e){const n=[];let r=0;this.__index__>=0&&this.__text_cache__===e&&(n.push(ri(this,r)),r=this.__last_index__);let s=r?e.slice(r):e;for(;this.test(s);)n.push(ri(this,r)),s=s.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};Ee.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const n=this.re.schema_at_start.exec(e);if(!n)return null;const r=this.testSchemaAt(e,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,ri(this,0)):null};Ee.prototype.tlds=function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(r,s,i){return r!==i[s-1]}).reverse(),vr(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,vr(this),this)};Ee.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};Ee.prototype.onCompile=function(){};const Tt=2147483647,Be=36,Mi=1,Cn=26,Ym=38,Zm=700,ea=72,ta=128,na="-",Xm=/^xn--/,e0=/[^\0-\x7F]/,t0=/[\x2E\u3002\uFF0E\uFF61]/g,n0={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},$s=Be-Mi,Re=Math.floor,Is=String.fromCharCode;function et(t){throw new RangeError(n0[t])}function r0(t,e){const n=[];let r=t.length;for(;r--;)n[r]=e(t[r]);return n}function ra(t,e){const n=t.split("@");let r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(t0,".");const s=t.split("."),i=r0(s,e).join(".");return r+i}function s0(t){const e=[];let n=0;const r=t.length;for(;n<r;){const s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const i=t.charCodeAt(n++);(i&64512)==56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e}const i0=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:Be},du=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},sa=function(t,e,n){let r=0;for(t=n?Re(t/Zm):t>>1,t+=Re(t/e);t>$s*Cn>>1;r+=Be)t=Re(t/$s);return Re(r+($s+1)*t/(t+Ym))},o0=function(t){const e=[],n=t.length;let r=0,s=ta,i=ea,o=t.lastIndexOf(na);o<0&&(o=0);for(let u=0;u<o;++u)t.charCodeAt(u)>=128&&et("not-basic"),e.push(t.charCodeAt(u));for(let u=o>0?o+1:0;u<n;){const l=r;for(let f=1,c=Be;;c+=Be){u>=n&&et("invalid-input");const h=i0(t.charCodeAt(u++));h>=Be&&et("invalid-input"),h>Re((Tt-r)/f)&&et("overflow"),r+=h*f;const d=c<=i?Mi:c>=i+Cn?Cn:c-i;if(h<d)break;const p=Be-d;f>Re(Tt/p)&&et("overflow"),f*=p}const a=e.length+1;i=sa(r-l,a,l==0),Re(r/a)>Tt-s&&et("overflow"),s+=Re(r/a),r%=a,e.splice(r++,0,s)}return String.fromCodePoint(...e)},u0=function(t){const e=[];t=s0(t);const n=t.length;let r=ta,s=0,i=ea;for(const l of t)l<128&&e.push(Is(l));const o=e.length;let u=o;for(o&&e.push(na);u<n;){let l=Tt;for(const f of t)f>=r&&f<l&&(l=f);const a=u+1;l-r>Re((Tt-s)/a)&&et("overflow"),s+=(l-r)*a,r=l;for(const f of t)if(f<r&&++s>Tt&&et("overflow"),f===r){let c=s;for(let h=Be;;h+=Be){const d=h<=i?Mi:h>=i+Cn?Cn:h-i;if(c<d)break;const p=c-d,g=Be-d;e.push(Is(du(d+p%g,0))),c=Re(p/g)}e.push(Is(du(c,0))),i=sa(s,a,u===o),s=0,++u}++s,++r}return e.join("")},l0=function(t){return ra(t,function(e){return Xm.test(e)?o0(e.slice(4).toLowerCase()):e})},a0=function(t){return ra(t,function(e){return e0.test(e)?"xn--"+u0(e):e})},ia={toASCII:a0,toUnicode:l0},c0={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"â€œâ€â€˜â€™",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},f0={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"â€œâ€â€˜â€™",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},h0={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"â€œâ€â€˜â€™",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},d0={default:c0,zero:f0,commonmark:h0},p0=/^(vbscript|javascript|file|data):/,m0=/^data:image\/(gif|png|jpeg|webp);/;function g0(t){const e=t.trim().toLowerCase();return p0.test(e)?m0.test(e):!0}const oa=["http:","https:","mailto:"];function y0(t){const e=Ii(t,!0);if(e.hostname&&(!e.protocol||oa.indexOf(e.protocol)>=0))try{e.hostname=ia.toASCII(e.hostname)}catch{}return Tn($i(e))}function b0(t){const e=Ii(t,!0);if(e.hostname&&(!e.protocol||oa.indexOf(e.protocol)>=0))try{e.hostname=ia.toUnicode(e.hostname)}catch{}return jt($i(e),jt.defaultChars+"%")}function Se(t,e){if(!(this instanceof Se))return new Se(t,e);e||Ni(t)||(e=t||{},t="default"),this.inline=new Bn,this.block=new Xr,this.core=new Ri,this.renderer=new Kt,this.linkify=new Ee,this.validateLink=g0,this.normalizeLink=y0,this.normalizeLinkText=b0,this.utils=bp,this.helpers=Yr({},Cp),this.options={},this.configure(t),e&&this.set(e)}Se.prototype.set=function(t){return Yr(this.options,t),this};Se.prototype.configure=function(t){const e=this;if(Ni(t)){const n=t;if(t=d0[n],!t)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)}),this};Se.prototype.enable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(s){n=n.concat(this[s].ruler.enable(t,!0))},this),n=n.concat(this.inline.ruler2.enable(t,!0));const r=t.filter(function(s){return n.indexOf(s)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};Se.prototype.disable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(s){n=n.concat(this[s].ruler.disable(t,!0))},this),n=n.concat(this.inline.ruler2.disable(t,!0));const r=t.filter(function(s){return n.indexOf(s)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};Se.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};Se.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");const n=new this.core.State(t,this,e);return this.core.process(n),n.tokens};Se.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};Se.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens};Se.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};function D0(t,e,n){const{parseMetaString:r,trimEndingNewline:s=!0,defaultLanguage:i="text",fallbackLanguage:o}=n,u=e.getLoadedLanguages();t.options.highlight=(l,a="text",f)=>{a===""&&(a=i),o&&!u.includes(a)&&(a=o);const c=(r==null?void 0:r(f,l,a))||{},h={...n,lang:a,meta:{...n.meta,...c,__raw:f}},d=[];return d.push({name:"@shikijs/markdown-it:block-class",code(p){p.properties.class=`language-${a}`}}),s&&l.endsWith(`
`)&&(l=l.slice(0,-1)),e.codeToHtml(l,{...h,transformers:[...d,...h.transformers||[]]})}}function _0(t,e){return function(n){D0(n,t,e)}}let bt=class extends Error{constructor(e){super(e),this.name="ShikiError"}},ji=class extends Error{constructor(e){super(e),this.name="ShikiError"}};function E0(){return 2147483648}function C0(){return typeof performance<"u"?performance.now():Date.now()}const A0=(t,e)=>t+(e-t%e)%e;async function k0(t){let e,n;const r={};function s(d){n=d,r.HEAPU8=new Uint8Array(d),r.HEAPU32=new Uint32Array(d)}function i(d,p,g){r.HEAPU8.copyWithin(d,p,p+g)}function o(d){try{return e.grow(d-n.byteLength+65535>>>16),s(e.buffer),1}catch{}}function u(d){const p=r.HEAPU8.length;d=d>>>0;const g=E0();if(d>g)return!1;for(let y=1;y<=4;y*=2){let D=p*(1+.2/y);D=Math.min(D,d+100663296);const b=Math.min(g,A0(Math.max(d,D),65536));if(o(b))return!0}return!1}const l=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function a(d,p,g=1024){const y=p+g;let D=p;for(;d[D]&&!(D>=y);)++D;if(D-p>16&&d.buffer&&l)return l.decode(d.subarray(p,D));let b="";for(;p<D;){let m=d[p++];if(!(m&128)){b+=String.fromCharCode(m);continue}const _=d[p++]&63;if((m&224)===192){b+=String.fromCharCode((m&31)<<6|_);continue}const E=d[p++]&63;if((m&240)===224?m=(m&15)<<12|_<<6|E:m=(m&7)<<18|_<<12|E<<6|d[p++]&63,m<65536)b+=String.fromCharCode(m);else{const C=m-65536;b+=String.fromCharCode(55296|C>>10,56320|C&1023)}}return b}function f(d,p){return d?a(r.HEAPU8,d,p):""}const c={emscripten_get_now:C0,emscripten_memcpy_big:i,emscripten_resize_heap:u,fd_write:()=>0};async function h(){const p=await t({env:c,wasi_snapshot_preview1:c});e=p.memory,s(e.buffer),Object.assign(r,p),r.UTF8ToString=f}return await h(),r}var S0=Object.defineProperty,x0=(t,e,n)=>e in t?S0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,te=(t,e,n)=>(x0(t,typeof e!="symbol"?e+"":e,n),n);let se=null;function F0(t){throw new ji(t.UTF8ToString(t.getLastOnigError()))}class ts{constructor(e){te(this,"utf16Length"),te(this,"utf8Length"),te(this,"utf16Value"),te(this,"utf8Value"),te(this,"utf16OffsetToUtf8"),te(this,"utf8OffsetToUtf16");const n=e.length,r=ts._utf8ByteLength(e),s=r!==n,i=s?new Uint32Array(n+1):null;s&&(i[n]=r);const o=s?new Uint32Array(r+1):null;s&&(o[r]=n);const u=new Uint8Array(r);let l=0;for(let a=0;a<n;a++){const f=e.charCodeAt(a);let c=f,h=!1;if(f>=55296&&f<=56319&&a+1<n){const d=e.charCodeAt(a+1);d>=56320&&d<=57343&&(c=(f-55296<<10)+65536|d-56320,h=!0)}s&&(i[a]=l,h&&(i[a+1]=l),c<=127?o[l+0]=a:c<=2047?(o[l+0]=a,o[l+1]=a):c<=65535?(o[l+0]=a,o[l+1]=a,o[l+2]=a):(o[l+0]=a,o[l+1]=a,o[l+2]=a,o[l+3]=a)),c<=127?u[l++]=c:c<=2047?(u[l++]=192|(c&1984)>>>6,u[l++]=128|(c&63)>>>0):c<=65535?(u[l++]=224|(c&61440)>>>12,u[l++]=128|(c&4032)>>>6,u[l++]=128|(c&63)>>>0):(u[l++]=240|(c&1835008)>>>18,u[l++]=128|(c&258048)>>>12,u[l++]=128|(c&4032)>>>6,u[l++]=128|(c&63)>>>0),h&&a++}this.utf16Length=n,this.utf8Length=r,this.utf16Value=e,this.utf8Value=u,this.utf16OffsetToUtf8=i,this.utf8OffsetToUtf16=o}static _utf8ByteLength(e){let n=0;for(let r=0,s=e.length;r<s;r++){const i=e.charCodeAt(r);let o=i,u=!1;if(i>=55296&&i<=56319&&r+1<s){const l=e.charCodeAt(r+1);l>=56320&&l<=57343&&(o=(i-55296<<10)+65536|l-56320,u=!0)}o<=127?n+=1:o<=2047?n+=2:o<=65535?n+=3:n+=4,u&&r++}return n}createString(e){const n=e.omalloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,n),n}}const $e=class{constructor(t){if(te(this,"id",++$e.LAST_ID),te(this,"_onigBinding"),te(this,"content"),te(this,"utf16Length"),te(this,"utf8Length"),te(this,"utf16OffsetToUtf8"),te(this,"utf8OffsetToUtf16"),te(this,"ptr"),!se)throw new ji("Must invoke loadWasm first.");this._onigBinding=se,this.content=t;const e=new ts(t);this.utf16Length=e.utf16Length,this.utf8Length=e.utf8Length,this.utf16OffsetToUtf8=e.utf16OffsetToUtf8,this.utf8OffsetToUtf16=e.utf8OffsetToUtf16,this.utf8Length<1e4&&!$e._sharedPtrInUse?($e._sharedPtr||($e._sharedPtr=se.omalloc(1e4)),$e._sharedPtrInUse=!0,se.HEAPU8.set(e.utf8Value,$e._sharedPtr),this.ptr=$e._sharedPtr):this.ptr=e.createString(se)}convertUtf8OffsetToUtf16(t){return this.utf8OffsetToUtf16?t<0?0:t>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[t]:t}convertUtf16OffsetToUtf8(t){return this.utf16OffsetToUtf8?t<0?0:t>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[t]:t}dispose(){this.ptr===$e._sharedPtr?$e._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};let Rn=$e;te(Rn,"LAST_ID",0);te(Rn,"_sharedPtr",0);te(Rn,"_sharedPtrInUse",!1);class w0{constructor(e){if(te(this,"_onigBinding"),te(this,"_ptr"),!se)throw new ji("Must invoke loadWasm first.");const n=[],r=[];for(let u=0,l=e.length;u<l;u++){const a=new ts(e[u]);n[u]=a.createString(se),r[u]=a.utf8Length}const s=se.omalloc(4*e.length);se.HEAPU32.set(n,s/4);const i=se.omalloc(4*e.length);se.HEAPU32.set(r,i/4);const o=se.createOnigScanner(s,i,e.length);for(let u=0,l=e.length;u<l;u++)se.ofree(n[u]);se.ofree(i),se.ofree(s),o===0&&F0(se),this._onigBinding=se,this._ptr=o}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(e,n,r){let s=0;if(typeof r=="number"&&(s=r),typeof e=="string"){e=new Rn(e);const i=this._findNextMatchSync(e,n,!1,s);return e.dispose(),i}return this._findNextMatchSync(e,n,!1,s)}_findNextMatchSync(e,n,r,s){const i=this._onigBinding,o=i.findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(n),s);if(o===0)return null;const u=i.HEAPU32;let l=o/4;const a=u[l++],f=u[l++],c=[];for(let h=0;h<f;h++){const d=e.convertUtf8OffsetToUtf16(u[l++]),p=e.convertUtf8OffsetToUtf16(u[l++]);c[h]={start:d,end:p,length:p-d}}return{index:a,captureIndices:c}}}function O0(t){return typeof t.instantiator=="function"}function v0(t){return typeof t.default=="function"}function P0(t){return typeof t.data<"u"}function $0(t){return typeof Response<"u"&&t instanceof Response}function I0(t){var e;return typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||ArrayBuffer.isView(t))||typeof Buffer<"u"&&((e=Buffer.isBuffer)==null?void 0:e.call(Buffer,t))||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&t instanceof Uint32Array}let Hn;function T0(t){if(Hn)return Hn;async function e(){se=await k0(async n=>{let r=t;return r=await r,typeof r=="function"&&(r=await r(n)),typeof r=="function"&&(r=await r(n)),O0(r)?r=await r.instantiator(n):v0(r)?r=await r.default(n):(P0(r)&&(r=r.data),$0(r)?typeof WebAssembly.instantiateStreaming=="function"?r=await N0(r)(n):r=await B0(r)(n):I0(r)?r=await Ts(r)(n):r instanceof WebAssembly.Module?r=await Ts(r)(n):"default"in r&&r.default instanceof WebAssembly.Module&&(r=await Ts(r.default)(n))),"instance"in r&&(r=r.instance),"exports"in r&&(r=r.exports),r})}return Hn=e(),Hn}function Ts(t){return e=>WebAssembly.instantiate(t,e)}function N0(t){return e=>WebAssembly.instantiateStreaming(t,e)}function B0(t){return async e=>{const n=await t.arrayBuffer();return WebAssembly.instantiate(n,e)}}let R0;function L0(){return R0}async function M0(t){return t&&await T0(t),{createScanner(e){return new w0(e.map(n=>typeof n=="string"?n:n.source))},createString(e){return new Rn(e)}}}function j0(t){return Ui(t)}function Ui(t){return Array.isArray(t)?U0(t):t instanceof RegExp?t:typeof t=="object"?z0(t):t}function U0(t){let e=[];for(let n=0,r=t.length;n<r;n++)e[n]=Ui(t[n]);return e}function z0(t){let e={};for(let n in t)e[n]=Ui(t[n]);return e}function ua(t,...e){return e.forEach(n=>{for(let r in n)t[r]=n[r]}),t}function la(t){const e=~t.lastIndexOf("/")||~t.lastIndexOf("\\");return e===0?t:~e===t.length-1?la(t.substring(0,t.length-1)):t.substr(~e+1)}var Ns=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,Qn=class{static hasCaptures(t){return t===null?!1:(Ns.lastIndex=0,Ns.test(t))}static replaceCaptures(t,e,n){return t.replace(Ns,(r,s,i,o)=>{let u=n[parseInt(s||i,10)];if(u){let l=e.substring(u.start,u.end);for(;l[0]===".";)l=l.substring(1);switch(o){case"downcase":return l.toLowerCase();case"upcase":return l.toUpperCase();default:return l}}else return r})}};function aa(t,e){return t<e?-1:t>e?1:0}function ca(t,e){if(t===null&&e===null)return 0;if(!t)return-1;if(!e)return 1;let n=t.length,r=e.length;if(n===r){for(let s=0;s<n;s++){let i=aa(t[s],e[s]);if(i!==0)return i}return 0}return n-r}function pu(t){return!!(/^#[0-9a-f]{6}$/i.test(t)||/^#[0-9a-f]{8}$/i.test(t)||/^#[0-9a-f]{3}$/i.test(t)||/^#[0-9a-f]{4}$/i.test(t))}function fa(t){return t.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var ha=class{constructor(t){k(this,"cache",new Map);this.fn=t}get(t){if(this.cache.has(t))return this.cache.get(t);const e=this.fn(t);return this.cache.set(t,e),e}},Pr=class{constructor(t,e,n){k(this,"_cachedMatchRoot",new ha(t=>this._root.match(t)));this._colorMap=t,this._defaults=e,this._root=n}static createFromRawTheme(t,e){return this.createFromParsedTheme(V0(t),e)}static createFromParsedTheme(t,e){return W0(t,e)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(t){if(t===null)return this._defaults;const e=t.scopeName,r=this._cachedMatchRoot.get(e).find(s=>q0(t.parent,s.parentScopes));return r?new da(r.fontStyle,r.foreground,r.background):null}},Bs=class hr{constructor(e,n){this.parent=e,this.scopeName=n}static push(e,n){for(const r of n)e=new hr(e,r);return e}static from(...e){let n=null;for(let r=0;r<e.length;r++)n=new hr(n,e[r]);return n}push(e){return new hr(this,e)}getSegments(){let e=this;const n=[];for(;e;)n.push(e.scopeName),e=e.parent;return n.reverse(),n}toString(){return this.getSegments().join(" ")}extends(e){return this===e?!0:this.parent===null?!1:this.parent.extends(e)}getExtensionIfDefined(e){const n=[];let r=this;for(;r&&r!==e;)n.push(r.scopeName),r=r.parent;return r===e?n.reverse():void 0}};function q0(t,e){if(e.length===0)return!0;for(let n=0;n<e.length;n++){let r=e[n],s=!1;if(r===">"){if(n===e.length-1)return!1;r=e[++n],s=!0}for(;t&&!G0(t.scopeName,r);){if(s)return!1;t=t.parent}if(!t)return!1;t=t.parent}return!0}function G0(t,e){return e===t||t.startsWith(e)&&t[e.length]==="."}var da=class{constructor(t,e,n){this.fontStyle=t,this.foregroundId=e,this.backgroundId=n}};function V0(t){if(!t)return[];if(!t.settings||!Array.isArray(t.settings))return[];let e=t.settings,n=[],r=0;for(let s=0,i=e.length;s<i;s++){let o=e[s];if(!o.settings)continue;let u;if(typeof o.scope=="string"){let c=o.scope;c=c.replace(/^[,]+/,""),c=c.replace(/[,]+$/,""),u=c.split(",")}else Array.isArray(o.scope)?u=o.scope:u=[""];let l=-1;if(typeof o.settings.fontStyle=="string"){l=0;let c=o.settings.fontStyle.split(" ");for(let h=0,d=c.length;h<d;h++)switch(c[h]){case"italic":l=l|1;break;case"bold":l=l|2;break;case"underline":l=l|4;break;case"strikethrough":l=l|8;break}}let a=null;typeof o.settings.foreground=="string"&&pu(o.settings.foreground)&&(a=o.settings.foreground);let f=null;typeof o.settings.background=="string"&&pu(o.settings.background)&&(f=o.settings.background);for(let c=0,h=u.length;c<h;c++){let p=u[c].trim().split(" "),g=p[p.length-1],y=null;p.length>1&&(y=p.slice(0,p.length-1),y.reverse()),n[r++]=new K0(g,y,s,l,a,f)}}return n}var K0=class{constructor(t,e,n,r,s,i){this.scope=t,this.parentScopes=e,this.index=n,this.fontStyle=r,this.foreground=s,this.background=i}},He=(t=>(t[t.NotSet=-1]="NotSet",t[t.None=0]="None",t[t.Italic=1]="Italic",t[t.Bold=2]="Bold",t[t.Underline=4]="Underline",t[t.Strikethrough=8]="Strikethrough",t))(He||{});function W0(t,e){t.sort((l,a)=>{let f=aa(l.scope,a.scope);return f!==0||(f=ca(l.parentScopes,a.parentScopes),f!==0)?f:l.index-a.index});let n=0,r="#000000",s="#ffffff";for(;t.length>=1&&t[0].scope==="";){let l=t.shift();l.fontStyle!==-1&&(n=l.fontStyle),l.foreground!==null&&(r=l.foreground),l.background!==null&&(s=l.background)}let i=new J0(e),o=new da(n,i.getId(r),i.getId(s)),u=new Q0(new si(0,null,-1,0,0),[]);for(let l=0,a=t.length;l<a;l++){let f=t[l];u.insert(0,f.scope,f.parentScopes,f.fontStyle,i.getId(f.foreground),i.getId(f.background))}return new Pr(i,o,u)}var J0=class{constructor(t){k(this,"_isFrozen");k(this,"_lastColorId");k(this,"_id2color");k(this,"_color2id");if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(t)){this._isFrozen=!0;for(let e=0,n=t.length;e<n;e++)this._color2id[t[e]]=e,this._id2color[e]=t[e]}else this._isFrozen=!1}getId(t){if(t===null)return 0;t=t.toUpperCase();let e=this._color2id[t];if(e)return e;if(this._isFrozen)throw new Error(`Missing color in color map - ${t}`);return e=++this._lastColorId,this._color2id[t]=e,this._id2color[e]=t,e}getColorMap(){return this._id2color.slice(0)}},H0=Object.freeze([]),si=class pa{constructor(e,n,r,s,i){k(this,"scopeDepth");k(this,"parentScopes");k(this,"fontStyle");k(this,"foreground");k(this,"background");this.scopeDepth=e,this.parentScopes=n||H0,this.fontStyle=r,this.foreground=s,this.background=i}clone(){return new pa(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let n=[];for(let r=0,s=e.length;r<s;r++)n[r]=e[r].clone();return n}acceptOverwrite(e,n,r,s){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,n!==-1&&(this.fontStyle=n),r!==0&&(this.foreground=r),s!==0&&(this.background=s)}},Q0=class ii{constructor(e,n=[],r={}){k(this,"_rulesWithParentScopes");this._mainRule=e,this._children=r,this._rulesWithParentScopes=n}static _cmpBySpecificity(e,n){if(e.scopeDepth!==n.scopeDepth)return n.scopeDepth-e.scopeDepth;let r=0,s=0;for(;e.parentScopes[r]===">"&&r++,n.parentScopes[s]===">"&&s++,!(r>=e.parentScopes.length||s>=n.parentScopes.length);){const i=n.parentScopes[s].length-e.parentScopes[r].length;if(i!==0)return i;r++,s++}return n.parentScopes.length-e.parentScopes.length}match(e){if(e!==""){let r=e.indexOf("."),s,i;if(r===-1?(s=e,i=""):(s=e.substring(0,r),i=e.substring(r+1)),this._children.hasOwnProperty(s))return this._children[s].match(i)}const n=this._rulesWithParentScopes.concat(this._mainRule);return n.sort(ii._cmpBySpecificity),n}insert(e,n,r,s,i,o){if(n===""){this._doInsertHere(e,r,s,i,o);return}let u=n.indexOf("."),l,a;u===-1?(l=n,a=""):(l=n.substring(0,u),a=n.substring(u+1));let f;this._children.hasOwnProperty(l)?f=this._children[l]:(f=new ii(this._mainRule.clone(),si.cloneArr(this._rulesWithParentScopes)),this._children[l]=f),f.insert(e+1,a,r,s,i,o)}_doInsertHere(e,n,r,s,i){if(n===null){this._mainRule.acceptOverwrite(e,r,s,i);return}for(let o=0,u=this._rulesWithParentScopes.length;o<u;o++){let l=this._rulesWithParentScopes[o];if(ca(l.parentScopes,n)===0){l.acceptOverwrite(e,r,s,i);return}}r===-1&&(r=this._mainRule.fontStyle),s===0&&(s=this._mainRule.foreground),i===0&&(i=this._mainRule.background),this._rulesWithParentScopes.push(new si(e,n,r,s,i))}},zt=class Ce{static toBinaryStr(e){return e.toString(2).padStart(32,"0")}static print(e){const n=Ce.getLanguageId(e),r=Ce.getTokenType(e),s=Ce.getFontStyle(e),i=Ce.getForeground(e),o=Ce.getBackground(e);console.log({languageId:n,tokenType:r,fontStyle:s,foreground:i,background:o})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static set(e,n,r,s,i,o,u){let l=Ce.getLanguageId(e),a=Ce.getTokenType(e),f=Ce.containsBalancedBrackets(e)?1:0,c=Ce.getFontStyle(e),h=Ce.getForeground(e),d=Ce.getBackground(e);return n!==0&&(l=n),r!==8&&(a=r),s!==null&&(f=s?1:0),i!==-1&&(c=i),o!==0&&(h=o),u!==0&&(d=u),(l<<0|a<<8|f<<10|c<<11|h<<15|d<<24)>>>0}};function $r(t,e){const n=[],r=Y0(t);let s=r.next();for(;s!==null;){let l=0;if(s.length===2&&s.charAt(1)===":"){switch(s.charAt(0)){case"R":l=1;break;case"L":l=-1;break;default:console.log(`Unknown priority ${s} in scope selector`)}s=r.next()}let a=o();if(n.push({matcher:a,priority:l}),s!==",")break;s=r.next()}return n;function i(){if(s==="-"){s=r.next();const l=i();return a=>!!l&&!l(a)}if(s==="("){s=r.next();const l=u();return s===")"&&(s=r.next()),l}if(mu(s)){const l=[];do l.push(s),s=r.next();while(mu(s));return a=>e(l,a)}return null}function o(){const l=[];let a=i();for(;a;)l.push(a),a=i();return f=>l.every(c=>c(f))}function u(){const l=[];let a=o();for(;a&&(l.push(a),s==="|"||s===",");){do s=r.next();while(s==="|"||s===",");a=o()}return f=>l.some(c=>c(f))}}function mu(t){return!!t&&!!t.match(/[\w\.:]+/)}function Y0(t){let e=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,n=e.exec(t);return{next:()=>{if(!n)return null;const r=n[0];return n=e.exec(t),r}}}function ma(t){typeof t.dispose=="function"&&t.dispose()}var An=class{constructor(t){this.scopeName=t}toKey(){return this.scopeName}},Z0=class{constructor(t,e){this.scopeName=t,this.ruleName=e}toKey(){return`${this.scopeName}#${this.ruleName}`}},X0=class{constructor(){k(this,"_references",[]);k(this,"_seenReferenceKeys",new Set);k(this,"visitedRule",new Set)}get references(){return this._references}add(t){const e=t.toKey();this._seenReferenceKeys.has(e)||(this._seenReferenceKeys.add(e),this._references.push(t))}},eg=class{constructor(t,e){k(this,"seenFullScopeRequests",new Set);k(this,"seenPartialScopeRequests",new Set);k(this,"Q");this.repo=t,this.initialScopeName=e,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new An(this.initialScopeName)]}processQueue(){const t=this.Q;this.Q=[];const e=new X0;for(const n of t)tg(n,this.initialScopeName,this.repo,e);for(const n of e.references)if(n instanceof An){if(this.seenFullScopeRequests.has(n.scopeName))continue;this.seenFullScopeRequests.add(n.scopeName),this.Q.push(n)}else{if(this.seenFullScopeRequests.has(n.scopeName)||this.seenPartialScopeRequests.has(n.toKey()))continue;this.seenPartialScopeRequests.add(n.toKey()),this.Q.push(n)}}};function tg(t,e,n,r){const s=n.lookup(t.scopeName);if(!s){if(t.scopeName===e)throw new Error(`No grammar provided for <${e}>`);return}const i=n.lookup(e);t instanceof An?dr({baseGrammar:i,selfGrammar:s},r):oi(t.ruleName,{baseGrammar:i,selfGrammar:s,repository:s.repository},r);const o=n.injections(t.scopeName);if(o)for(const u of o)r.add(new An(u))}function oi(t,e,n){if(e.repository&&e.repository[t]){const r=e.repository[t];Ir([r],e,n)}}function dr(t,e){t.selfGrammar.patterns&&Array.isArray(t.selfGrammar.patterns)&&Ir(t.selfGrammar.patterns,{...t,repository:t.selfGrammar.repository},e),t.selfGrammar.injections&&Ir(Object.values(t.selfGrammar.injections),{...t,repository:t.selfGrammar.repository},e)}function Ir(t,e,n){for(const r of t){if(n.visitedRule.has(r))continue;n.visitedRule.add(r);const s=r.repository?ua({},e.repository,r.repository):e.repository;Array.isArray(r.patterns)&&Ir(r.patterns,{...e,repository:s},n);const i=r.include;if(!i)continue;const o=ga(i);switch(o.kind){case 0:dr({...e,selfGrammar:e.baseGrammar},n);break;case 1:dr(e,n);break;case 2:oi(o.ruleName,{...e,repository:s},n);break;case 3:case 4:const u=o.scopeName===e.selfGrammar.scopeName?e.selfGrammar:o.scopeName===e.baseGrammar.scopeName?e.baseGrammar:void 0;if(u){const l={baseGrammar:e.baseGrammar,selfGrammar:u,repository:s};o.kind===4?oi(o.ruleName,l,n):dr(l,n)}else o.kind===4?n.add(new Z0(o.scopeName,o.ruleName)):n.add(new An(o.scopeName));break}}}var ng=class{constructor(){k(this,"kind",0)}},rg=class{constructor(){k(this,"kind",1)}},sg=class{constructor(t){k(this,"kind",2);this.ruleName=t}},ig=class{constructor(t){k(this,"kind",3);this.scopeName=t}},og=class{constructor(t,e){k(this,"kind",4);this.scopeName=t,this.ruleName=e}};function ga(t){if(t==="$base")return new ng;if(t==="$self")return new rg;const e=t.indexOf("#");if(e===-1)return new ig(t);if(e===0)return new sg(t.substring(1));{const n=t.substring(0,e),r=t.substring(e+1);return new og(n,r)}}var ug=/\\(\d+)/,gu=/\\(\d+)/g,lg=-1,ya=-2;var Ln=class{constructor(t,e,n,r){k(this,"$location");k(this,"id");k(this,"_nameIsCapturing");k(this,"_name");k(this,"_contentNameIsCapturing");k(this,"_contentName");this.$location=t,this.id=e,this._name=n||null,this._nameIsCapturing=Qn.hasCaptures(this._name),this._contentName=r||null,this._contentNameIsCapturing=Qn.hasCaptures(this._contentName)}get debugName(){const t=this.$location?`${la(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${t}`}getName(t,e){return!this._nameIsCapturing||this._name===null||t===null||e===null?this._name:Qn.replaceCaptures(this._name,t,e)}getContentName(t,e){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:Qn.replaceCaptures(this._contentName,t,e)}},ag=class extends Ln{constructor(e,n,r,s,i){super(e,n,r,s);k(this,"retokenizeCapturedWithRuleId");this.retokenizeCapturedWithRuleId=i}dispose(){}collectPatterns(e,n){throw new Error("Not supported!")}compile(e,n){throw new Error("Not supported!")}compileAG(e,n,r,s){throw new Error("Not supported!")}},cg=class extends Ln{constructor(e,n,r,s,i){super(e,n,r,null);k(this,"_match");k(this,"captures");k(this,"_cachedCompiledPatterns");this._match=new kn(s,this.id),this.captures=i,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(e,n){n.push(this._match)}compile(e,n){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,n,r,s){return this._getCachedCompiledPatterns(e).compileAG(e,r,s)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Sn,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},yu=class extends Ln{constructor(e,n,r,s,i){super(e,n,r,s);k(this,"hasMissingPatterns");k(this,"patterns");k(this,"_cachedCompiledPatterns");this.patterns=i.patterns,this.hasMissingPatterns=i.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(e,n){for(const r of this.patterns)e.getRule(r).collectPatterns(e,n)}compile(e,n){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,n,r,s){return this._getCachedCompiledPatterns(e).compileAG(e,r,s)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Sn,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},ui=class extends Ln{constructor(e,n,r,s,i,o,u,l,a,f){super(e,n,r,s);k(this,"_begin");k(this,"beginCaptures");k(this,"_end");k(this,"endHasBackReferences");k(this,"endCaptures");k(this,"applyEndPatternLast");k(this,"hasMissingPatterns");k(this,"patterns");k(this,"_cachedCompiledPatterns");this._begin=new kn(i,this.id),this.beginCaptures=o,this._end=new kn(u||"ï¿¿",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=l,this.applyEndPatternLast=a||!1,this.patterns=f.patterns,this.hasMissingPatterns=f.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(e,n){return this._end.resolveBackReferences(e,n)}collectPatterns(e,n){n.push(this._begin)}compile(e,n){return this._getCachedCompiledPatterns(e,n).compile(e)}compileAG(e,n,r,s){return this._getCachedCompiledPatterns(e,n).compileAG(e,r,s)}_getCachedCompiledPatterns(e,n){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new Sn;for(const r of this.patterns)e.getRule(r).collectPatterns(e,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,n):this._cachedCompiledPatterns.setSource(0,n)),this._cachedCompiledPatterns}},Tr=class extends Ln{constructor(e,n,r,s,i,o,u,l,a){super(e,n,r,s);k(this,"_begin");k(this,"beginCaptures");k(this,"whileCaptures");k(this,"_while");k(this,"whileHasBackReferences");k(this,"hasMissingPatterns");k(this,"patterns");k(this,"_cachedCompiledPatterns");k(this,"_cachedCompiledWhilePatterns");this._begin=new kn(i,this.id),this.beginCaptures=o,this.whileCaptures=l,this._while=new kn(u,ya),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=a.patterns,this.hasMissingPatterns=a.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(e,n){return this._while.resolveBackReferences(e,n)}collectPatterns(e,n){n.push(this._begin)}compile(e,n){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,n,r,s){return this._getCachedCompiledPatterns(e).compileAG(e,r,s)}_getCachedCompiledPatterns(e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new Sn;for(const n of this.patterns)e.getRule(n).collectPatterns(e,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(e,n){return this._getCachedCompiledWhilePatterns(e,n).compile(e)}compileWhileAG(e,n,r,s){return this._getCachedCompiledWhilePatterns(e,n).compileAG(e,r,s)}_getCachedCompiledWhilePatterns(e,n){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new Sn,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,n||"ï¿¿"),this._cachedCompiledWhilePatterns}},ba=class oe{static createCaptureRule(e,n,r,s,i){return e.registerRule(o=>new ag(n,o,r,s,i))}static getCompiledRuleId(e,n,r){return e.id||n.registerRule(s=>{if(e.id=s,e.match)return new cg(e.$vscodeTextmateLocation,e.id,e.name,e.match,oe._compileCaptures(e.captures,n,r));if(typeof e.begin>"u"){e.repository&&(r=ua({},r,e.repository));let i=e.patterns;return typeof i>"u"&&e.include&&(i=[{include:e.include}]),new yu(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,oe._compilePatterns(i,n,r))}return e.while?new Tr(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,oe._compileCaptures(e.beginCaptures||e.captures,n,r),e.while,oe._compileCaptures(e.whileCaptures||e.captures,n,r),oe._compilePatterns(e.patterns,n,r)):new ui(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,oe._compileCaptures(e.beginCaptures||e.captures,n,r),e.end,oe._compileCaptures(e.endCaptures||e.captures,n,r),e.applyEndPatternLast,oe._compilePatterns(e.patterns,n,r))}),e.id}static _compileCaptures(e,n,r){let s=[];if(e){let i=0;for(const o in e){if(o==="$vscodeTextmateLocation")continue;const u=parseInt(o,10);u>i&&(i=u)}for(let o=0;o<=i;o++)s[o]=null;for(const o in e){if(o==="$vscodeTextmateLocation")continue;const u=parseInt(o,10);let l=0;e[o].patterns&&(l=oe.getCompiledRuleId(e[o],n,r)),s[u]=oe.createCaptureRule(n,e[o].$vscodeTextmateLocation,e[o].name,e[o].contentName,l)}}return s}static _compilePatterns(e,n,r){let s=[];if(e)for(let i=0,o=e.length;i<o;i++){const u=e[i];let l=-1;if(u.include){const a=ga(u.include);switch(a.kind){case 0:case 1:l=oe.getCompiledRuleId(r[u.include],n,r);break;case 2:let f=r[a.ruleName];f&&(l=oe.getCompiledRuleId(f,n,r));break;case 3:case 4:const c=a.scopeName,h=a.kind===4?a.ruleName:null,d=n.getExternalGrammar(c,r);if(d)if(h){let p=d.repository[h];p&&(l=oe.getCompiledRuleId(p,n,d.repository))}else l=oe.getCompiledRuleId(d.repository.$self,n,d.repository);break}}else l=oe.getCompiledRuleId(u,n,r);if(l!==-1){const a=n.getRule(l);let f=!1;if((a instanceof yu||a instanceof ui||a instanceof Tr)&&a.hasMissingPatterns&&a.patterns.length===0&&(f=!0),f)continue;s.push(l)}}return{patterns:s,hasMissingPatterns:(e?e.length:0)!==s.length}}},kn=class Da{constructor(e,n){k(this,"source");k(this,"ruleId");k(this,"hasAnchor");k(this,"hasBackReferences");k(this,"_anchorCache");if(e&&typeof e=="string"){const r=e.length;let s=0,i=[],o=!1;for(let u=0;u<r;u++)if(e.charAt(u)==="\\"&&u+1<r){const a=e.charAt(u+1);a==="z"?(i.push(e.substring(s,u)),i.push("$(?!\\n)(?<!\\n)"),s=u+2):(a==="A"||a==="G")&&(o=!0),u++}this.hasAnchor=o,s===0?this.source=e:(i.push(e.substring(s,r)),this.source=i.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=n,typeof this.source=="string"?this.hasBackReferences=ug.test(this.source):this.hasBackReferences=!1}clone(){return new Da(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,n){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let r=n.map(s=>e.substring(s.start,s.end));return gu.lastIndex=0,this.source.replace(gu,(s,i)=>fa(r[parseInt(i,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let e=[],n=[],r=[],s=[],i,o,u,l;for(i=0,o=this.source.length;i<o;i++)u=this.source.charAt(i),e[i]=u,n[i]=u,r[i]=u,s[i]=u,u==="\\"&&i+1<o&&(l=this.source.charAt(i+1),l==="A"?(e[i+1]="ï¿¿",n[i+1]="ï¿¿",r[i+1]="A",s[i+1]="A"):l==="G"?(e[i+1]="ï¿¿",n[i+1]="G",r[i+1]="ï¿¿",s[i+1]="G"):(e[i+1]=l,n[i+1]=l,r[i+1]=l,s[i+1]=l),i++);return{A0_G0:e.join(""),A0_G1:n.join(""),A1_G0:r.join(""),A1_G1:s.join("")}}resolveAnchors(e,n){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:e?n?this._anchorCache.A1_G1:this._anchorCache.A1_G0:n?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},Sn=class{constructor(){k(this,"_items");k(this,"_hasAnchors");k(this,"_cached");k(this,"_anchorCache");this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(t){this._items.push(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}unshift(t){this._items.unshift(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}length(){return this._items.length}setSource(t,e){this._items[t].source!==e&&(this._disposeCaches(),this._items[t].setSource(e))}compile(t){if(!this._cached){let e=this._items.map(n=>n.source);this._cached=new bu(t,e,this._items.map(n=>n.ruleId))}return this._cached}compileAG(t,e,n){return this._hasAnchors?e?n?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(t,e,n)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(t,e,n)),this._anchorCache.A1_G0):n?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(t,e,n)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(t,e,n)),this._anchorCache.A0_G0):this.compile(t)}_resolveAnchors(t,e,n){let r=this._items.map(s=>s.resolveAnchors(e,n));return new bu(t,r,this._items.map(s=>s.ruleId))}},bu=class{constructor(t,e,n){k(this,"scanner");this.regExps=e,this.rules=n,this.scanner=t.createOnigScanner(e)}dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const t=[];for(let e=0,n=this.rules.length;e<n;e++)t.push("   - "+this.rules[e]+": "+this.regExps[e]);return t.join(`
`)}findNextMatchSync(t,e,n){const r=this.scanner.findNextMatchSync(t,e,n);return r?{ruleId:this.rules[r.index],captureIndices:r.captureIndices}:null}},Rs=class{constructor(t,e){this.languageId=t,this.tokenType=e}},Je,fg=(Je=class{constructor(e,n){k(this,"_defaultAttributes");k(this,"_embeddedLanguagesMatcher");k(this,"_getBasicScopeAttributes",new ha(e=>{const n=this._scopeToLanguage(e),r=this._toStandardTokenType(e);return new Rs(n,r)}));this._defaultAttributes=new Rs(e,8),this._embeddedLanguagesMatcher=new hg(Object.entries(n||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(e){return e===null?Je._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(e)}_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(e){const n=e.match(Je.STANDARD_TOKEN_TYPE_REGEXP);if(!n)return 8;switch(n[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}},k(Je,"_NULL_SCOPE_METADATA",new Rs(0,0)),k(Je,"STANDARD_TOKEN_TYPE_REGEXP",/\b(comment|string|regex|meta\.embedded)\b/),Je),hg=class{constructor(t){k(this,"values");k(this,"scopesRegExp");if(t.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(t);const e=t.map(([n,r])=>fa(n));e.sort(),e.reverse(),this.scopesRegExp=new RegExp(`^((${e.join(")|(")}))($|\\.)`,"")}}match(t){if(!this.scopesRegExp)return;const e=t.match(this.scopesRegExp);if(e)return this.values.get(e[1])}},Du=class{constructor(t,e){this.stack=t,this.stoppedEarly=e}};function _a(t,e,n,r,s,i,o,u){const l=e.content.length;let a=!1,f=-1;if(o){const d=dg(t,e,n,r,s,i);s=d.stack,r=d.linePos,n=d.isFirstLine,f=d.anchorPosition}const c=Date.now();for(;!a;){if(u!==0&&Date.now()-c>u)return new Du(s,!0);h()}return new Du(s,!1);function h(){const d=pg(t,e,n,r,s,f);if(!d){i.produce(s,l),a=!0;return}const p=d.captureIndices,g=d.matchedRuleId,y=p&&p.length>0?p[0].end>r:!1;if(g===lg){const D=s.getRule(t);i.produce(s,p[0].start),s=s.withContentNameScopesList(s.nameScopesList),un(t,e,n,s,i,D.endCaptures,p),i.produce(s,p[0].end);const b=s;if(s=s.parent,f=b.getAnchorPos(),!y&&b.getEnterPos()===r){s=b,i.produce(s,l),a=!0;return}}else{const D=t.getRule(g);i.produce(s,p[0].start);const b=s,m=D.getName(e.content,p),_=s.contentNameScopesList.pushAttributed(m,t);if(s=s.push(g,r,f,p[0].end===l,null,_,_),D instanceof ui){const E=D;un(t,e,n,s,i,E.beginCaptures,p),i.produce(s,p[0].end),f=p[0].end;const C=E.getContentName(e.content,p),S=_.pushAttributed(C,t);if(s=s.withContentNameScopesList(S),E.endHasBackReferences&&(s=s.withEndRule(E.getEndWithResolvedBackReferences(e.content,p))),!y&&b.hasSameRuleAs(s)){s=s.pop(),i.produce(s,l),a=!0;return}}else if(D instanceof Tr){const E=D;un(t,e,n,s,i,E.beginCaptures,p),i.produce(s,p[0].end),f=p[0].end;const C=E.getContentName(e.content,p),S=_.pushAttributed(C,t);if(s=s.withContentNameScopesList(S),E.whileHasBackReferences&&(s=s.withEndRule(E.getWhileWithResolvedBackReferences(e.content,p))),!y&&b.hasSameRuleAs(s)){s=s.pop(),i.produce(s,l),a=!0;return}}else if(un(t,e,n,s,i,D.captures,p),i.produce(s,p[0].end),s=s.pop(),!y){s=s.safePop(),i.produce(s,l),a=!0;return}}p[0].end>r&&(r=p[0].end,n=!1)}}function dg(t,e,n,r,s,i){let o=s.beginRuleCapturedEOL?0:-1;const u=[];for(let l=s;l;l=l.pop()){const a=l.getRule(t);a instanceof Tr&&u.push({rule:a,stack:l})}for(let l=u.pop();l;l=u.pop()){const{ruleScanner:a,findOptions:f}=yg(l.rule,t,l.stack.endRule,n,r===o),c=a.findNextMatchSync(e,r,f);if(c){if(c.ruleId!==ya){s=l.stack.pop();break}c.captureIndices&&c.captureIndices.length&&(i.produce(l.stack,c.captureIndices[0].start),un(t,e,n,l.stack,i,l.rule.whileCaptures,c.captureIndices),i.produce(l.stack,c.captureIndices[0].end),o=c.captureIndices[0].end,c.captureIndices[0].end>r&&(r=c.captureIndices[0].end,n=!1))}else{s=l.stack.pop();break}}return{stack:s,linePos:r,anchorPosition:o,isFirstLine:n}}function pg(t,e,n,r,s,i){const o=mg(t,e,n,r,s,i),u=t.getInjections();if(u.length===0)return o;const l=gg(u,t,e,n,r,s,i);if(!l)return o;if(!o)return l;const a=o.captureIndices[0].start,f=l.captureIndices[0].start;return f<a||l.priorityMatch&&f===a?l:o}function mg(t,e,n,r,s,i){const o=s.getRule(t),{ruleScanner:u,findOptions:l}=Ea(o,t,s.endRule,n,r===i),a=u.findNextMatchSync(e,r,l);return a?{captureIndices:a.captureIndices,matchedRuleId:a.ruleId}:null}function gg(t,e,n,r,s,i,o){let u=Number.MAX_VALUE,l=null,a,f=0;const c=i.contentNameScopesList.getScopeNames();for(let h=0,d=t.length;h<d;h++){const p=t[h];if(!p.matcher(c))continue;const g=e.getRule(p.ruleId),{ruleScanner:y,findOptions:D}=Ea(g,e,null,r,s===o),b=y.findNextMatchSync(n,s,D);if(!b)continue;const m=b.captureIndices[0].start;if(!(m>=u)&&(u=m,l=b.captureIndices,a=b.ruleId,f=p.priority,u===s))break}return l?{priorityMatch:f===-1,captureIndices:l,matchedRuleId:a}:null}function Ea(t,e,n,r,s){return{ruleScanner:t.compileAG(e,n,r,s),findOptions:0}}function yg(t,e,n,r,s){return{ruleScanner:t.compileWhileAG(e,n,r,s),findOptions:0}}function un(t,e,n,r,s,i,o){if(i.length===0)return;const u=e.content,l=Math.min(i.length,o.length),a=[],f=o[0].end;for(let c=0;c<l;c++){const h=i[c];if(h===null)continue;const d=o[c];if(d.length===0)continue;if(d.start>f)break;for(;a.length>0&&a[a.length-1].endPos<=d.start;)s.produceFromScopes(a[a.length-1].scopes,a[a.length-1].endPos),a.pop();if(a.length>0?s.produceFromScopes(a[a.length-1].scopes,d.start):s.produce(r,d.start),h.retokenizeCapturedWithRuleId){const g=h.getName(u,o),y=r.contentNameScopesList.pushAttributed(g,t),D=h.getContentName(u,o),b=y.pushAttributed(D,t),m=r.push(h.retokenizeCapturedWithRuleId,d.start,-1,!1,null,y,b),_=t.createOnigString(u.substring(0,d.end));_a(t,_,n&&d.start===0,d.start,m,s,!1,0),ma(_);continue}const p=h.getName(u,o);if(p!==null){const y=(a.length>0?a[a.length-1].scopes:r.contentNameScopesList).pushAttributed(p,t);a.push(new bg(y,d.end))}}for(;a.length>0;)s.produceFromScopes(a[a.length-1].scopes,a[a.length-1].endPos),a.pop()}var bg=class{constructor(t,e){k(this,"scopes");k(this,"endPos");this.scopes=t,this.endPos=e}};function Dg(t,e,n,r,s,i,o,u){return new Eg(t,e,n,r,s,i,o,u)}function _u(t,e,n,r,s){const i=$r(e,Nr),o=ba.getCompiledRuleId(n,r,s.repository);for(const u of i)t.push({debugSelector:e,matcher:u.matcher,ruleId:o,grammar:s,priority:u.priority})}function Nr(t,e){if(e.length<t.length)return!1;let n=0;return t.every(r=>{for(let s=n;s<e.length;s++)if(_g(e[s],r))return n=s+1,!0;return!1})}function _g(t,e){if(!t)return!1;if(t===e)return!0;const n=e.length;return t.length>n&&t.substr(0,n)===e&&t[n]==="."}var Eg=class{constructor(t,e,n,r,s,i,o,u){k(this,"_rootId");k(this,"_lastRuleId");k(this,"_ruleId2desc");k(this,"_includedGrammars");k(this,"_grammarRepository");k(this,"_grammar");k(this,"_injections");k(this,"_basicScopeAttributesProvider");k(this,"_tokenTypeMatchers");if(this._rootScopeName=t,this.balancedBracketSelectors=i,this._onigLib=u,this._basicScopeAttributesProvider=new fg(n,r),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=o,this._grammar=Eu(e,null),this._injections=null,this._tokenTypeMatchers=[],s)for(const l of Object.keys(s)){const a=$r(l,Nr);for(const f of a)this._tokenTypeMatchers.push({matcher:f.matcher,type:s[l]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const t of this._ruleId2desc)t&&t.dispose()}createOnigScanner(t){return this._onigLib.createOnigScanner(t)}createOnigString(t){return this._onigLib.createOnigString(t)}getMetadataForScope(t){return this._basicScopeAttributesProvider.getBasicScopeAttributes(t)}_collectInjections(){const t={lookup:s=>s===this._rootScopeName?this._grammar:this.getExternalGrammar(s),injections:s=>this._grammarRepository.injections(s)},e=[],n=this._rootScopeName,r=t.lookup(n);if(r){const s=r.injections;if(s)for(let o in s)_u(e,o,s[o],this,r);const i=this._grammarRepository.injections(n);i&&i.forEach(o=>{const u=this.getExternalGrammar(o);if(u){const l=u.injectionSelector;l&&_u(e,l,u,this,u)}})}return e.sort((s,i)=>s.priority-i.priority),e}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(t){const e=++this._lastRuleId,n=t(e);return this._ruleId2desc[e]=n,n}getRule(t){return this._ruleId2desc[t]}getExternalGrammar(t,e){if(this._includedGrammars[t])return this._includedGrammars[t];if(this._grammarRepository){const n=this._grammarRepository.lookup(t);if(n)return this._includedGrammars[t]=Eu(n,e&&e.$base),this._includedGrammars[t]}}tokenizeLine(t,e,n=0){const r=this._tokenize(t,e,!1,n);return{tokens:r.lineTokens.getResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}tokenizeLine2(t,e,n=0){const r=this._tokenize(t,e,!0,n);return{tokens:r.lineTokens.getBinaryResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}_tokenize(t,e,n,r){this._rootId===-1&&(this._rootId=ba.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let s;if(!e||e===li.NULL){s=!0;const a=this._basicScopeAttributesProvider.getDefaultAttributes(),f=this.themeProvider.getDefaults(),c=zt.set(0,a.languageId,a.tokenType,null,f.fontStyle,f.foregroundId,f.backgroundId),h=this.getRule(this._rootId).getName(null,null);let d;h?d=hn.createRootAndLookUpScopeName(h,c,this):d=hn.createRoot("unknown",c),e=new li(null,this._rootId,-1,-1,!1,null,d,d)}else s=!1,e.reset();t=t+`
`;const i=this.createOnigString(t),o=i.content.length,u=new Ag(n,t,this._tokenTypeMatchers,this.balancedBracketSelectors),l=_a(this,i,s,0,e,u,!0,r);return ma(i),{lineLength:o,lineTokens:u,ruleStack:l.stack,stoppedEarly:l.stoppedEarly}}};function Eu(t,e){return t=j0(t),t.repository=t.repository||{},t.repository.$self={$vscodeTextmateLocation:t.$vscodeTextmateLocation,patterns:t.patterns,name:t.scopeName},t.repository.$base=e||t.repository.$self,t}var hn=class Ie{constructor(e,n,r){this.parent=e,this.scopePath=n,this.tokenAttributes=r}static fromExtension(e,n){let r=e,s=(e==null?void 0:e.scopePath)??null;for(const i of n)s=Bs.push(s,i.scopeNames),r=new Ie(r,s,i.encodedTokenAttributes);return r}static createRoot(e,n){return new Ie(null,new Bs(null,e),n)}static createRootAndLookUpScopeName(e,n,r){const s=r.getMetadataForScope(e),i=new Bs(null,e),o=r.themeProvider.themeMatch(i),u=Ie.mergeAttributes(n,s,o);return new Ie(null,i,u)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(e){return Ie.equals(this,e)}static equals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.scopeName!==n.scopeName||e.tokenAttributes!==n.tokenAttributes)return!1;e=e.parent,n=n.parent}while(!0)}static mergeAttributes(e,n,r){let s=-1,i=0,o=0;return r!==null&&(s=r.fontStyle,i=r.foregroundId,o=r.backgroundId),zt.set(e,n.languageId,n.tokenType,null,s,i,o)}pushAttributed(e,n){if(e===null)return this;if(e.indexOf(" ")===-1)return Ie._pushAttributed(this,e,n);const r=e.split(/ /g);let s=this;for(const i of r)s=Ie._pushAttributed(s,i,n);return s}static _pushAttributed(e,n,r){const s=r.getMetadataForScope(n),i=e.scopePath.push(n),o=r.themeProvider.themeMatch(i),u=Ie.mergeAttributes(e.tokenAttributes,s,o);return new Ie(e,i,u)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){var s;const n=[];let r=this;for(;r&&r!==e;)n.push({encodedTokenAttributes:r.tokenAttributes,scopeNames:r.scopePath.getExtensionIfDefined(((s=r.parent)==null?void 0:s.scopePath)??null)}),r=r.parent;return r===e?n.reverse():void 0}},Ae,li=(Ae=class{constructor(e,n,r,s,i,o,u,l){k(this,"_stackElementBrand");k(this,"_enterPos");k(this,"_anchorPos");k(this,"depth");this.parent=e,this.ruleId=n,this.beginRuleCapturedEOL=i,this.endRule=o,this.nameScopesList=u,this.contentNameScopesList=l,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=r,this._anchorPos=s}equals(e){return e===null?!1:Ae._equals(this,e)}static _equals(e,n){return e===n?!0:this._structuralEquals(e,n)?hn.equals(e.contentNameScopesList,n.contentNameScopesList):!1}static _structuralEquals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.depth!==n.depth||e.ruleId!==n.ruleId||e.endRule!==n.endRule)return!1;e=e.parent,n=n.parent}while(!0)}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){Ae._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(e,n,r,s,i,o,u){return new Ae(this,e,n,r,s,i,o,u)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){const e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,n){var r,s;return this.parent&&(n=this.parent._writeString(e,n)),e[n++]=`(${this.ruleId}, ${(r=this.nameScopesList)==null?void 0:r.toString()}, ${(s=this.contentNameScopesList)==null?void 0:s.toString()})`,n}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(e){return this.endRule===e?this:new Ae(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,e,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let n=this;for(;n&&n._enterPos===e._enterPos;){if(n.ruleId===e.ruleId)return!0;n=n.parent}return!1}toStateStackFrame(){var e,n,r;return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:((n=this.nameScopesList)==null?void 0:n.getExtensionIfDefined(((e=this.parent)==null?void 0:e.nameScopesList)??null))??[],contentNameScopesList:((r=this.contentNameScopesList)==null?void 0:r.getExtensionIfDefined(this.nameScopesList))??[]}}static pushFrame(e,n){const r=hn.fromExtension((e==null?void 0:e.nameScopesList)??null,n.nameScopesList);return new Ae(e,n.ruleId,n.enterPos??-1,n.anchorPos??-1,n.beginRuleCapturedEOL,n.endRule,r,hn.fromExtension(r,n.contentNameScopesList))}},k(Ae,"NULL",new Ae(null,0,0,0,!1,null,null,null)),Ae),Cg=class{constructor(t,e){k(this,"balancedBracketScopes");k(this,"unbalancedBracketScopes");k(this,"allowAny",!1);this.balancedBracketScopes=t.flatMap(n=>n==="*"?(this.allowAny=!0,[]):$r(n,Nr).map(r=>r.matcher)),this.unbalancedBracketScopes=e.flatMap(n=>$r(n,Nr).map(r=>r.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(t){for(const e of this.unbalancedBracketScopes)if(e(t))return!1;for(const e of this.balancedBracketScopes)if(e(t))return!0;return this.allowAny}},Ag=class{constructor(t,e,n,r){k(this,"_emitBinaryTokens");k(this,"_lineText");k(this,"_tokens");k(this,"_binaryTokens");k(this,"_lastTokenEndIndex");k(this,"_tokenTypeOverrides");this.balancedBracketSelectors=r,this._emitBinaryTokens=t,this._tokenTypeOverrides=n,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(t,e){this.produceFromScopes(t.contentNameScopesList,e)}produceFromScopes(t,e){var r;if(this._lastTokenEndIndex>=e)return;if(this._emitBinaryTokens){let s=(t==null?void 0:t.tokenAttributes)??0,i=!1;if((r=this.balancedBracketSelectors)!=null&&r.matchesAlways&&(i=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const o=(t==null?void 0:t.getScopeNames())??[];for(const u of this._tokenTypeOverrides)u.matcher(o)&&(s=zt.set(s,0,u.type,null,-1,0,0));this.balancedBracketSelectors&&(i=this.balancedBracketSelectors.match(o))}if(i&&(s=zt.set(s,0,8,i,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===s){this._lastTokenEndIndex=e;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(s),this._lastTokenEndIndex=e;return}const n=(t==null?void 0:t.getScopeNames())??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:e,scopes:n}),this._lastTokenEndIndex=e}getResult(t,e){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===e-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(t,e){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===e-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._binaryTokens[this._binaryTokens.length-2]=0);const n=new Uint32Array(this._binaryTokens.length);for(let r=0,s=this._binaryTokens.length;r<s;r++)n[r]=this._binaryTokens[r];return n}},kg=class{constructor(t,e){k(this,"_grammars",new Map);k(this,"_rawGrammars",new Map);k(this,"_injectionGrammars",new Map);k(this,"_theme");this._onigLib=e,this._theme=t}dispose(){for(const t of this._grammars.values())t.dispose()}setTheme(t){this._theme=t}getColorMap(){return this._theme.getColorMap()}addGrammar(t,e){this._rawGrammars.set(t.scopeName,t),e&&this._injectionGrammars.set(t.scopeName,e)}lookup(t){return this._rawGrammars.get(t)}injections(t){return this._injectionGrammars.get(t)}getDefaults(){return this._theme.getDefaults()}themeMatch(t){return this._theme.match(t)}grammarForScopeName(t,e,n,r,s){if(!this._grammars.has(t)){let i=this._rawGrammars.get(t);if(!i)return null;this._grammars.set(t,Dg(t,i,e,n,r,s,this,this._onigLib))}return this._grammars.get(t)}},Sg=class{constructor(e){k(this,"_options");k(this,"_syncRegistry");k(this,"_ensureGrammarCache");this._options=e,this._syncRegistry=new kg(Pr.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,n){this._syncRegistry.setTheme(Pr.createFromRawTheme(e,n))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,n,r){return this.loadGrammarWithConfiguration(e,n,{embeddedLanguages:r})}loadGrammarWithConfiguration(e,n,r){return this._loadGrammar(e,n,r.embeddedLanguages,r.tokenTypes,new Cg(r.balancedBracketSelectors||[],r.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}_loadGrammar(e,n,r,s,i){const o=new eg(this._syncRegistry,e);for(;o.Q.length>0;)o.Q.map(u=>this._loadSingleGrammar(u.scopeName)),o.processQueue();return this._grammarForScopeName(e,n,r,s,i)}_loadSingleGrammar(e){this._ensureGrammarCache.has(e)||(this._doLoadSingleGrammar(e),this._ensureGrammarCache.set(e,!0))}_doLoadSingleGrammar(e){const n=this._options.loadGrammar(e);if(n){const r=typeof this._options.getInjections=="function"?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(n,r)}}addGrammar(e,n=[],r=0,s=null){return this._syncRegistry.addGrammar(e,n),this._grammarForScopeName(e.scopeName,r,s)}_grammarForScopeName(e,n=0,r=null,s=null,i=null){return this._syncRegistry.grammarForScopeName(e,n,r,s,i)}},ai=li.NULL;const xg=/["&'<>`]/g,Fg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wg=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,Og=/[|\\{}()[\]^$+*?.]/g,Cu=new WeakMap;function vg(t,e){if(t=t.replace(e.subset?Pg(e.subset):xg,r),e.subset||e.escapeOnly)return t;return t.replace(Fg,n).replace(wg,r);function n(s,i,o){return e.format((s.charCodeAt(0)-55296)*1024+s.charCodeAt(1)-56320+65536,o.charCodeAt(i+2),e)}function r(s,i,o){return e.format(s.charCodeAt(0),o.charCodeAt(i+1),e)}}function Pg(t){let e=Cu.get(t);return e||(e=$g(t),Cu.set(t,e)),e}function $g(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(Og,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const Ig=/[\dA-Fa-f]/;function Tg(t,e,n){const r="&#x"+t.toString(16).toUpperCase();return n&&e&&!Ig.test(String.fromCharCode(e))?r:r+";"}const Ng=/\d/;function Bg(t,e,n){const r="&#"+String(t);return n&&e&&!Ng.test(String.fromCharCode(e))?r:r+";"}const Rg=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],Ls={nbsp:"Â ",iexcl:"Â¡",cent:"Â¢",pound:"Â£",curren:"Â¤",yen:"Â¥",brvbar:"Â¦",sect:"Â§",uml:"Â¨",copy:"Â©",ordf:"Âª",laquo:"Â«",not:"Â¬",shy:"Â­",reg:"Â®",macr:"Â¯",deg:"Â°",plusmn:"Â±",sup2:"Â²",sup3:"Â³",acute:"Â´",micro:"Âµ",para:"Â¶",middot:"Â·",cedil:"Â¸",sup1:"Â¹",ordm:"Âº",raquo:"Â»",frac14:"Â¼",frac12:"Â½",frac34:"Â¾",iquest:"Â¿",Agrave:"Ã€",Aacute:"Ã",Acirc:"Ã‚",Atilde:"Ãƒ",Auml:"Ã„",Aring:"Ã…",AElig:"Ã†",Ccedil:"Ã‡",Egrave:"Ãˆ",Eacute:"Ã‰",Ecirc:"ÃŠ",Euml:"Ã‹",Igrave:"ÃŒ",Iacute:"Ã",Icirc:"ÃŽ",Iuml:"Ã",ETH:"Ã",Ntilde:"Ã‘",Ograve:"Ã’",Oacute:"Ã“",Ocirc:"Ã”",Otilde:"Ã•",Ouml:"Ã–",times:"Ã—",Oslash:"Ã˜",Ugrave:"Ã™",Uacute:"Ãš",Ucirc:"Ã›",Uuml:"Ãœ",Yacute:"Ã",THORN:"Ãž",szlig:"ÃŸ",agrave:"Ã ",aacute:"Ã¡",acirc:"Ã¢",atilde:"Ã£",auml:"Ã¤",aring:"Ã¥",aelig:"Ã¦",ccedil:"Ã§",egrave:"Ã¨",eacute:"Ã©",ecirc:"Ãª",euml:"Ã«",igrave:"Ã¬",iacute:"Ã­",icirc:"Ã®",iuml:"Ã¯",eth:"Ã°",ntilde:"Ã±",ograve:"Ã²",oacute:"Ã³",ocirc:"Ã´",otilde:"Ãµ",ouml:"Ã¶",divide:"Ã·",oslash:"Ã¸",ugrave:"Ã¹",uacute:"Ãº",ucirc:"Ã»",uuml:"Ã¼",yacute:"Ã½",thorn:"Ã¾",yuml:"Ã¿",fnof:"Æ’",Alpha:"Î‘",Beta:"Î’",Gamma:"Î“",Delta:"Î”",Epsilon:"Î•",Zeta:"Î–",Eta:"Î—",Theta:"Î˜",Iota:"Î™",Kappa:"Îš",Lambda:"Î›",Mu:"Îœ",Nu:"Î",Xi:"Îž",Omicron:"ÎŸ",Pi:"Î ",Rho:"Î¡",Sigma:"Î£",Tau:"Î¤",Upsilon:"Î¥",Phi:"Î¦",Chi:"Î§",Psi:"Î¨",Omega:"Î©",alpha:"Î±",beta:"Î²",gamma:"Î³",delta:"Î´",epsilon:"Îµ",zeta:"Î¶",eta:"Î·",theta:"Î¸",iota:"Î¹",kappa:"Îº",lambda:"Î»",mu:"Î¼",nu:"Î½",xi:"Î¾",omicron:"Î¿",pi:"Ï€",rho:"Ï",sigmaf:"Ï‚",sigma:"Ïƒ",tau:"Ï„",upsilon:"Ï…",phi:"Ï†",chi:"Ï‡",psi:"Ïˆ",omega:"Ï‰",thetasym:"Ï‘",upsih:"Ï’",piv:"Ï–",bull:"â€¢",hellip:"â€¦",prime:"â€²",Prime:"â€³",oline:"â€¾",frasl:"â„",weierp:"â„˜",image:"â„‘",real:"â„œ",trade:"â„¢",alefsym:"â„µ",larr:"â†",uarr:"â†‘",rarr:"â†’",darr:"â†“",harr:"â†”",crarr:"â†µ",lArr:"â‡",uArr:"â‡‘",rArr:"â‡’",dArr:"â‡“",hArr:"â‡”",forall:"âˆ€",part:"âˆ‚",exist:"âˆƒ",empty:"âˆ…",nabla:"âˆ‡",isin:"âˆˆ",notin:"âˆ‰",ni:"âˆ‹",prod:"âˆ",sum:"âˆ‘",minus:"âˆ’",lowast:"âˆ—",radic:"âˆš",prop:"âˆ",infin:"âˆž",ang:"âˆ ",and:"âˆ§",or:"âˆ¨",cap:"âˆ©",cup:"âˆª",int:"âˆ«",there4:"âˆ´",sim:"âˆ¼",cong:"â‰…",asymp:"â‰ˆ",ne:"â‰ ",equiv:"â‰¡",le:"â‰¤",ge:"â‰¥",sub:"âŠ‚",sup:"âŠƒ",nsub:"âŠ„",sube:"âŠ†",supe:"âŠ‡",oplus:"âŠ•",otimes:"âŠ—",perp:"âŠ¥",sdot:"â‹…",lceil:"âŒˆ",rceil:"âŒ‰",lfloor:"âŒŠ",rfloor:"âŒ‹",lang:"âŒ©",rang:"âŒª",loz:"â—Š",spades:"â™ ",clubs:"â™£",hearts:"â™¥",diams:"â™¦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Å’",oelig:"Å“",Scaron:"Å ",scaron:"Å¡",Yuml:"Å¸",circ:"Ë†",tilde:"Ëœ",ensp:"â€‚",emsp:"â€ƒ",thinsp:"â€‰",zwnj:"â€Œ",zwj:"â€",lrm:"â€Ž",rlm:"â€",ndash:"â€“",mdash:"â€”",lsquo:"â€˜",rsquo:"â€™",sbquo:"â€š",ldquo:"â€œ",rdquo:"â€",bdquo:"â€ž",dagger:"â€ ",Dagger:"â€¡",permil:"â€°",lsaquo:"â€¹",rsaquo:"â€º",euro:"â‚¬"},Lg=["cent","copy","divide","gt","lt","not","para","times"],Ca={}.hasOwnProperty,ci={};let Yn;for(Yn in Ls)Ca.call(Ls,Yn)&&(ci[Ls[Yn]]=Yn);const Mg=/[^\dA-Za-z]/;function jg(t,e,n,r){const s=String.fromCharCode(t);if(Ca.call(ci,s)){const i=ci[s],o="&"+i;return n&&Rg.includes(i)&&!Lg.includes(i)&&(!r||e&&e!==61&&Mg.test(String.fromCharCode(e)))?o:o+";"}return""}function Ug(t,e,n){let r=Tg(t,e,n.omitOptionalSemicolons),s;if((n.useNamedReferences||n.useShortestReferences)&&(s=jg(t,e,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!s)&&n.useShortestReferences){const i=Bg(t,e,n.omitOptionalSemicolons);i.length<r.length&&(r=i)}return s&&(!n.useShortestReferences||s.length<r.length)?s:r}function Nt(t,e){return vg(t,Object.assign({format:Ug},e))}const zg=/^>|^->|<!--|-->|--!>|<!-$/g,qg=[">"],Gg=["<",">"];function Vg(t,e,n,r){return r.settings.bogusComments?"<?"+Nt(t.value,Object.assign({},r.settings.characterReferences,{subset:qg}))+">":"<!--"+t.value.replace(zg,s)+"-->";function s(i){return Nt(i,Object.assign({},r.settings.characterReferences,{subset:Gg}))}}function Kg(t,e,n,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}function Au(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,s=n.indexOf(e);for(;s!==-1;)r++,s=n.indexOf(e,s+e.length);return r}const ne=ka(1),Aa=ka(-1),Wg=[];function ka(t){return e;function e(n,r,s){const i=n?n.children:Wg;let o=(r||0)+t,u=i[o];if(!s)for(;u&&Ci(u);)o+=t,u=i[o];return u}}const Jg={}.hasOwnProperty;function Sa(t){return e;function e(n,r,s){return Jg.call(t,n.tagName)&&t[n.tagName](n,r,s)}}const zi=Sa({body:Qg,caption:Ms,colgroup:Ms,dd:ey,dt:Xg,head:Ms,html:Hg,li:Zg,optgroup:ty,option:ny,p:Yg,rp:ku,rt:ku,tbody:sy,td:Su,tfoot:iy,th:Su,thead:ry,tr:oy});function Ms(t,e,n){const r=ne(n,e,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&Ci(r.value.charAt(0)))}function Hg(t,e,n){const r=ne(n,e);return!r||r.type!=="comment"}function Qg(t,e,n){const r=ne(n,e);return!r||r.type!=="comment"}function Yg(t,e,n){const r=ne(n,e);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function Zg(t,e,n){const r=ne(n,e);return!r||r.type==="element"&&r.tagName==="li"}function Xg(t,e,n){const r=ne(n,e);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function ey(t,e,n){const r=ne(n,e);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function ku(t,e,n){const r=ne(n,e);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function ty(t,e,n){const r=ne(n,e);return!r||r.type==="element"&&r.tagName==="optgroup"}function ny(t,e,n){const r=ne(n,e);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function ry(t,e,n){const r=ne(n,e);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function sy(t,e,n){const r=ne(n,e);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function iy(t,e,n){return!ne(n,e)}function oy(t,e,n){const r=ne(n,e);return!r||r.type==="element"&&r.tagName==="tr"}function Su(t,e,n){const r=ne(n,e);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const uy=Sa({body:cy,colgroup:fy,head:ay,html:ly,tbody:hy});function ly(t){const e=ne(t,-1);return!e||e.type!=="comment"}function ay(t){const e=new Set;for(const r of t.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(e.has(r.tagName))return!1;e.add(r.tagName)}const n=t.children[0];return!n||n.type==="element"}function cy(t){const e=ne(t,-1,!0);return!e||e.type!=="comment"&&!(e.type==="text"&&Ci(e.value.charAt(0)))&&!(e.type==="element"&&(e.tagName==="meta"||e.tagName==="link"||e.tagName==="script"||e.tagName==="style"||e.tagName==="template"))}function fy(t,e,n){const r=Aa(n,e),s=ne(t,-1,!0);return n&&r&&r.type==="element"&&r.tagName==="colgroup"&&zi(r,n.children.indexOf(r),n)?!1:!!(s&&s.type==="element"&&s.tagName==="col")}function hy(t,e,n){const r=Aa(n,e),s=ne(t,-1);return n&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&zi(r,n.children.indexOf(r),n)?!1:!!(s&&s.type==="element"&&s.tagName==="tr")}const Zn={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function dy(t,e,n,r){const s=r.schema,i=s.space==="svg"?!1:r.settings.omitOptionalTags;let o=s.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(t.tagName.toLowerCase());const u=[];let l;s.space==="html"&&t.tagName==="svg"&&(r.schema=Ju);const a=py(r,t.properties),f=r.all(s.space==="html"&&t.tagName==="template"?t.content:t);return r.schema=s,f&&(o=!1),(a||!i||!uy(t,e,n))&&(u.push("<",t.tagName,a?" "+a:""),o&&(s.space==="svg"||r.settings.closeSelfClosing)&&(l=a.charAt(a.length-1),(!r.settings.tightSelfClosing||l==="/"||l&&l!=='"'&&l!=="'")&&u.push(" "),u.push("/")),u.push(">")),u.push(f),!o&&(!i||!zi(t,e,n))&&u.push("</"+t.tagName+">"),u.join("")}function py(t,e){const n=[];let r=-1,s;if(e){for(s in e)if(e[s]!==null&&e[s]!==void 0){const i=my(t,s,e[s]);i&&n.push(i)}}for(;++r<n.length;){const i=t.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&i!=='"'&&i!=="'"&&(n[r]+=" ")}return n.join("")}function my(t,e,n){const r=Yc(t.schema,e),s=t.settings.allowParseErrors&&t.schema.space==="html"?0:1,i=t.settings.allowDangerousCharacters?0:1;let o=t.quote,u;if(r.overloadedBoolean&&(n===r.attribute||n==="")?n=!0:(r.boolean||r.overloadedBoolean)&&(typeof n!="string"||n===r.attribute||n==="")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const l=Nt(r.attribute,Object.assign({},t.settings.characterReferences,{subset:Zn.name[s][i]}));return n===!0||(n=Array.isArray(n)?(r.commaSeparated?Zc:Xc)(n,{padLeft:!t.settings.tightCommaSeparatedLists}):String(n),t.settings.collapseEmptyAttributes&&!n)?l:(t.settings.preferUnquoted&&(u=Nt(n,Object.assign({},t.settings.characterReferences,{attribute:!0,subset:Zn.unquoted[s][i]}))),u!==n&&(t.settings.quoteSmart&&Au(n,o)>Au(n,t.alternative)&&(o=t.alternative),u=o+Nt(n,Object.assign({},t.settings.characterReferences,{subset:(o==="'"?Zn.single:Zn.double)[s][i],attribute:!0}))+o),l+(u&&"="+u))}const gy=["<","&"];function xa(t,e,n,r){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?t.value:Nt(t.value,Object.assign({},r.settings.characterReferences,{subset:gy}))}function yy(t,e,n,r){return r.settings.allowDangerousHtml?t.value:xa(t,e,n,r)}function by(t,e,n,r){return r.all(t)}const Dy=ef("type",{invalid:_y,unknown:Ey,handlers:{comment:Vg,doctype:Kg,element:dy,raw:yy,root:by,text:xa}});function _y(t){throw new Error("Expected node, not `"+t+"`")}function Ey(t){const e=t;throw new Error("Cannot compile unknown node `"+e.type+"`")}const Cy={},Ay={},ky=[];function Sy(t,e){const n=Cy,r=n.quote||'"',s=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:xy,all:Fy,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||nf,characterReferences:n.characterReferences||Ay,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?Ju:tf,quote:r,alternative:s}.one(Array.isArray(t)?{type:"root",children:t}:t,void 0,void 0)}function xy(t,e,n){return Dy(t,e,n,this)}function Fy(t){const e=[],n=t&&t.children||ky;let r=-1;for(;++r<n.length;)e[r]=this.one(n[r],r,t);return e.join("")}function wy(t){return Array.isArray(t)?t:[t]}function ns(t,e=!1){var i;const n=t.split(/(\r?\n)/g);let r=0;const s=[];for(let o=0;o<n.length;o+=2){const u=e?n[o]+(n[o+1]||""):n[o];s.push([u,r]),r+=n[o].length,r+=((i=n[o+1])==null?void 0:i.length)||0}return s}function qi(t){return!t||["plaintext","txt","text","plain"].includes(t)}function Oy(t){return t==="ansi"||qi(t)}function Gi(t){return t==="none"}function vy(t){return Gi(t)}function Fa(t,e){var r;if(!e)return t;t.properties||(t.properties={}),(r=t.properties).class||(r.class=[]),typeof t.properties.class=="string"&&(t.properties.class=t.properties.class.split(/\s+/g)),Array.isArray(t.properties.class)||(t.properties.class=[]);const n=Array.isArray(e)?e:e.split(/\s+/g);for(const s of n)s&&!t.properties.class.includes(s)&&t.properties.class.push(s);return t}function Py(t,e){let n=0;const r=[];for(const s of e)s>n&&r.push({...t,content:t.content.slice(n,s),offset:t.offset+n}),n=s;return n<t.content.length&&r.push({...t,content:t.content.slice(n),offset:t.offset+n}),r}function $y(t,e){const n=Array.from(e instanceof Set?e:new Set(e)).sort((r,s)=>r-s);return n.length?t.map(r=>r.flatMap(s=>{const i=n.filter(o=>s.offset<o&&o<s.offset+s.content.length).map(o=>o-s.offset).sort((o,u)=>o-u);return i.length?Py(s,i):s})):t}async function wa(t){return Promise.resolve(typeof t=="function"?t():t).then(e=>e.default||e)}function Br(t,e){const n=typeof t=="string"?{}:{...t.colorReplacements},r=typeof t=="string"?t:t.name;for(const[s,i]of Object.entries((e==null?void 0:e.colorReplacements)||{}))typeof i=="string"?n[s]=i:s===r&&Object.assign(n,i);return n}function dt(t,e){return t&&((e==null?void 0:e[t==null?void 0:t.toLowerCase()])||t)}function Oa(t){const e={};return t.color&&(e.color=t.color),t.bgColor&&(e["background-color"]=t.bgColor),t.fontStyle&&(t.fontStyle&He.Italic&&(e["font-style"]="italic"),t.fontStyle&He.Bold&&(e["font-weight"]="bold"),t.fontStyle&He.Underline&&(e["text-decoration"]="underline")),e}function Iy(t){return typeof t=="string"?t:Object.entries(t).map(([e,n])=>`${e}:${n}`).join(";")}function Ty(t){const e=ns(t,!0).map(([s])=>s);function n(s){if(s===t.length)return{line:e.length-1,character:e[e.length-1].length};let i=s,o=0;for(const u of e){if(i<u.length)break;i-=u.length,o++}return{line:o,character:i}}function r(s,i){let o=0;for(let u=0;u<s;u++)o+=e[u].length;return o+=i,o}return{lines:e,indexToPos:n,posToIndex:r}}class he extends Error{constructor(e){super(e),this.name="ShikiError"}}const va=new WeakMap;function rs(t,e){va.set(t,e)}function xn(t){return va.get(t)}class Wt{constructor(...e){k(this,"_stacks",{});k(this,"lang");if(e.length===2){const[n,r]=e;this.lang=r,this._stacks=n}else{const[n,r,s]=e;this.lang=r,this._stacks={[s]:n}}}get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(e,n){return new Wt(Object.fromEntries(wy(n).map(r=>[r,ai])),e)}getInternalStack(e=this.theme){return this._stacks[e]}get scopes(){return xu(this._stacks[this.theme])}getScopes(e=this.theme){return xu(this._stacks[e])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.scopes}}}function xu(t){const e=[],n=new Set;function r(s){var o;if(n.has(s))return;n.add(s);const i=(o=s==null?void 0:s.nameScopesList)==null?void 0:o.scopeName;i&&e.push(i),s.parent&&r(s.parent)}return r(t),e}function Ny(t,e){if(!(t instanceof Wt))throw new he("Invalid grammar state");return t.getInternalStack(e)}function By(){const t=new WeakMap;function e(n){if(!t.has(n.meta)){let r=function(o){if(typeof o=="number"){if(o<0||o>n.source.length)throw new he(`Invalid decoration offset: ${o}. Code length: ${n.source.length}`);return{...s.indexToPos(o),offset:o}}else{const u=s.lines[o.line];if(u===void 0)throw new he(`Invalid decoration position ${JSON.stringify(o)}. Lines length: ${s.lines.length}`);if(o.character<0||o.character>u.length)throw new he(`Invalid decoration position ${JSON.stringify(o)}. Line ${o.line} length: ${u.length}`);return{...o,offset:s.posToIndex(o.line,o.character)}}};const s=Ty(n.source),i=(n.options.decorations||[]).map(o=>({...o,start:r(o.start),end:r(o.end)}));Ry(i),t.set(n.meta,{decorations:i,converter:s,source:n.source})}return t.get(n.meta)}return{name:"shiki:decorations",tokens(n){var o;if(!((o=this.options.decorations)!=null&&o.length))return;const s=e(this).decorations.flatMap(u=>[u.start.offset,u.end.offset]);return $y(n,s)},code(n){var f;if(!((f=this.options.decorations)!=null&&f.length))return;const r=e(this),s=Array.from(n.children).filter(c=>c.type==="element"&&c.tagName==="span");if(s.length!==r.converter.lines.length)throw new he(`Number of lines in code element (${s.length}) does not match the number of lines in the source (${r.converter.lines.length}). Failed to apply decorations.`);function i(c,h,d,p){const g=s[c];let y="",D=-1,b=-1;if(h===0&&(D=0),d===0&&(b=0),d===Number.POSITIVE_INFINITY&&(b=g.children.length),D===-1||b===-1)for(let _=0;_<g.children.length;_++)y+=Pa(g.children[_]),D===-1&&y.length===h&&(D=_+1),b===-1&&y.length===d&&(b=_+1);if(D===-1)throw new he(`Failed to find start index for decoration ${JSON.stringify(p.start)}`);if(b===-1)throw new he(`Failed to find end index for decoration ${JSON.stringify(p.end)}`);const m=g.children.slice(D,b);if(!p.alwaysWrap&&m.length===g.children.length)u(g,p,"line");else if(!p.alwaysWrap&&m.length===1&&m[0].type==="element")u(m[0],p,"token");else{const _={type:"element",tagName:"span",properties:{},children:m};u(_,p,"wrapper"),g.children.splice(D,m.length,_)}}function o(c,h){s[c]=u(s[c],h,"line")}function u(c,h,d){var y;const p=h.properties||{},g=h.transform||(D=>D);return c.tagName=h.tagName||"span",c.properties={...c.properties,...p,class:c.properties.class},(y=h.properties)!=null&&y.class&&Fa(c,h.properties.class),c=g(c,d)||c,c}const l=[],a=r.decorations.sort((c,h)=>h.start.offset-c.start.offset);for(const c of a){const{start:h,end:d}=c;if(h.line===d.line)i(h.line,h.character,d.character,c);else if(h.line<d.line){i(h.line,h.character,Number.POSITIVE_INFINITY,c);for(let p=h.line+1;p<d.line;p++)l.unshift(()=>o(p,c));i(d.line,0,d.character,c)}}l.forEach(c=>c())}}}function Ry(t){for(let e=0;e<t.length;e++){const n=t[e];if(n.start.offset>n.end.offset)throw new he(`Invalid decoration range: ${JSON.stringify(n.start)} - ${JSON.stringify(n.end)}`);for(let r=e+1;r<t.length;r++){const s=t[r],i=n.start.offset<s.start.offset&&s.start.offset<n.end.offset,o=n.start.offset<s.end.offset&&s.end.offset<n.end.offset,u=s.start.offset<n.start.offset&&n.start.offset<s.end.offset,l=s.start.offset<n.end.offset&&n.end.offset<s.end.offset;if(i||o||u||l){if(o&&o||u&&l)continue;throw new he(`Decorations ${JSON.stringify(n.start)} and ${JSON.stringify(s.start)} intersect.`)}}}}function Pa(t){return t.type==="text"?t.value:t.type==="element"?t.children.map(Pa).join(""):""}const Ly=[By()];function Rr(t){return[...t.transformers||[],...Ly]}var pt=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],js={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",9:"strikethrough"};function My(t,e){const n=t.indexOf("\x1B[",e);if(n!==-1){const r=t.indexOf("m",n);return{sequence:t.substring(n+2,r).split(";"),startPosition:n,position:r+1}}return{position:t.length}}function Fu(t,e){let n=1;const r=t[e+n++];let s;if(r==="2"){const i=[t[e+n++],t[e+n++],t[e+n]].map(o=>Number.parseInt(o));i.length===3&&!i.some(o=>Number.isNaN(o))&&(s={type:"rgb",rgb:i})}else if(r==="5"){const i=Number.parseInt(t[e+n]);Number.isNaN(i)||(s={type:"table",index:Number(i)})}return[n,s]}function jy(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n],s=Number.parseInt(r);if(!Number.isNaN(s))if(s===0)e.push({type:"resetAll"});else if(s<=9)js[s]&&e.push({type:"setDecoration",value:js[s]});else if(s<=29){const i=js[s-20];i&&e.push({type:"resetDecoration",value:i})}else if(s<=37)e.push({type:"setForegroundColor",value:{type:"named",name:pt[s-30]}});else if(s===38){const[i,o]=Fu(t,n);o&&e.push({type:"setForegroundColor",value:o}),n+=i}else if(s===39)e.push({type:"resetForegroundColor"});else if(s<=47)e.push({type:"setBackgroundColor",value:{type:"named",name:pt[s-40]}});else if(s===48){const[i,o]=Fu(t,n);o&&e.push({type:"setBackgroundColor",value:o}),n+=i}else s===49?e.push({type:"resetBackgroundColor"}):s>=90&&s<=97?e.push({type:"setForegroundColor",value:{type:"named",name:pt[s-90+8]}}):s>=100&&s<=107&&e.push({type:"setBackgroundColor",value:{type:"named",name:pt[s-100+8]}})}return e}function Uy(){let t=null,e=null,n=new Set;return{parse(r){const s=[];let i=0;do{const o=My(r,i),u=o.sequence?r.substring(i,o.startPosition):r.substring(i);if(u.length>0&&s.push({value:u,foreground:t,background:e,decorations:new Set(n)}),o.sequence){const l=jy(o.sequence);for(const a of l)a.type==="resetAll"?(t=null,e=null,n.clear()):a.type==="resetForegroundColor"?t=null:a.type==="resetBackgroundColor"?e=null:a.type==="resetDecoration"&&n.delete(a.value);for(const a of l)a.type==="setForegroundColor"?t=a.value:a.type==="setBackgroundColor"?e=a.value:a.type==="setDecoration"&&n.add(a.value)}i=o.position}while(i<r.length);return s}}}var zy={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function qy(t=zy){function e(u){return t[u]}function n(u){return`#${u.map(l=>Math.max(0,Math.min(l,255)).toString(16).padStart(2,"0")).join("")}`}let r;function s(){if(r)return r;r=[];for(let a=0;a<pt.length;a++)r.push(e(pt[a]));let u=[0,95,135,175,215,255];for(let a=0;a<6;a++)for(let f=0;f<6;f++)for(let c=0;c<6;c++)r.push(n([u[a],u[f],u[c]]));let l=8;for(let a=0;a<24;a++,l+=10)r.push(n([l,l,l]));return r}function i(u){return s()[u]}function o(u){switch(u.type){case"named":return e(u.name);case"rgb":return n(u.rgb);case"table":return i(u.index)}}return{value:o}}function Gy(t,e,n){const r=Br(t,n),s=ns(e),i=qy(Object.fromEntries(pt.map(u=>{var l;return[u,(l=t.colors)==null?void 0:l[`terminal.ansi${u[0].toUpperCase()}${u.substring(1)}`]]}))),o=Uy();return s.map(u=>o.parse(u[0]).map(l=>{let a,f;l.decorations.has("reverse")?(a=l.background?i.value(l.background):t.bg,f=l.foreground?i.value(l.foreground):t.fg):(a=l.foreground?i.value(l.foreground):t.fg,f=l.background?i.value(l.background):void 0),a=dt(a,r),f=dt(f,r),l.decorations.has("dim")&&(a=Vy(a));let c=He.None;return l.decorations.has("bold")&&(c|=He.Bold),l.decorations.has("italic")&&(c|=He.Italic),l.decorations.has("underline")&&(c|=He.Underline),{content:l.value,offset:u[1],color:a,bgColor:f,fontStyle:c}}))}function Vy(t){const e=t.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/);if(e)if(e[3]){const r=Math.round(Number.parseInt(e[3],16)/2).toString(16).padStart(2,"0");return`#${e[1]}${e[2]}${r}`}else return e[2]?`#${e[1]}${e[2]}80`:`#${Array.from(e[1]).map(r=>`${r}${r}`).join("")}80`;const n=t.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return n?`var(${n[1]}-dim)`:t}function Vi(t,e,n={}){const{lang:r="text",theme:s=t.getLoadedThemes()[0]}=n;if(qi(r)||Gi(s))return ns(e).map(l=>[{content:l[0],offset:l[1]}]);const{theme:i,colorMap:o}=t.setTheme(s);if(r==="ansi")return Gy(i,e,n);const u=t.getLanguage(r);if(n.grammarState){if(n.grammarState.lang!==u.name)throw new bt(`Grammar state language "${n.grammarState.lang}" does not match highlight language "${u.name}"`);if(!n.grammarState.themes.includes(i.name))throw new bt(`Grammar state themes "${n.grammarState.themes}" do not contain highlight theme "${i.name}"`)}return Wy(e,u,i,o,n)}function Ky(...t){if(t.length===2)return xn(t[1]);const[e,n,r={}]=t,{lang:s="text",theme:i=e.getLoadedThemes()[0]}=r;if(qi(s)||Gi(i))throw new bt("Plain language does not have grammar state");if(s==="ansi")throw new bt("ANSI language does not have grammar state");const{theme:o,colorMap:u}=e.setTheme(i),l=e.getLanguage(s);return new Wt(Lr(n,l,o,u,r).stateStack,l.name,o.name)}function Wy(t,e,n,r,s){const i=Lr(t,e,n,r,s),o=new Wt(Lr(t,e,n,r,s).stateStack,e.name,n.name);return rs(i.tokens,o),i.tokens}function Lr(t,e,n,r,s){const i=Br(n,s),{tokenizeMaxLineLength:o=0,tokenizeTimeLimit:u=500}=s,l=ns(t);let a=s.grammarState?Ny(s.grammarState,n.name)??ai:s.grammarContextCode!=null?Lr(s.grammarContextCode,e,n,r,{...s,grammarState:void 0,grammarContextCode:void 0}).stateStack:ai,f=[];const c=[];for(let h=0,d=l.length;h<d;h++){const[p,g]=l[h];if(p===""){f=[],c.push([]);continue}if(o>0&&p.length>=o){f=[],c.push([{content:p,offset:g,color:"",fontStyle:0}]);continue}let y,D,b;s.includeExplanation&&(y=e.tokenizeLine(p,a),D=y.tokens,b=0);const m=e.tokenizeLine2(p,a,u),_=m.tokens.length/2;for(let E=0;E<_;E++){const C=m.tokens[2*E],S=E+1<_?m.tokens[2*E+2]:p.length;if(C===S)continue;const A=m.tokens[2*E+1],O=dt(r[zt.getForeground(A)],i),N=zt.getFontStyle(A),V={content:p.substring(C,S),offset:g+C,color:O,fontStyle:N};if(s.includeExplanation){const $=[];if(s.includeExplanation!=="scopeName")for(const w of n.settings){let v;switch(typeof w.scope){case"string":v=w.scope.split(/,/).map(M=>M.trim());break;case"object":v=w.scope;break;default:continue}$.push({settings:w,selectors:v.map(M=>M.split(/ /))})}V.explanation=[];let x=0;for(;C+x<S;){const w=D[b],v=p.substring(w.startIndex,w.endIndex);x+=v.length,V.explanation.push({content:v,scopes:s.includeExplanation==="scopeName"?Jy(w.scopes):Hy($,w.scopes)}),b+=1}}f.push(V)}c.push(f),f=[],a=m.ruleStack}return{tokens:c,stateStack:a}}function Jy(t){return t.map(e=>({scopeName:e}))}function Hy(t,e){const n=[];for(let r=0,s=e.length;r<s;r++){const i=e[r];n[r]={scopeName:i,themeMatches:Yy(t,i,e.slice(0,r))}}return n}function wu(t,e){return t===e||e.substring(0,t.length)===t&&e[t.length]==="."}function Qy(t,e,n){if(!wu(t[t.length-1],e))return!1;let r=t.length-2,s=n.length-1;for(;r>=0&&s>=0;)wu(t[r],n[s])&&(r-=1),s-=1;return r===-1}function Yy(t,e,n){const r=[];for(const{selectors:s,settings:i}of t)for(const o of s)if(Qy(o,e,n)){r.push(i);break}return r}function $a(t,e,n){const r=Object.entries(n.themes).filter(l=>l[1]).map(l=>({color:l[0],theme:l[1]})),s=r.map(l=>{const a=Vi(t,e,{...n,theme:l.theme}),f=xn(a),c=typeof l.theme=="string"?l.theme:l.theme.name;return{tokens:a,state:f,theme:c}}),i=Zy(...s.map(l=>l.tokens)),o=i[0].map((l,a)=>l.map((f,c)=>{const h={content:f.content,variants:{},offset:f.offset};return"includeExplanation"in n&&n.includeExplanation&&(h.explanation=f.explanation),i.forEach((d,p)=>{const{content:g,explanation:y,offset:D,...b}=d[a][c];h.variants[r[p].color]=b}),h})),u=s[0].state?new Wt(Object.fromEntries(s.map(l=>{var a;return[l.theme,(a=l.state)==null?void 0:a.getInternalStack(l.theme)]})),s[0].state.lang):void 0;return u&&rs(o,u),o}function Zy(...t){const e=t.map(()=>[]),n=t.length;for(let r=0;r<t[0].length;r++){const s=t.map(l=>l[r]),i=e.map(()=>[]);e.forEach((l,a)=>l.push(i[a]));const o=s.map(()=>0),u=s.map(l=>l[0]);for(;u.every(l=>l);){const l=Math.min(...u.map(a=>a.content.length));for(let a=0;a<n;a++){const f=u[a];f.content.length===l?(i[a].push(f),o[a]+=1,u[a]=s[a][o[a]]):(i[a].push({...f,content:f.content.slice(0,l)}),u[a]={...f,content:f.content.slice(l),offset:f.offset+l})}}}return e}function Mr(t,e,n){let r,s,i,o,u,l;if("themes"in n){const{defaultColor:a="light",cssVariablePrefix:f="--shiki-"}=n,c=Object.entries(n.themes).filter(y=>y[1]).map(y=>({color:y[0],theme:y[1]})).sort((y,D)=>y.color===a?-1:D.color===a?1:0);if(c.length===0)throw new bt("`themes` option must not be empty");const h=$a(t,e,n);if(l=xn(h),a&&!c.find(y=>y.color===a))throw new bt(`\`themes\` option must contain the defaultColor key \`${a}\``);const d=c.map(y=>t.getTheme(y.theme)),p=c.map(y=>y.color);i=h.map(y=>y.map(D=>Xy(D,p,f,a))),l&&rs(i,l);const g=c.map(y=>Br(y.theme,n));s=c.map((y,D)=>(D===0&&a?"":`${f+y.color}:`)+(dt(d[D].fg,g[D])||"inherit")).join(";"),r=c.map((y,D)=>(D===0&&a?"":`${f+y.color}-bg:`)+(dt(d[D].bg,g[D])||"inherit")).join(";"),o=`shiki-themes ${d.map(y=>y.name).join(" ")}`,u=a?void 0:[s,r].join(";")}else if("theme"in n){const a=Br(n.theme,n);i=Vi(t,e,n);const f=t.getTheme(n.theme);r=dt(f.bg,a),s=dt(f.fg,a),o=f.name,l=xn(i)}else throw new bt("Invalid options, either `theme` or `themes` must be provided");return{tokens:i,fg:s,bg:r,themeName:o,rootStyle:u,grammarState:l}}function Xy(t,e,n,r){const s={content:t.content,explanation:t.explanation,offset:t.offset},i=e.map(l=>Oa(t.variants[l])),o=new Set(i.flatMap(l=>Object.keys(l))),u={};return i.forEach((l,a)=>{for(const f of o){const c=l[f]||"inherit";if(a===0&&r)u[f]=c;else{const h=f==="color"?"":f==="background-color"?"-bg":`-${f}`,d=n+e[a]+(f==="color"?"":h);u[d]=c}}}),s.htmlStyle=u,s}function jr(t,e,n,r={meta:{},options:n,codeToHast:(s,i)=>jr(t,s,i),codeToTokens:(s,i)=>Mr(t,s,i)}){var d,p;let s=e;for(const g of Rr(n))s=((d=g.preprocess)==null?void 0:d.call(r,s,n))||s;let{tokens:i,fg:o,bg:u,themeName:l,rootStyle:a,grammarState:f}=Mr(t,s,n);const{mergeWhitespaces:c=!0}=n;c===!0?i=t1(i):c==="never"&&(i=n1(i));const h={...r,get source(){return s}};for(const g of Rr(n))i=((p=g.tokens)==null?void 0:p.call(h,i))||i;return e1(i,{...n,fg:o,bg:u,themeName:l,rootStyle:a},h,f)}function e1(t,e,n,r=xn(t)){var p,g,y;const s=Rr(e),i=[],o={type:"root",children:[]},{structure:u="classic",tabindex:l="0"}=e;let a={type:"element",tagName:"pre",properties:{class:`shiki ${e.themeName||""}`,style:e.rootStyle||`background-color:${e.bg};color:${e.fg}`,...l!==!1&&l!=null?{tabindex:l.toString()}:{},...Object.fromEntries(Array.from(Object.entries(e.meta||{})).filter(([D])=>!D.startsWith("_")))},children:[]},f={type:"element",tagName:"code",properties:{},children:i};const c=[],h={...n,structure:u,addClassToHast:Fa,get source(){return n.source},get tokens(){return t},get options(){return e},get root(){return o},get pre(){return a},get code(){return f},get lines(){return c}};if(t.forEach((D,b)=>{var E,C;b&&(u==="inline"?o.children.push({type:"element",tagName:"br",properties:{},children:[]}):u==="classic"&&i.push({type:"text",value:`
`}));let m={type:"element",tagName:"span",properties:{class:"line"},children:[]},_=0;for(const S of D){let A={type:"element",tagName:"span",properties:{...S.htmlAttrs},children:[{type:"text",value:S.content}]};S.htmlStyle;const O=Iy(S.htmlStyle||Oa(S));O&&(A.properties.style=O);for(const N of s)A=((E=N==null?void 0:N.span)==null?void 0:E.call(h,A,b+1,_,m,S))||A;u==="inline"?o.children.push(A):u==="classic"&&m.children.push(A),_+=S.content.length}if(u==="classic"){for(const S of s)m=((C=S==null?void 0:S.line)==null?void 0:C.call(h,m,b+1))||m;c.push(m),i.push(m)}}),u==="classic"){for(const D of s)f=((p=D==null?void 0:D.code)==null?void 0:p.call(h,f))||f;a.children.push(f);for(const D of s)a=((g=D==null?void 0:D.pre)==null?void 0:g.call(h,a))||a;o.children.push(a)}let d=o;for(const D of s)d=((y=D==null?void 0:D.root)==null?void 0:y.call(h,d))||d;return r&&rs(d,r),d}function t1(t){return t.map(e=>{const n=[];let r="",s=0;return e.forEach((i,o)=>{const l=!(i.fontStyle&&i.fontStyle&He.Underline);l&&i.content.match(/^\s+$/)&&e[o+1]?(s||(s=i.offset),r+=i.content):r?(l?n.push({...i,offset:s,content:r+i.content}):n.push({content:r,offset:s},i),s=0,r=""):n.push(i)}),n})}function n1(t){return t.map(e=>e.flatMap(n=>{if(n.content.match(/^\s+$/))return n;const r=n.content.match(/^(\s*)(.*?)(\s*)$/);if(!r)return n;const[,s,i,o]=r;if(!s&&!o)return n;const u=[{...n,offset:n.offset+s.length,content:i}];return s&&u.unshift({content:s,offset:n.offset}),o&&u.push({content:o,offset:n.offset+s.length+i.length}),u}))}function r1(t,e,n){var i;const r={meta:{},options:n,codeToHast:(o,u)=>jr(t,o,u),codeToTokens:(o,u)=>Mr(t,o,u)};let s=Sy(jr(t,e,n,r));for(const o of Rr(n))s=((i=o.postprocess)==null?void 0:i.call(r,s,n))||s;return s}const Ou={light:"#333333",dark:"#bbbbbb"},vu={light:"#fffffe",dark:"#1e1e1e"},Pu="__shiki_resolved";function Ki(t){var u,l,a,f,c;if(t!=null&&t[Pu])return t;const e={...t};e.tokenColors&&!e.settings&&(e.settings=e.tokenColors,delete e.tokenColors),e.type||(e.type="dark"),e.colorReplacements={...e.colorReplacements},e.settings||(e.settings=[]);let{bg:n,fg:r}=e;if(!n||!r){const h=e.settings?e.settings.find(d=>!d.name&&!d.scope):void 0;(u=h==null?void 0:h.settings)!=null&&u.foreground&&(r=h.settings.foreground),(l=h==null?void 0:h.settings)!=null&&l.background&&(n=h.settings.background),!r&&((a=e==null?void 0:e.colors)!=null&&a["editor.foreground"])&&(r=e.colors["editor.foreground"]),!n&&((f=e==null?void 0:e.colors)!=null&&f["editor.background"])&&(n=e.colors["editor.background"]),r||(r=e.type==="light"?Ou.light:Ou.dark),n||(n=e.type==="light"?vu.light:vu.dark),e.fg=r,e.bg=n}e.settings[0]&&e.settings[0].settings&&!e.settings[0].scope||e.settings.unshift({settings:{foreground:e.fg,background:e.bg}});let s=0;const i=new Map;function o(h){var p;if(i.has(h))return i.get(h);s+=1;const d=`#${s.toString(16).padStart(8,"0").toLowerCase()}`;return(p=e.colorReplacements)!=null&&p[`#${d}`]?o(h):(i.set(h,d),d)}e.settings=e.settings.map(h=>{var y,D;const d=((y=h.settings)==null?void 0:y.foreground)&&!h.settings.foreground.startsWith("#"),p=((D=h.settings)==null?void 0:D.background)&&!h.settings.background.startsWith("#");if(!d&&!p)return h;const g={...h,settings:{...h.settings}};if(d){const b=o(h.settings.foreground);e.colorReplacements[b]=h.settings.foreground,g.settings.foreground=b}if(p){const b=o(h.settings.background);e.colorReplacements[b]=h.settings.background,g.settings.background=b}return g});for(const h of Object.keys(e.colors||{}))if((h==="editor.foreground"||h==="editor.background"||h.startsWith("terminal.ansi"))&&!((c=e.colors[h])!=null&&c.startsWith("#"))){const d=o(e.colors[h]);e.colorReplacements[d]=e.colors[h],e.colors[h]=d}return Object.defineProperty(e,Pu,{enumerable:!1,writable:!1,value:!0}),e}async function Ia(t){return Array.from(new Set((await Promise.all(t.filter(e=>!Oy(e)).map(async e=>await wa(e).then(n=>Array.isArray(n)?n:[n])))).flat()))}async function Ta(t){return(await Promise.all(t.map(async n=>vy(n)?null:Ki(await wa(n))))).filter(n=>!!n)}class s1 extends Sg{constructor(n,r,s,i={}){super(n);k(this,"_resolvedThemes",new Map);k(this,"_resolvedGrammars",new Map);k(this,"_langMap",new Map);k(this,"_langGraph",new Map);k(this,"_textmateThemeCache",new WeakMap);k(this,"_loadedThemesCache",null);k(this,"_loadedLanguagesCache",null);this._resolver=n,this._themes=r,this._langs=s,this._alias=i,this._themes.map(o=>this.loadTheme(o)),this.loadLanguages(this._langs)}getTheme(n){return typeof n=="string"?this._resolvedThemes.get(n):this.loadTheme(n)}loadTheme(n){const r=Ki(n);return r.name&&(this._resolvedThemes.set(r.name,r),this._loadedThemesCache=null),r}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(n){let r=this._textmateThemeCache.get(n);r||(r=Pr.createFromRawTheme(n),this._textmateThemeCache.set(n,r)),this._syncRegistry.setTheme(r)}getGrammar(n){if(this._alias[n]){const r=new Set([n]);for(;this._alias[n];){if(n=this._alias[n],r.has(n))throw new he(`Circular alias \`${Array.from(r).join(" -> ")} -> ${n}\``);r.add(n)}}return this._resolvedGrammars.get(n)}loadLanguage(n){var o,u,l,a;if(this.getGrammar(n.name))return;const r=new Set([...this._langMap.values()].filter(f=>{var c;return(c=f.embeddedLangsLazy)==null?void 0:c.includes(n.name)}));this._resolver.addLanguage(n);const s={balancedBracketSelectors:n.balancedBracketSelectors||["*"],unbalancedBracketSelectors:n.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(n.scopeName,n);const i=this.loadGrammarWithConfiguration(n.scopeName,1,s);if(i.name=n.name,this._resolvedGrammars.set(n.name,i),n.aliases&&n.aliases.forEach(f=>{this._alias[f]=n.name}),this._loadedLanguagesCache=null,r.size)for(const f of r)this._resolvedGrammars.delete(f.name),this._loadedLanguagesCache=null,(u=(o=this._syncRegistry)==null?void 0:o._injectionGrammars)==null||u.delete(f.scopeName),(a=(l=this._syncRegistry)==null?void 0:l._grammars)==null||a.delete(f.scopeName),this.loadLanguage(this._langMap.get(f.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(n){for(const i of n)this.resolveEmbeddedLanguages(i);const r=Array.from(this._langGraph.entries()),s=r.filter(([i,o])=>!o);if(s.length){const i=r.filter(([o,u])=>{var l;return u&&((l=u.embeddedLangs)==null?void 0:l.some(a=>s.map(([f])=>f).includes(a)))}).filter(o=>!s.includes(o));throw new he(`Missing languages ${s.map(([o])=>`\`${o}\``).join(", ")}, required by ${i.map(([o])=>`\`${o}\``).join(", ")}`)}for(const[i,o]of r)this._resolver.addLanguage(o);for(const[i,o]of r)this.loadLanguage(o)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(n){if(this._langMap.set(n.name,n),this._langGraph.set(n.name,n),n.embeddedLangs)for(const r of n.embeddedLangs)this._langGraph.set(r,this._langMap.get(r))}}class i1{constructor(e,n){k(this,"_langs",new Map);k(this,"_scopeToLang",new Map);k(this,"_injections",new Map);k(this,"_onigLib");this._onigLib={createOnigScanner:r=>e.createScanner(r),createOnigString:r=>e.createString(r)},n.forEach(r=>this.addLanguage(r))}get onigLib(){return this._onigLib}getLangRegistration(e){return this._langs.get(e)}loadGrammar(e){return this._scopeToLang.get(e)}addLanguage(e){this._langs.set(e.name,e),e.aliases&&e.aliases.forEach(n=>{this._langs.set(n,e)}),this._scopeToLang.set(e.scopeName,e),e.injectTo&&e.injectTo.forEach(n=>{this._injections.get(n)||this._injections.set(n,[]),this._injections.get(n).push(e.scopeName)})}getInjections(e){const n=e.split(".");let r=[];for(let s=1;s<=n.length;s++){const i=n.slice(0,s).join(".");r=[...r,...this._injections.get(i)||[]]}return r}}let rn=0;function o1(t){rn+=1,t.warnings!==!1&&rn>=10&&rn%10===0&&console.warn(`[Shiki] ${rn} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let e=!1;if(!t.engine)throw new he("`engine` option is required for synchronous mode");const n=(t.langs||[]).flat(1),r=(t.themes||[]).flat(1).map(Ki),s=new i1(t.engine,n),i=new s1(s,r,n,t.langAlias);let o;function u(b){y();const m=i.getGrammar(typeof b=="string"?b:b.name);if(!m)throw new he(`Language \`${b}\` not found, you may need to load it first`);return m}function l(b){if(b==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};y();const m=i.getTheme(b);if(!m)throw new he(`Theme \`${b}\` not found, you may need to load it first`);return m}function a(b){y();const m=l(b);o!==b&&(i.setTheme(m),o=b);const _=i.getColorMap();return{theme:m,colorMap:_}}function f(){return y(),i.getLoadedThemes()}function c(){return y(),i.getLoadedLanguages()}function h(...b){y(),i.loadLanguages(b.flat(1))}async function d(...b){return h(await Ia(b))}function p(...b){y();for(const m of b.flat(1))i.loadTheme(m)}async function g(...b){return y(),p(await Ta(b))}function y(){if(e)throw new he("Shiki instance has been disposed")}function D(){e||(e=!0,i.dispose(),rn-=1)}return{setTheme:a,getTheme:l,getLanguage:u,getLoadedThemes:f,getLoadedLanguages:c,loadLanguage:d,loadLanguageSync:h,loadTheme:g,loadThemeSync:p,dispose:D,[Symbol.dispose]:D}}async function u1(t={}){t.loadWasm;const[e,n,r]=await Promise.all([Ta(t.themes||[]),Ia(t.langs||[]),t.engine||M0(t.loadWasm||L0())]);return o1({...t,themes:e,langs:n,engine:r})}async function l1(t={}){const e=await u1(t);return{getLastGrammarState:(...n)=>Ky(e,...n),codeToTokensBase:(n,r)=>Vi(e,n,r),codeToTokensWithThemes:(n,r)=>$a(e,n,r),codeToTokens:(n,r)=>Mr(e,n,r),codeToHast:(n,r)=>jr(e,n,r),codeToHtml:(n,r)=>r1(e,n,r),...e,getInternalContext:()=>e}}const fi=Se({linkify:!0,typographer:!0});(async()=>{const t=await l1({themes:[bs(()=>import("./vitesse-light-1.0.61-CVO1_9PV.js"),[],import.meta.url),bs(()=>import("./vitesse-dark-1.0.61-D0r3Knsf.js"),[],import.meta.url)],langs:[bs(()=>import("./javascript-1.0.61-ySlJ1b_l.js"),[],import.meta.url)]});fi.use(_0(t,{themes:{light:"vitesse-light",dark:"vitesse-dark"}}))})();function Bt(t,e=!0){return e?fi.renderInline(t):fi.render(t)}const a1=qc({String:Xe.string,Number:Xe.number,"True False":Xe.bool,PropertyName:Xe.propertyName,Null:Xe.null,", :":Xe.separator,"[ ]":Xe.squareBracket,"{ }":Xe.brace}),c1=_r.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"âš  JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[a1],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),f1=()=>t=>{try{JSON.parse(t.state.doc.toString())}catch(e){if(!(e instanceof SyntaxError))throw e;const n=h1(e,t.state.doc);return[{from:n,message:e.message,severity:"error",to:n}]}return[]};function h1(t,e){let n;return(n=t.message.match(/at position (\d+)/))?Math.min(+n[1],e.length):(n=t.message.match(/at line (\d+) column (\d+)/))?Math.min(e.line(+n[1]).from+ +n[2]-1,e.length):0}const Na=Gc.define({name:"json",parser:c1.configure({props:[Kc.add({Object:ao({except:/^\s*\}/}),Array:ao({except:/^\s*\]/})}),Wc.add({"Object Array":Jc})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function d1(){return new Vc(Na)}var Us={},$u;function p1(){return $u||($u=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.parse=void 0;function e(m){if(m!==void 0){if(m===null)return null;if(m==="")return"";m=m.replace(/\\+$/,_=>_.length%2===0?_:_.slice(0,-1));try{return JSON.parse(m)}catch(_){const[E,C]=m.trimLeft()[0]===":"?n(m,_):n(m,_,d);if(e.lastParseReminding=C,e.onExtraToken&&C.length>0){const S=C.trimRight();e.lastParseReminding=S,S.length>0&&e.onExtraToken(m,E,S)}return E}}}t.parse=e,function(m){m.onExtraToken=(_,E,C)=>{console.error("parsed json with extra tokens:",{text:_,data:E,reminding:C})}}(e=t.parse||(t.parse={}));function n(m,_,E){const C=s[m[0]]||E;if(!C)throw console.error(`no parser registered for ${JSON.stringify(m[0])}:`,{s:m}),_;return C(m,_)}function r(m,_,E){return m[0]==='"'?f(m):m[0]==="'"?h(m):d(m,_,E)}const s={};function i(m){return m.trimLeft()}s[" "]=o,s["\r"]=o,s[`
`]=o,s["	"]=o;function o(m,_){return m=i(m),n(m,_)}s["["]=u;function u(m,_){m=m.substr(1);const E=[];for(m=i(m);m.length>0;){if(m[0]==="]"){m=m.substr(1);break}const C=n(m,_,(S,A)=>d(S,A,[",","]"]));E.push(C[0]),m=C[1],m=i(m),m[0]===","&&(m=m.substring(1),m=i(m))}return[E,m]}for(const m of"0123456789.-".slice())s[m]=l;function l(m){for(let _=0;_<m.length;_++){const E=m[_];if(s[E]===l)continue;const C=m.substring(0,_);return m=m.substring(_),[a(C),m]}return[a(m),""]}function a(m){if(m==="-")return-0;const _=+m;return Number.isNaN(_)?m:_}s['"']=f;function f(m){for(let _=1;_<m.length;_++){const E=m[_];if(E==="\\"){_++;continue}if(E==='"'){const C=c(m.substring(0,_+1));return m=m.substring(_+1),[JSON.parse(C),m]}}return[JSON.parse(c(m)+'"'),""]}function c(m){return m.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}s["'"]=h;function h(m){for(let _=1;_<m.length;_++){const E=m[_];if(E==="\\"){_++;continue}if(E==="'"){const C=c(m.substring(0,_+1));return m=m.substring(_+1),[JSON.parse('"'+C.slice(1,-1)+'"'),m]}}return[JSON.parse('"'+c(m.slice(1))+'"'),""]}function d(m,_,E=[" "]){const C=Math.min(...E.map(O=>{const N=m.indexOf(O);return N===-1?m.length:N})),S=m.substring(0,C).trim(),A=m.substring(C);return[S,A]}s["{"]=p;function p(m,_){m=m.substr(1);const E={};for(m=i(m);m.length>0;){if(m[0]==="}"){m=m.substr(1);break}const C=r(m,_,[":","}"]),S=C[0];if(m=C[1],m=i(m),m[0]!==":"){E[S]=void 0;break}if(m=m.substr(1),m=i(m),m.length===0){E[S]=void 0;break}const A=n(m,_);E[S]=A[0],m=A[1],m=i(m),m[0]===","&&(m=m.substr(1),m=i(m))}return[E,m]}s.t=g;function g(m,_){return b(m,"true",!0,_)}s.f=y;function y(m,_){return b(m,"false",!1,_)}s.n=D;function D(m,_){return b(m,"null",null,_)}function b(m,_,E,C){for(let S=_.length;S>=1;S--)if(m.startsWith(_.slice(0,S)))return[E,m.slice(S)];{const S=JSON.stringify(m.slice(0,_.length));throw console.error(`unknown token starting with ${S}:`,{s:m}),C}}}(Us)),Us}var Ba=p1();function m1(t){let e=null;try{e=JSON.parse(t.doc.toString())}catch{try{e=Ba.parse(t.doc.toString())}catch{}}const n=ki(t,J.JSON);return{data:e,pointers:n}}var g1=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,y1=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,b1=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,zs={Space_Separator:g1,ID_Start:y1,ID_Continue:b1},re={isSpaceSeparator(t){return typeof t=="string"&&zs.Space_Separator.test(t)},isIdStartChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="$"||t==="_"||zs.ID_Start.test(t))},isIdContinueChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||t==="$"||t==="_"||t==="â€Œ"||t==="â€"||zs.ID_Continue.test(t))},isDigit(t){return typeof t=="string"&&/[0-9]/.test(t)},isHexDigit(t){return typeof t=="string"&&/[0-9A-Fa-f]/.test(t)}};let hi,de,We,Ur,it,Oe,ie,Wi,dn;var D1=function(e,n){hi=String(e),de="start",We=[],Ur=0,it=1,Oe=0,ie=void 0,Wi=void 0,dn=void 0;do ie=_1(),A1[de]();while(ie.type!=="eof");return typeof n=="function"?di({"":dn},"",n):dn};function di(t,e,n){const r=t[e];if(r!=null&&typeof r=="object")if(Array.isArray(r))for(let s=0;s<r.length;s++){const i=String(s),o=di(r,i,n);o===void 0?delete r[i]:Object.defineProperty(r,i,{value:o,writable:!0,enumerable:!0,configurable:!0})}else for(const s in r){const i=di(r,s,n);i===void 0?delete r[s]:Object.defineProperty(r,s,{value:i,writable:!0,enumerable:!0,configurable:!0})}return n.call(t,e,r)}let L,B,ln,ze,j;function _1(){for(L="default",B="",ln=!1,ze=1;;){j=Ye();const t=Ra[L]();if(t)return t}}function Ye(){if(hi[Ur])return String.fromCodePoint(hi.codePointAt(Ur))}function F(){const t=Ye();return t===`
`?(it++,Oe=0):t?Oe+=t.length:Oe++,t&&(Ur+=t.length),t}const Ra={default(){switch(j){case"	":case"\v":case"\f":case" ":case"Â ":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":F();return;case"/":F(),L="comment";return;case void 0:return F(),K("eof")}if(re.isSpaceSeparator(j)){F();return}return Ra[de]()},comment(){switch(j){case"*":F(),L="multiLineComment";return;case"/":F(),L="singleLineComment";return}throw W(F())},multiLineComment(){switch(j){case"*":F(),L="multiLineCommentAsterisk";return;case void 0:throw W(F())}F()},multiLineCommentAsterisk(){switch(j){case"*":F();return;case"/":F(),L="default";return;case void 0:throw W(F())}F(),L="multiLineComment"},singleLineComment(){switch(j){case`
`:case"\r":case"\u2028":case"\u2029":F(),L="default";return;case void 0:return F(),K("eof")}F()},value(){switch(j){case"{":case"[":return K("punctuator",F());case"n":return F(),lt("ull"),K("null",null);case"t":return F(),lt("rue"),K("boolean",!0);case"f":return F(),lt("alse"),K("boolean",!1);case"-":case"+":F()==="-"&&(ze=-1),L="sign";return;case".":B=F(),L="decimalPointLeading";return;case"0":B=F(),L="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":B=F(),L="decimalInteger";return;case"I":return F(),lt("nfinity"),K("numeric",1/0);case"N":return F(),lt("aN"),K("numeric",NaN);case'"':case"'":ln=F()==='"',B="",L="string";return}throw W(F())},identifierNameStartEscape(){if(j!=="u")throw W(F());F();const t=pi();switch(t){case"$":case"_":break;default:if(!re.isIdStartChar(t))throw Iu();break}B+=t,L="identifierName"},identifierName(){switch(j){case"$":case"_":case"â€Œ":case"â€":B+=F();return;case"\\":F(),L="identifierNameEscape";return}if(re.isIdContinueChar(j)){B+=F();return}return K("identifier",B)},identifierNameEscape(){if(j!=="u")throw W(F());F();const t=pi();switch(t){case"$":case"_":case"â€Œ":case"â€":break;default:if(!re.isIdContinueChar(t))throw Iu();break}B+=t,L="identifierName"},sign(){switch(j){case".":B=F(),L="decimalPointLeading";return;case"0":B=F(),L="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":B=F(),L="decimalInteger";return;case"I":return F(),lt("nfinity"),K("numeric",ze*(1/0));case"N":return F(),lt("aN"),K("numeric",NaN)}throw W(F())},zero(){switch(j){case".":B+=F(),L="decimalPoint";return;case"e":case"E":B+=F(),L="decimalExponent";return;case"x":case"X":B+=F(),L="hexadecimal";return}return K("numeric",ze*0)},decimalInteger(){switch(j){case".":B+=F(),L="decimalPoint";return;case"e":case"E":B+=F(),L="decimalExponent";return}if(re.isDigit(j)){B+=F();return}return K("numeric",ze*Number(B))},decimalPointLeading(){if(re.isDigit(j)){B+=F(),L="decimalFraction";return}throw W(F())},decimalPoint(){switch(j){case"e":case"E":B+=F(),L="decimalExponent";return}if(re.isDigit(j)){B+=F(),L="decimalFraction";return}return K("numeric",ze*Number(B))},decimalFraction(){switch(j){case"e":case"E":B+=F(),L="decimalExponent";return}if(re.isDigit(j)){B+=F();return}return K("numeric",ze*Number(B))},decimalExponent(){switch(j){case"+":case"-":B+=F(),L="decimalExponentSign";return}if(re.isDigit(j)){B+=F(),L="decimalExponentInteger";return}throw W(F())},decimalExponentSign(){if(re.isDigit(j)){B+=F(),L="decimalExponentInteger";return}throw W(F())},decimalExponentInteger(){if(re.isDigit(j)){B+=F();return}return K("numeric",ze*Number(B))},hexadecimal(){if(re.isHexDigit(j)){B+=F(),L="hexadecimalInteger";return}throw W(F())},hexadecimalInteger(){if(re.isHexDigit(j)){B+=F();return}return K("numeric",ze*Number(B))},string(){switch(j){case"\\":F(),B+=E1();return;case'"':if(ln)return F(),K("string",B);B+=F();return;case"'":if(!ln)return F(),K("string",B);B+=F();return;case`
`:case"\r":throw W(F());case"\u2028":case"\u2029":k1(j);break;case void 0:throw W(F())}B+=F()},start(){switch(j){case"{":case"[":return K("punctuator",F())}L="value"},beforePropertyName(){switch(j){case"$":case"_":B=F(),L="identifierName";return;case"\\":F(),L="identifierNameStartEscape";return;case"}":return K("punctuator",F());case'"':case"'":ln=F()==='"',L="string";return}if(re.isIdStartChar(j)){B+=F(),L="identifierName";return}throw W(F())},afterPropertyName(){if(j===":")return K("punctuator",F());throw W(F())},beforePropertyValue(){L="value"},afterPropertyValue(){switch(j){case",":case"}":return K("punctuator",F())}throw W(F())},beforeArrayValue(){if(j==="]")return K("punctuator",F());L="value"},afterArrayValue(){switch(j){case",":case"]":return K("punctuator",F())}throw W(F())},end(){throw W(F())}};function K(t,e){return{type:t,value:e,line:it,column:Oe}}function lt(t){for(const e of t){if(Ye()!==e)throw W(F());F()}}function E1(){switch(Ye()){case"b":return F(),"\b";case"f":return F(),"\f";case"n":return F(),`
`;case"r":return F(),"\r";case"t":return F(),"	";case"v":return F(),"\v";case"0":if(F(),re.isDigit(Ye()))throw W(F());return"\0";case"x":return F(),C1();case"u":return F(),pi();case`
`:case"\u2028":case"\u2029":return F(),"";case"\r":return F(),Ye()===`
`&&F(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw W(F());case void 0:throw W(F())}return F()}function C1(){let t="",e=Ye();if(!re.isHexDigit(e)||(t+=F(),e=Ye(),!re.isHexDigit(e)))throw W(F());return t+=F(),String.fromCodePoint(parseInt(t,16))}function pi(){let t="",e=4;for(;e-- >0;){const n=Ye();if(!re.isHexDigit(n))throw W(F());t+=F()}return String.fromCodePoint(parseInt(t,16))}const A1={start(){if(ie.type==="eof")throw at();qs()},beforePropertyName(){switch(ie.type){case"identifier":case"string":Wi=ie.value,de="afterPropertyName";return;case"punctuator":Xn();return;case"eof":throw at()}},afterPropertyName(){if(ie.type==="eof")throw at();de="beforePropertyValue"},beforePropertyValue(){if(ie.type==="eof")throw at();qs()},beforeArrayValue(){if(ie.type==="eof")throw at();if(ie.type==="punctuator"&&ie.value==="]"){Xn();return}qs()},afterPropertyValue(){if(ie.type==="eof")throw at();switch(ie.value){case",":de="beforePropertyName";return;case"}":Xn()}},afterArrayValue(){if(ie.type==="eof")throw at();switch(ie.value){case",":de="beforeArrayValue";return;case"]":Xn()}},end(){}};function qs(){let t;switch(ie.type){case"punctuator":switch(ie.value){case"{":t={};break;case"[":t=[];break}break;case"null":case"boolean":case"numeric":case"string":t=ie.value;break}if(dn===void 0)dn=t;else{const e=We[We.length-1];Array.isArray(e)?e.push(t):Object.defineProperty(e,Wi,{value:t,writable:!0,enumerable:!0,configurable:!0})}if(t!==null&&typeof t=="object")We.push(t),Array.isArray(t)?de="beforeArrayValue":de="beforePropertyName";else{const e=We[We.length-1];e==null?de="end":Array.isArray(e)?de="afterArrayValue":de="afterPropertyValue"}}function Xn(){We.pop();const t=We[We.length-1];t==null?de="end":Array.isArray(t)?de="afterArrayValue":de="afterPropertyValue"}function W(t){return zr(t===void 0?`JSON5: invalid end of input at ${it}:${Oe}`:`JSON5: invalid character '${La(t)}' at ${it}:${Oe}`)}function at(){return zr(`JSON5: invalid end of input at ${it}:${Oe}`)}function Iu(){return Oe-=5,zr(`JSON5: invalid identifier character at ${it}:${Oe}`)}function k1(t){console.warn(`JSON5: '${La(t)}' in strings is not valid ECMAScript; consider escaping`)}function La(t){const e={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(e[t])return e[t];if(t<" "){const n=t.charCodeAt(0).toString(16);return"\\x"+("00"+n).substring(n.length)}return t}function zr(t){const e=new SyntaxError(t);return e.lineNumber=it,e.columnNumber=Oe,e}const S1={parse:D1};var x1=S1;function F1(t){const e=t.doc.toString();let n=null;try{n=x1.parse(e)}catch{try{n=Ba.parse(e)}catch{}}const r=ki(t,J.JSON5);return{data:n,pointers:r}}const Ji=Symbol.for("yaml.alias"),mi=Symbol.for("yaml.document"),rt=Symbol.for("yaml.map"),Ma=Symbol.for("yaml.pair"),Me=Symbol.for("yaml.scalar"),Jt=Symbol.for("yaml.seq"),xe=Symbol.for("yaml.node.type"),Et=t=>!!t&&typeof t=="object"&&t[xe]===Ji,Ct=t=>!!t&&typeof t=="object"&&t[xe]===mi,Ht=t=>!!t&&typeof t=="object"&&t[xe]===rt,H=t=>!!t&&typeof t=="object"&&t[xe]===Ma,q=t=>!!t&&typeof t=="object"&&t[xe]===Me,Qt=t=>!!t&&typeof t=="object"&&t[xe]===Jt;function Z(t){if(t&&typeof t=="object")switch(t[xe]){case rt:case Jt:return!0}return!1}function X(t){if(t&&typeof t=="object")switch(t[xe]){case Ji:case rt:case Me:case Jt:return!0}return!1}const w1=t=>(q(t)||Z(t))&&!!t.anchor,ye=Symbol("break visit"),ja=Symbol("skip children"),Le=Symbol("remove node");function ot(t,e){const n=Ua(e);Ct(t)?wt(null,t.contents,n,Object.freeze([t]))===Le&&(t.contents=null):wt(null,t,n,Object.freeze([]))}ot.BREAK=ye;ot.SKIP=ja;ot.REMOVE=Le;function wt(t,e,n,r){const s=za(t,e,n,r);if(X(s)||H(s))return qa(t,r,s),wt(t,s,n,r);if(typeof s!="symbol"){if(Z(e)){r=Object.freeze(r.concat(e));for(let i=0;i<e.items.length;++i){const o=wt(i,e.items[i],n,r);if(typeof o=="number")i=o-1;else{if(o===ye)return ye;o===Le&&(e.items.splice(i,1),i-=1)}}}else if(H(e)){r=Object.freeze(r.concat(e));const i=wt("key",e.key,n,r);if(i===ye)return ye;i===Le&&(e.key=null);const o=wt("value",e.value,n,r);if(o===ye)return ye;o===Le&&(e.value=null)}}return s}async function ss(t,e){const n=Ua(e);Ct(t)?await Ot(null,t.contents,n,Object.freeze([t]))===Le&&(t.contents=null):await Ot(null,t,n,Object.freeze([]))}ss.BREAK=ye;ss.SKIP=ja;ss.REMOVE=Le;async function Ot(t,e,n,r){const s=await za(t,e,n,r);if(X(s)||H(s))return qa(t,r,s),Ot(t,s,n,r);if(typeof s!="symbol"){if(Z(e)){r=Object.freeze(r.concat(e));for(let i=0;i<e.items.length;++i){const o=await Ot(i,e.items[i],n,r);if(typeof o=="number")i=o-1;else{if(o===ye)return ye;o===Le&&(e.items.splice(i,1),i-=1)}}}else if(H(e)){r=Object.freeze(r.concat(e));const i=await Ot("key",e.key,n,r);if(i===ye)return ye;i===Le&&(e.key=null);const o=await Ot("value",e.value,n,r);if(o===ye)return ye;o===Le&&(e.value=null)}}return s}function Ua(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function za(t,e,n,r){var s,i,o,u,l;if(typeof n=="function")return n(t,e,r);if(Ht(e))return(s=n.Map)==null?void 0:s.call(n,t,e,r);if(Qt(e))return(i=n.Seq)==null?void 0:i.call(n,t,e,r);if(H(e))return(o=n.Pair)==null?void 0:o.call(n,t,e,r);if(q(e))return(u=n.Scalar)==null?void 0:u.call(n,t,e,r);if(Et(e))return(l=n.Alias)==null?void 0:l.call(n,t,e,r)}function qa(t,e,n){const r=e[e.length-1];if(Z(r))r.items[t]=n;else if(H(r))t==="key"?r.key=n:r.value=n;else if(Ct(r))r.contents=n;else{const s=Et(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}}const O1={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},v1=t=>t.replace(/[!,[\]{}]/g,e=>O1[e]);class ce{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},ce.defaultYaml,e),this.tags=Object.assign({},ce.defaultTags,n)}clone(){const e=new ce(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new ce(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:ce.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},ce.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:ce.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},ce.defaultTags),this.atNextDocument=!1);const r=e.trim().split(/[ \t]+/),s=r.shift();switch(s){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[i,o]=r;return this.tags[i]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[i]=r;if(i==="1.1"||i==="1.2")return this.yaml.version=i,!0;{const o=/^\d+\.\d+$/.test(i);return n(6,`Unsupported YAML version ${i}`,o),!1}}default:return n(0,`Unknown directive ${s}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,r,s]=e.match(/^(.*!)([^!]*)$/s);s||n(`The ${e} tag has no suffix`);const i=this.tags[r];if(i)try{return i+decodeURIComponent(s)}catch(o){return n(String(o)),null}return r==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,r]of Object.entries(this.tags))if(e.startsWith(r))return n+v1(e.substring(r.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let s;if(e&&r.length>0&&X(e.contents)){const i={};ot(e.contents,(o,u)=>{X(u)&&u.tag&&(i[u.tag]=!0)}),s=Object.keys(i)}else s=[];for(const[i,o]of r)i==="!!"&&o==="tag:yaml.org,2002:"||(!e||s.some(u=>u.startsWith(o)))&&n.push(`%TAG ${i} ${o}`);return n.join(`
`)}}ce.defaultYaml={explicit:!1,version:"1.2"};ce.defaultTags={"!!":"tag:yaml.org,2002:"};function Ga(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function Va(t){const e=new Set;return ot(t,{Value(n,r){r.anchor&&e.add(r.anchor)}}),e}function Ka(t,e){for(let n=1;;++n){const r=`${t}${n}`;if(!e.has(r))return r}}function P1(t,e){const n=[],r=new Map;let s=null;return{onAnchor:i=>{n.push(i),s||(s=Va(t));const o=Ka(e,s);return s.add(o),o},setAnchors:()=>{for(const i of n){const o=r.get(i);if(typeof o=="object"&&o.anchor&&(q(o.node)||Z(o.node)))o.node.anchor=o.anchor;else{const u=new Error("Failed to resolve repeated object (this should not happen)");throw u.source=i,u}}},sourceObjects:r}}function vt(t,e,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let s=0,i=r.length;s<i;++s){const o=r[s],u=vt(t,r,String(s),o);u===void 0?delete r[s]:u!==o&&(r[s]=u)}else if(r instanceof Map)for(const s of Array.from(r.keys())){const i=r.get(s),o=vt(t,r,s,i);o===void 0?r.delete(s):o!==i&&r.set(s,o)}else if(r instanceof Set)for(const s of Array.from(r)){const i=vt(t,r,s,s);i===void 0?r.delete(s):i!==s&&(r.delete(s),r.add(i))}else for(const[s,i]of Object.entries(r)){const o=vt(t,r,s,i);o===void 0?delete r[s]:o!==i&&(r[s]=o)}return t.call(e,n,r)}function ke(t,e,n){if(Array.isArray(t))return t.map((r,s)=>ke(r,String(s),n));if(t&&typeof t.toJSON=="function"){if(!n||!w1(t))return t.toJSON(e,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(t,r),n.onCreate=i=>{r.res=i,delete n.onCreate};const s=t.toJSON(e,n);return n.onCreate&&n.onCreate(s),s}return typeof t=="bigint"&&!(n!=null&&n.keep)?Number(t):t}class Hi{constructor(e){Object.defineProperty(this,xe,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:r,onAnchor:s,reviver:i}={}){if(!Ct(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},u=ke(this,"",o);if(typeof s=="function")for(const{count:l,res:a}of o.anchors.values())s(a,l);return typeof i=="function"?vt(i,{"":u},"",u):u}}class is extends Hi{constructor(e){super(Ji),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let n;return ot(e,{Node:(r,s)=>{if(s===this)return ot.BREAK;s.anchor===this.source&&(n=s)}}),n}toJSON(e,n){if(!n)return{source:this.source};const{anchors:r,doc:s,maxAliasCount:i}=n,o=this.resolve(s);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let u=r.get(o);if(u||(ke(o,null,n),u=r.get(o)),!u||u.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(i>=0&&(u.count+=1,u.aliasCount===0&&(u.aliasCount=pr(s,o,r)),u.count*u.aliasCount>i)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return u.res}toString(e,n,r){const s=`*${this.source}`;if(e){if(Ga(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(e.implicitKey)return`${s} `}return s}}function pr(t,e,n){if(Et(e)){const r=e.resolve(t),s=n&&r&&n.get(r);return s?s.count*s.aliasCount:0}else if(Z(e)){let r=0;for(const s of e.items){const i=pr(t,s,n);i>r&&(r=i)}return r}else if(H(e)){const r=pr(t,e.key,n),s=pr(t,e.value,n);return Math.max(r,s)}return 1}const Wa=t=>!t||typeof t!="function"&&typeof t!="object";class T extends Hi{constructor(e){super(Me),this.value=e}toJSON(e,n){return n!=null&&n.keep?this.value:ke(this.value,e,n)}toString(){return String(this.value)}}T.BLOCK_FOLDED="BLOCK_FOLDED";T.BLOCK_LITERAL="BLOCK_LITERAL";T.PLAIN="PLAIN";T.QUOTE_DOUBLE="QUOTE_DOUBLE";T.QUOTE_SINGLE="QUOTE_SINGLE";const $1="tag:yaml.org,2002:";function I1(t,e,n){if(e){const r=n.filter(i=>i.tag===e),s=r.find(i=>!i.format)??r[0];if(!s)throw new Error(`Tag ${e} not found`);return s}return n.find(r=>{var s;return((s=r.identify)==null?void 0:s.call(r,t))&&!r.format})}function Fn(t,e,n){var c,h,d;if(Ct(t)&&(t=t.contents),X(t))return t;if(H(t)){const p=(h=(c=n.schema[rt]).createNode)==null?void 0:h.call(c,n.schema,null,n);return p.items.push(t),p}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:r,onAnchor:s,onTagObj:i,schema:o,sourceObjects:u}=n;let l;if(r&&t&&typeof t=="object"){if(l=u.get(t),l)return l.anchor||(l.anchor=s(t)),new is(l.anchor);l={anchor:null,node:null},u.set(t,l)}e!=null&&e.startsWith("!!")&&(e=$1+e.slice(2));let a=I1(t,e,o.tags);if(!a){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const p=new T(t);return l&&(l.node=p),p}a=t instanceof Map?o[rt]:Symbol.iterator in Object(t)?o[Jt]:o[rt]}i&&(i(a),delete n.onTagObj);const f=a!=null&&a.createNode?a.createNode(n.schema,t,n):typeof((d=a==null?void 0:a.nodeClass)==null?void 0:d.from)=="function"?a.nodeClass.from(n.schema,t,n):new T(t);return e?f.tag=e:a.default||(f.tag=a.tag),l&&(l.node=f),f}function qr(t,e,n){let r=n;for(let s=e.length-1;s>=0;--s){const i=e[s];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const o=[];o[i]=r,r=o}else r=new Map([[i,r]])}return Fn(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const an=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class Ja extends Hi{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(r=>X(r)||H(r)?r.clone(e):r),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(an(e))this.add(n);else{const[r,...s]=e,i=this.get(r,!0);if(Z(i))i.addIn(s,n);else if(i===void 0&&this.schema)this.set(r,qr(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}deleteIn(e){const[n,...r]=e;if(r.length===0)return this.delete(n);const s=this.get(n,!0);if(Z(s))return s.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(e,n){const[r,...s]=e,i=this.get(r,!0);return s.length===0?!n&&q(i)?i.value:i:Z(i)?i.getIn(s,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!H(n))return!1;const r=n.value;return r==null||e&&q(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(e){const[n,...r]=e;if(r.length===0)return this.has(n);const s=this.get(n,!0);return Z(s)?s.hasIn(r):!1}setIn(e,n){const[r,...s]=e;if(s.length===0)this.set(r,n);else{const i=this.get(r,!0);if(Z(i))i.setIn(s,n);else if(i===void 0&&this.schema)this.set(r,qr(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}}const T1=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function Qe(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const mt=(t,e,n)=>t.endsWith(`
`)?Qe(n,e):n.includes(`
`)?`
`+Qe(n,e):(t.endsWith(" ")?"":" ")+n,Ha="flow",gi="block",mr="quoted";function os(t,e,n="flow",{indentAtStart:r,lineWidth:s=80,minContentWidth:i=20,onFold:o,onOverflow:u}={}){if(!s||s<0)return t;s<i&&(i=0);const l=Math.max(1+i,1+s-e.length);if(t.length<=l)return t;const a=[],f={};let c=s-e.length;typeof r=="number"&&(r>s-Math.max(2,i)?a.push(0):c=s-r);let h,d,p=!1,g=-1,y=-1,D=-1;n===gi&&(g=Tu(t,g,e.length),g!==-1&&(c=g+l));for(let m;m=t[g+=1];){if(n===mr&&m==="\\"){switch(y=g,t[g+1]){case"x":g+=3;break;case"u":g+=5;break;case"U":g+=9;break;default:g+=1}D=g}if(m===`
`)n===gi&&(g=Tu(t,g,e.length)),c=g+e.length+l,h=void 0;else{if(m===" "&&d&&d!==" "&&d!==`
`&&d!=="	"){const _=t[g+1];_&&_!==" "&&_!==`
`&&_!=="	"&&(h=g)}if(g>=c)if(h)a.push(h),c=h+l,h=void 0;else if(n===mr){for(;d===" "||d==="	";)d=m,m=t[g+=1],p=!0;const _=g>D+1?g-2:y-1;if(f[_])return t;a.push(_),f[_]=!0,c=_+l,h=void 0}else p=!0}d=m}if(p&&u&&u(),a.length===0)return t;o&&o();let b=t.slice(0,a[0]);for(let m=0;m<a.length;++m){const _=a[m],E=a[m+1]||t.length;_===0?b=`
${e}${t.slice(0,E)}`:(n===mr&&f[_]&&(b+=`${t[_]}\\`),b+=`
${e}${t.slice(_+1,E)}`)}return b}function Tu(t,e,n){let r=e,s=e+1,i=t[s];for(;i===" "||i==="	";)if(e<s+n)i=t[++e];else{do i=t[++e];while(i&&i!==`
`);r=e,s=e+1,i=t[s]}return r}const us=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),ls=t=>/^(%|---|\.\.\.)/m.test(t);function N1(t,e,n){if(!e||e<0)return!1;const r=e-n,s=t.length;if(s<=r)return!1;for(let i=0,o=0;i<s;++i)if(t[i]===`
`){if(i-o>r)return!0;if(o=i+1,s-o<=r)return!1}return!0}function pn(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=e,s=e.options.doubleQuotedMinMultiLineLength,i=e.indent||(ls(t)?"  ":"");let o="",u=0;for(let l=0,a=n[l];a;a=n[++l])if(a===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(o+=n.slice(u,l)+"\\ ",l+=1,u=l,a="\\"),a==="\\")switch(n[l+1]){case"u":{o+=n.slice(u,l);const f=n.substr(l+2,4);switch(f){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:f.substr(0,2)==="00"?o+="\\x"+f.substr(2):o+=n.substr(l,6)}l+=5,u=l+1}break;case"n":if(r||n[l+2]==='"'||n.length<s)l+=1;else{for(o+=n.slice(u,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)o+=`
`,l+=2;o+=i,n[l+2]===" "&&(o+="\\"),l+=1,u=l+1}break;default:l+=1}return o=u?o+n.slice(u):n,r?o:os(o,i,mr,us(e,!1))}function yi(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return pn(t,e);const n=e.indent||(ls(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:os(r,n,Ha,us(e,!1))}function Pt(t,e){const{singleQuote:n}=e.options;let r;if(n===!1)r=pn;else{const s=t.includes('"'),i=t.includes("'");s&&!i?r=yi:i&&!s?r=pn:r=n?yi:pn}return r(t,e)}let bi;try{bi=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{bi=/\n+(?!\n|$)/g}function gr({comment:t,type:e,value:n},r,s,i){const{blockQuote:o,commentString:u,lineWidth:l}=r.options;if(!o||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Pt(n,r);const a=r.indent||(r.forceBlockIndent||ls(n)?"  ":""),f=o==="literal"?!0:o==="folded"||e===T.BLOCK_FOLDED?!1:e===T.BLOCK_LITERAL?!0:!N1(n,l,a.length);if(!n)return f?`|
`:`>
`;let c,h;for(h=n.length;h>0;--h){const E=n[h-1];if(E!==`
`&&E!=="	"&&E!==" ")break}let d=n.substring(h);const p=d.indexOf(`
`);p===-1?c="-":n===d||p!==d.length-1?(c="+",i&&i()):c="",d&&(n=n.slice(0,-d.length),d[d.length-1]===`
`&&(d=d.slice(0,-1)),d=d.replace(bi,`$&${a}`));let g=!1,y,D=-1;for(y=0;y<n.length;++y){const E=n[y];if(E===" ")g=!0;else if(E===`
`)D=y;else break}let b=n.substring(0,D<y?D+1:y);b&&(n=n.substring(b.length),b=b.replace(/\n+/g,`$&${a}`));let _=(g?a?"2":"1":"")+c;if(t&&(_+=" "+u(t.replace(/ ?[\r\n]+/g," ")),s&&s()),!f){const E=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${a}`);let C=!1;const S=us(r,!0);o!=="folded"&&e!==T.BLOCK_FOLDED&&(S.onOverflow=()=>{C=!0});const A=os(`${b}${E}${d}`,a,gi,S);if(!C)return`>${_}
${a}${A}`}return n=n.replace(/\n+/g,`$&${a}`),`|${_}
${a}${b}${n}${d}`}function B1(t,e,n,r){const{type:s,value:i}=t,{actualString:o,implicitKey:u,indent:l,indentStep:a,inFlow:f}=e;if(u&&i.includes(`
`)||f&&/[[\]{},]/.test(i))return Pt(i,e);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return u||f||!i.includes(`
`)?Pt(i,e):gr(t,e,n,r);if(!u&&!f&&s!==T.PLAIN&&i.includes(`
`))return gr(t,e,n,r);if(ls(i)){if(l==="")return e.forceBlockIndent=!0,gr(t,e,n,r);if(u&&l===a)return Pt(i,e)}const c=i.replace(/\n+/g,`$&
${l}`);if(o){const h=g=>{var y;return g.default&&g.tag!=="tag:yaml.org,2002:str"&&((y=g.test)==null?void 0:y.test(c))},{compat:d,tags:p}=e.doc.schema;if(p.some(h)||d!=null&&d.some(h))return Pt(i,e)}return u?c:os(c,l,Ha,us(e,!1))}function Mn(t,e,n,r){const{implicitKey:s,inFlow:i}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:u}=t;u!==T.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(u=T.QUOTE_DOUBLE);const l=f=>{switch(f){case T.BLOCK_FOLDED:case T.BLOCK_LITERAL:return s||i?Pt(o.value,e):gr(o,e,n,r);case T.QUOTE_DOUBLE:return pn(o.value,e);case T.QUOTE_SINGLE:return yi(o.value,e);case T.PLAIN:return B1(o,e,n,r);default:return null}};let a=l(u);if(a===null){const{defaultKeyType:f,defaultStringType:c}=e.options,h=s&&f||c;if(a=l(h),a===null)throw new Error(`Unsupported default string type ${h}`)}return a}function Qa(t,e){const n=Object.assign({blockQuote:!0,commentString:T1,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function R1(t,e){var s;if(e.tag){const i=t.filter(o=>o.tag===e.tag);if(i.length>0)return i.find(o=>o.format===e.format)??i[0]}let n,r;if(q(e)){r=e.value;let i=t.filter(o=>{var u;return(u=o.identify)==null?void 0:u.call(o,r)});if(i.length>1){const o=i.filter(u=>u.test);o.length>0&&(i=o)}n=i.find(o=>o.format===e.format)??i.find(o=>!o.format)}else r=e,n=t.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){const i=((s=r==null?void 0:r.constructor)==null?void 0:s.name)??typeof r;throw new Error(`Tag not resolved for ${i} value`)}return n}function L1(t,e,{anchors:n,doc:r}){if(!r.directives)return"";const s=[],i=(q(t)||Z(t))&&t.anchor;i&&Ga(i)&&(n.add(i),s.push(`&${i}`));const o=t.tag?t.tag:e.default?null:e.tag;return o&&s.push(r.directives.tagString(o)),s.join(" ")}function qt(t,e,n,r){var l;if(H(t))return t.toString(e,n,r);if(Et(t)){if(e.doc.directives)return t.toString(e);if((l=e.resolvedAliases)!=null&&l.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let s;const i=X(t)?t:e.doc.createNode(t,{onTagObj:a=>s=a});s||(s=R1(e.doc.schema.tags,i));const o=L1(i,s,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const u=typeof s.stringify=="function"?s.stringify(i,e,n,r):q(i)?Mn(i,e,n,r):i.toString(e,n,r);return o?q(i)||u[0]==="{"||u[0]==="["?`${o} ${u}`:`${o}
${e.indent}${u}`:u}function M1({key:t,value:e},n,r,s){const{allNullValues:i,doc:o,indent:u,indentStep:l,options:{commentString:a,indentSeq:f,simpleKeys:c}}=n;let h=X(t)&&t.comment||null;if(c){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(Z(t)||!X(t)&&typeof t=="object"){const S="With simple keys, collection cannot be used as a key value";throw new Error(S)}}let d=!c&&(!t||h&&e==null&&!n.inFlow||Z(t)||(q(t)?t.type===T.BLOCK_FOLDED||t.type===T.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!d&&(c||!i),indent:u+l});let p=!1,g=!1,y=qt(t,n,()=>p=!0,()=>g=!0);if(!d&&!n.inFlow&&y.length>1024){if(c)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");d=!0}if(n.inFlow){if(i||e==null)return p&&r&&r(),y===""?"?":d?`? ${y}`:y}else if(i&&!c||e==null&&d)return y=`? ${y}`,h&&!p?y+=mt(y,n.indent,a(h)):g&&s&&s(),y;p&&(h=null),d?(h&&(y+=mt(y,n.indent,a(h))),y=`? ${y}
${u}:`):(y=`${y}:`,h&&(y+=mt(y,n.indent,a(h))));let D,b,m;X(e)?(D=!!e.spaceBefore,b=e.commentBefore,m=e.comment):(D=!1,b=null,m=null,e&&typeof e=="object"&&(e=o.createNode(e))),n.implicitKey=!1,!d&&!h&&q(e)&&(n.indentAtStart=y.length+1),g=!1,!f&&l.length>=2&&!n.inFlow&&!d&&Qt(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let _=!1;const E=qt(e,n,()=>_=!0,()=>g=!0);let C=" ";if(h||D||b){if(C=D?`
`:"",b){const S=a(b);C+=`
${Qe(S,n.indent)}`}E===""&&!n.inFlow?C===`
`&&(C=`

`):C+=`
${n.indent}`}else if(!d&&Z(e)){const S=E[0],A=E.indexOf(`
`),O=A!==-1,N=n.inFlow??e.flow??e.items.length===0;if(O||!N){let V=!1;if(O&&(S==="&"||S==="!")){let $=E.indexOf(" ");S==="&"&&$!==-1&&$<A&&E[$+1]==="!"&&($=E.indexOf(" ",$+1)),($===-1||A<$)&&(V=!0)}V||(C=`
${n.indent}`)}}else(E===""||E[0]===`
`)&&(C="");return y+=C+E,n.inFlow?_&&r&&r():m&&!_?y+=mt(y,n.indent,a(m)):g&&s&&s(),y}function Ya(t,e){(t==="debug"||t==="warn")&&console.warn(e)}const er="<<",Ze={identify:t=>t===er||typeof t=="symbol"&&t.description===er,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new T(Symbol(er)),{addToJSMap:Za}),stringify:()=>er},j1=(t,e)=>(Ze.identify(e)||q(e)&&(!e.type||e.type===T.PLAIN)&&Ze.identify(e.value))&&(t==null?void 0:t.doc.schema.tags.some(n=>n.tag===Ze.tag&&n.default));function Za(t,e,n){if(n=t&&Et(n)?n.resolve(t.doc):n,Qt(n))for(const r of n.items)Gs(t,e,r);else if(Array.isArray(n))for(const r of n)Gs(t,e,r);else Gs(t,e,n)}function Gs(t,e,n){const r=t&&Et(n)?n.resolve(t.doc):n;if(!Ht(r))throw new Error("Merge sources must be maps or map aliases");const s=r.toJSON(null,t,Map);for(const[i,o]of s)e instanceof Map?e.has(i)||e.set(i,o):e instanceof Set?e.add(i):Object.prototype.hasOwnProperty.call(e,i)||Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function Xa(t,e,{key:n,value:r}){if(X(n)&&n.addToJSMap)n.addToJSMap(t,e,r);else if(j1(t,n))Za(t,e,r);else{const s=ke(n,"",t);if(e instanceof Map)e.set(s,ke(r,s,t));else if(e instanceof Set)e.add(s);else{const i=U1(n,s,t),o=ke(r,i,t);i in e?Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[i]=o}}return e}function U1(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(X(t)&&(n!=null&&n.doc)){const r=Qa(n.doc,{});r.anchors=new Set;for(const i of n.anchors.keys())r.anchors.add(i.anchor);r.inFlow=!0,r.inStringifyKey=!0;const s=t.toString(r);if(!n.mapKeyWarned){let i=JSON.stringify(s);i.length>40&&(i=i.substring(0,36)+'..."'),Ya(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return s}return JSON.stringify(e)}function Qi(t,e,n){const r=Fn(t,void 0,n),s=Fn(e,void 0,n);return new ue(r,s)}class ue{constructor(e,n=null){Object.defineProperty(this,xe,{value:Ma}),this.key=e,this.value=n}clone(e){let{key:n,value:r}=this;return X(n)&&(n=n.clone(e)),X(r)&&(r=r.clone(e)),new ue(n,r)}toJSON(e,n){const r=n!=null&&n.mapAsMap?new Map:{};return Xa(n,r,this)}toString(e,n,r){return e!=null&&e.doc?M1(this,e,n,r):JSON.stringify(this)}}function ec(t,e,n){return(e.inFlow??t.flow?q1:z1)(t,e,n)}function z1({comment:t,items:e},n,{blockItemPrefix:r,flowChars:s,itemIndent:i,onChompKeep:o,onComment:u}){const{indent:l,options:{commentString:a}}=n,f=Object.assign({},n,{indent:i,type:null});let c=!1;const h=[];for(let p=0;p<e.length;++p){const g=e[p];let y=null;if(X(g))!c&&g.spaceBefore&&h.push(""),Gr(n,h,g.commentBefore,c),g.comment&&(y=g.comment);else if(H(g)){const b=X(g.key)?g.key:null;b&&(!c&&b.spaceBefore&&h.push(""),Gr(n,h,b.commentBefore,c))}c=!1;let D=qt(g,f,()=>y=null,()=>c=!0);y&&(D+=mt(D,i,a(y))),c&&y&&(c=!1),h.push(r+D)}let d;if(h.length===0)d=s.start+s.end;else{d=h[0];for(let p=1;p<h.length;++p){const g=h[p];d+=g?`
${l}${g}`:`
`}}return t?(d+=`
`+Qe(a(t),l),u&&u()):c&&o&&o(),d}function q1({items:t},e,{flowChars:n,itemIndent:r}){const{indent:s,indentStep:i,flowCollectionPadding:o,options:{commentString:u}}=e;r+=i;const l=Object.assign({},e,{indent:r,inFlow:!0,type:null});let a=!1,f=0;const c=[];for(let p=0;p<t.length;++p){const g=t[p];let y=null;if(X(g))g.spaceBefore&&c.push(""),Gr(e,c,g.commentBefore,!1),g.comment&&(y=g.comment);else if(H(g)){const b=X(g.key)?g.key:null;b&&(b.spaceBefore&&c.push(""),Gr(e,c,b.commentBefore,!1),b.comment&&(a=!0));const m=X(g.value)?g.value:null;m?(m.comment&&(y=m.comment),m.commentBefore&&(a=!0)):g.value==null&&(b!=null&&b.comment)&&(y=b.comment)}y&&(a=!0);let D=qt(g,l,()=>y=null);p<t.length-1&&(D+=","),y&&(D+=mt(D,r,u(y))),!a&&(c.length>f||D.includes(`
`))&&(a=!0),c.push(D),f=c.length}const{start:h,end:d}=n;if(c.length===0)return h+d;if(!a){const p=c.reduce((g,y)=>g+y.length+2,2);a=e.options.lineWidth>0&&p>e.options.lineWidth}if(a){let p=h;for(const g of c)p+=g?`
${i}${s}${g}`:`
`;return`${p}
${s}${d}`}else return`${h}${o}${c.join(" ")}${o}${d}`}function Gr({indent:t,options:{commentString:e}},n,r,s){if(r&&s&&(r=r.replace(/^\n+/,"")),r){const i=Qe(e(r),t);n.push(i.trimStart())}}function gt(t,e){const n=q(e)?e.value:e;for(const r of t)if(H(r)&&(r.key===e||r.key===n||q(r.key)&&r.key.value===n))return r}class _e extends Ja{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(rt,e),this.items=[]}static from(e,n,r){const{keepUndefined:s,replacer:i}=r,o=new this(e),u=(l,a)=>{if(typeof i=="function")a=i.call(n,l,a);else if(Array.isArray(i)&&!i.includes(l))return;(a!==void 0||s)&&o.items.push(Qi(l,a,r))};if(n instanceof Map)for(const[l,a]of n)u(l,a);else if(n&&typeof n=="object")for(const l of Object.keys(n))u(l,n[l]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,n){var o;let r;H(e)?r=e:!e||typeof e!="object"||!("key"in e)?r=new ue(e,e==null?void 0:e.value):r=new ue(e.key,e.value);const s=gt(this.items,r.key),i=(o=this.schema)==null?void 0:o.sortMapEntries;if(s){if(!n)throw new Error(`Key ${r.key} already set`);q(s.value)&&Wa(r.value)?s.value.value=r.value:s.value=r.value}else if(i){const u=this.items.findIndex(l=>i(r,l)<0);u===-1?this.items.push(r):this.items.splice(u,0,r)}else this.items.push(r)}delete(e){const n=gt(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const r=gt(this.items,e),s=r==null?void 0:r.value;return(!n&&q(s)?s.value:s)??void 0}has(e){return!!gt(this.items,e)}set(e,n){this.add(new ue(e,n),!0)}toJSON(e,n,r){const s=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(s);for(const i of this.items)Xa(n,s,i);return s}toString(e,n,r){if(!e)return JSON.stringify(this);for(const s of this.items)if(!H(s))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),ec(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:r,onComment:n})}}const Yt={collection:"map",default:!0,nodeClass:_e,tag:"tag:yaml.org,2002:map",resolve(t,e){return Ht(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>_e.from(t,e,n)};class ut extends Ja{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(Jt,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=tr(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const r=tr(e);if(typeof r!="number")return;const s=this.items[r];return!n&&q(s)?s.value:s}has(e){const n=tr(e);return typeof n=="number"&&n<this.items.length}set(e,n){const r=tr(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);const s=this.items[r];q(s)&&Wa(n)?s.value=n:this.items[r]=n}toJSON(e,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let s=0;for(const i of this.items)r.push(ke(i,String(s++),n));return r}toString(e,n,r){return e?ec(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(e,n,r){const{replacer:s}=r,i=new this(e);if(n&&Symbol.iterator in Object(n)){let o=0;for(let u of n){if(typeof s=="function"){const l=n instanceof Set?u:String(o++);u=s.call(n,l,u)}i.items.push(Fn(u,void 0,r))}}return i}}function tr(t){let e=q(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const Zt={collection:"seq",default:!0,nodeClass:ut,tag:"tag:yaml.org,2002:seq",resolve(t,e){return Qt(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>ut.from(t,e,n)},as={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),Mn(t,e,n,r)}},cs={identify:t=>t==null,createNode:()=>new T(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new T(null),stringify:({source:t},e)=>typeof t=="string"&&cs.test.test(t)?t:e.options.nullStr},Yi={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new T(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&Yi.test.test(t)){const r=t[0]==="t"||t[0]==="T";if(e===r)return t}return e?n.options.trueStr:n.options.falseStr}};function Pe({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);const s=typeof r=="number"?r:Number(r);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let i=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let o=i.indexOf(".");o<0&&(o=i.length,i+=".");let u=e-(i.length-o-1);for(;u-- >0;)i+="0"}return i}const tc={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Pe},nc={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Pe(t)}},rc={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new T(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:Pe},fs=t=>typeof t=="bigint"||Number.isInteger(t),Zi=(t,e,n,{intAsBigInt:r})=>r?BigInt(t):parseInt(t.substring(e),n);function sc(t,e,n){const{value:r}=t;return fs(r)&&r>=0?n+r.toString(e):Pe(t)}const ic={identify:t=>fs(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>Zi(t,2,8,n),stringify:t=>sc(t,8,"0o")},oc={identify:fs,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>Zi(t,0,10,n),stringify:Pe},uc={identify:t=>fs(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>Zi(t,2,16,n),stringify:t=>sc(t,16,"0x")},G1=[Yt,Zt,as,cs,Yi,ic,oc,uc,tc,nc,rc];function Nu(t){return typeof t=="bigint"||Number.isInteger(t)}const nr=({value:t})=>JSON.stringify(t),V1=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:nr},{identify:t=>t==null,createNode:()=>new T(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:nr},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>t==="true",stringify:nr},{identify:Nu,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>Nu(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:nr}],K1={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},W1=[Yt,Zt].concat(V1,K1),Xi={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof atob=="function"){const n=atob(t.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let s=0;s<n.length;++s)r[s]=n.charCodeAt(s);return r}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},r,s,i){const o=n;let u;if(typeof btoa=="function"){let l="";for(let a=0;a<o.length;++a)l+=String.fromCharCode(o[a]);u=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=T.BLOCK_LITERAL),e!==T.QUOTE_DOUBLE){const l=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),a=Math.ceil(u.length/l),f=new Array(a);for(let c=0,h=0;c<a;++c,h+=l)f[c]=u.substr(h,l);u=f.join(e===T.BLOCK_LITERAL?`
`:" ")}return Mn({comment:t,type:e,value:u},r,s,i)}};function lc(t,e){if(Qt(t))for(let n=0;n<t.items.length;++n){let r=t.items[n];if(!H(r)){if(Ht(r)){r.items.length>1&&e("Each pair must have its own sequence indicator");const s=r.items[0]||new ue(new T(null));if(r.commentBefore&&(s.key.commentBefore=s.key.commentBefore?`${r.commentBefore}
${s.key.commentBefore}`:r.commentBefore),r.comment){const i=s.value??s.key;i.comment=i.comment?`${r.comment}
${i.comment}`:r.comment}r=s}t.items[n]=H(r)?r:new ue(r)}}else e("Expected a sequence for this tag");return t}function ac(t,e,n){const{replacer:r}=n,s=new ut(t);s.tag="tag:yaml.org,2002:pairs";let i=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof r=="function"&&(o=r.call(e,String(i++),o));let u,l;if(Array.isArray(o))if(o.length===2)u=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const a=Object.keys(o);if(a.length===1)u=a[0],l=o[u];else throw new TypeError(`Expected tuple with one key, not ${a.length} keys`)}else u=o;s.items.push(Qi(u,l,n))}return s}const eo={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:lc,createNode:ac};class Rt extends ut{constructor(){super(),this.add=_e.prototype.add.bind(this),this.delete=_e.prototype.delete.bind(this),this.get=_e.prototype.get.bind(this),this.has=_e.prototype.has.bind(this),this.set=_e.prototype.set.bind(this),this.tag=Rt.tag}toJSON(e,n){if(!n)return super.toJSON(e);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const s of this.items){let i,o;if(H(s)?(i=ke(s.key,"",n),o=ke(s.value,i,n)):i=ke(s,"",n),r.has(i))throw new Error("Ordered maps must not include duplicate keys");r.set(i,o)}return r}static from(e,n,r){const s=ac(e,n,r),i=new this;return i.items=s.items,i}}Rt.tag="tag:yaml.org,2002:omap";const to={collection:"seq",identify:t=>t instanceof Map,nodeClass:Rt,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=lc(t,e),r=[];for(const{key:s}of n.items)q(s)&&(r.includes(s.value)?e(`Ordered maps must not include duplicate keys: ${s.value}`):r.push(s.value));return Object.assign(new Rt,n)},createNode:(t,e,n)=>Rt.from(t,e,n)};function cc({value:t,source:e},n){return e&&(t?fc:hc).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const fc={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new T(!0),stringify:cc},hc={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new T(!1),stringify:cc},J1={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Pe},H1={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Pe(t)}},Q1={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new T(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const r=t.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(e.minFractionDigits=r.length)}return e},stringify:Pe},jn=t=>typeof t=="bigint"||Number.isInteger(t);function hs(t,e,n,{intAsBigInt:r}){const s=t[0];if((s==="-"||s==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),r){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const o=BigInt(t);return s==="-"?BigInt(-1)*o:o}const i=parseInt(t,n);return s==="-"?-1*i:i}function no(t,e,n){const{value:r}=t;if(jn(r)){const s=r.toString(e);return r<0?"-"+n+s.substr(1):n+s}return Pe(t)}const Y1={identify:jn,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>hs(t,2,2,n),stringify:t=>no(t,2,"0b")},Z1={identify:jn,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>hs(t,1,8,n),stringify:t=>no(t,8,"0")},X1={identify:jn,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>hs(t,0,10,n),stringify:Pe},eb={identify:jn,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>hs(t,2,16,n),stringify:t=>no(t,16,"0x")};class Lt extends _e{constructor(e){super(e),this.tag=Lt.tag}add(e){let n;H(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new ue(e.key,null):n=new ue(e,null),gt(this.items,n.key)||this.items.push(n)}get(e,n){const r=gt(this.items,e);return!n&&H(r)?q(r.key)?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=gt(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new ue(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(e,n,r){const{replacer:s}=r,i=new this(e);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof s=="function"&&(o=s.call(n,o,o)),i.items.push(Qi(o,null,r));return i}}Lt.tag="tag:yaml.org,2002:set";const ro={collection:"map",identify:t=>t instanceof Set,nodeClass:Lt,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>Lt.from(t,e,n),resolve(t,e){if(Ht(t)){if(t.hasAllNullValues(!0))return Object.assign(new Lt,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function so(t,e){const n=t[0],r=n==="-"||n==="+"?t.substring(1):t,s=o=>e?BigInt(o):Number(o),i=r.replace(/_/g,"").split(":").reduce((o,u)=>o*s(60)+s(u),s(0));return n==="-"?s(-1)*i:i}function dc(t){let{value:e}=t,n=o=>o;if(typeof e=="bigint")n=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return Pe(t);let r="";e<0&&(r="-",e*=n(-1));const s=n(60),i=[e%s];return e<60?i.unshift(0):(e=(e-i[0])/s,i.unshift(e%s),e>=60&&(e=(e-i[0])/s,i.unshift(e))),r+i.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const pc={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>so(t,n),stringify:dc},mc={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>so(t,!1),stringify:dc},ds={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(ds.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,s,i,o,u]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let a=Date.UTC(n,r-1,s,i||0,o||0,u||0,l);const f=e[8];if(f&&f!=="Z"){let c=so(f,!1);Math.abs(c)<30&&(c*=60),a-=6e4*c}return new Date(a)},stringify:({value:t})=>t.toISOString().replace(/(T00:00:00)?\.000Z$/,"")},Bu=[Yt,Zt,as,cs,fc,hc,Y1,Z1,X1,eb,J1,H1,Q1,Xi,Ze,to,eo,ro,pc,mc,ds],Ru=new Map([["core",G1],["failsafe",[Yt,Zt,as]],["json",W1],["yaml11",Bu],["yaml-1.1",Bu]]),Lu={binary:Xi,bool:Yi,float:rc,floatExp:nc,floatNaN:tc,floatTime:mc,int:oc,intHex:uc,intOct:ic,intTime:pc,map:Yt,merge:Ze,null:cs,omap:to,pairs:eo,seq:Zt,set:ro,timestamp:ds},tb={"tag:yaml.org,2002:binary":Xi,"tag:yaml.org,2002:merge":Ze,"tag:yaml.org,2002:omap":to,"tag:yaml.org,2002:pairs":eo,"tag:yaml.org,2002:set":ro,"tag:yaml.org,2002:timestamp":ds};function Vs(t,e,n){const r=Ru.get(e);if(r&&!t)return n&&!r.includes(Ze)?r.concat(Ze):r.slice();let s=r;if(!s)if(Array.isArray(t))s=[];else{const i=Array.from(Ru.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${i} or define customTags array`)}if(Array.isArray(t))for(const i of t)s=s.concat(i);else typeof t=="function"&&(s=t(s.slice()));return n&&(s=s.concat(Ze)),s.reduce((i,o)=>{const u=typeof o=="string"?Lu[o]:o;if(!u){const l=JSON.stringify(o),a=Object.keys(Lu).map(f=>JSON.stringify(f)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${a}`)}return i.includes(u)||i.push(u),i},[])}const nb=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class ps{constructor({compat:e,customTags:n,merge:r,resolveKnownTags:s,schema:i,sortMapEntries:o,toStringDefaults:u}){this.compat=Array.isArray(e)?Vs(e,"compat"):e?Vs(null,e):null,this.name=typeof i=="string"&&i||"core",this.knownTags=s?tb:{},this.tags=Vs(n,this.name,r),this.toStringOptions=u??null,Object.defineProperty(this,rt,{value:Yt}),Object.defineProperty(this,Me,{value:as}),Object.defineProperty(this,Jt,{value:Zt}),this.sortMapEntries=typeof o=="function"?o:o===!0?nb:null}clone(){const e=Object.create(ps.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function rb(t,e){var l;const n=[];let r=e.directives===!0;if(e.directives!==!1&&t.directives){const a=t.directives.toString(t);a?(n.push(a),r=!0):t.directives.docStart&&(r=!0)}r&&n.push("---");const s=Qa(t,e),{commentString:i}=s.options;if(t.commentBefore){n.length!==1&&n.unshift("");const a=i(t.commentBefore);n.unshift(Qe(a,""))}let o=!1,u=null;if(t.contents){if(X(t.contents)){if(t.contents.spaceBefore&&r&&n.push(""),t.contents.commentBefore){const c=i(t.contents.commentBefore);n.push(Qe(c,""))}s.forceBlockIndent=!!t.comment,u=t.contents.comment}const a=u?void 0:()=>o=!0;let f=qt(t.contents,s,()=>u=null,a);u&&(f+=mt(f,"",i(u))),(f[0]==="|"||f[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${f}`:n.push(f)}else n.push(qt(t.contents,s));if((l=t.directives)!=null&&l.docEnd)if(t.comment){const a=i(t.comment);a.includes(`
`)?(n.push("..."),n.push(Qe(a,""))):n.push(`... ${a}`)}else n.push("...");else{let a=t.comment;a&&o&&(a=a.replace(/^\n+/,"")),a&&((!o||u)&&n[n.length-1]!==""&&n.push(""),n.push(Qe(i(a),"")))}return n.join(`
`)+`
`}class Xt{constructor(e,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,xe,{value:mi});let s=null;typeof n=="function"||Array.isArray(n)?s=n:r===void 0&&n&&(r=n,n=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=i;let{version:o}=i;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new ce({version:o}),this.setSchema(o,r),this.contents=e===void 0?null:this.createNode(e,s,r)}clone(){const e=Object.create(Xt.prototype,{[xe]:{value:mi}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=X(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){St(this.contents)&&this.contents.add(e)}addIn(e,n){St(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const r=Va(this);e.anchor=!n||r.has(n)?Ka(n||"a",r):n}return new is(e.anchor)}createNode(e,n,r){let s;if(typeof n=="function")e=n.call({"":e},"",e),s=n;else if(Array.isArray(n)){const y=b=>typeof b=="number"||b instanceof String||b instanceof Number,D=n.filter(y).map(String);D.length>0&&(n=n.concat(D)),s=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:i,anchorPrefix:o,flow:u,keepUndefined:l,onTagObj:a,tag:f}=r??{},{onAnchor:c,setAnchors:h,sourceObjects:d}=P1(this,o||"a"),p={aliasDuplicateObjects:i??!0,keepUndefined:l??!1,onAnchor:c,onTagObj:a,replacer:s,schema:this.schema,sourceObjects:d},g=Fn(e,f,p);return u&&Z(g)&&(g.flow=!0),h(),g}createPair(e,n,r={}){const s=this.createNode(e,null,r),i=this.createNode(n,null,r);return new ue(s,i)}delete(e){return St(this.contents)?this.contents.delete(e):!1}deleteIn(e){return an(e)?this.contents==null?!1:(this.contents=null,!0):St(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return Z(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return an(e)?!n&&q(this.contents)?this.contents.value:this.contents:Z(this.contents)?this.contents.getIn(e,n):void 0}has(e){return Z(this.contents)?this.contents.has(e):!1}hasIn(e){return an(e)?this.contents!==void 0:Z(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=qr(this.schema,[e],n):St(this.contents)&&this.contents.set(e,n)}setIn(e,n){an(e)?this.contents=n:this.contents==null?this.contents=qr(this.schema,Array.from(e),n):St(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let r;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new ce({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new ce({version:e}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const s=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${s}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new ps(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:r,maxAliasCount:s,onAnchor:i,reviver:o}={}){const u={anchors:new Map,doc:this,keep:!e,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},l=ke(this.contents,n??"",u);if(typeof i=="function")for(const{count:a,res:f}of u.anchors.values())i(f,a);return typeof o=="function"?vt(o,{"":l},"",l):l}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return rb(this,e)}}function St(t){if(Z(t))return!0;throw new Error("Expected a YAML collection as document contents")}class io extends Error{constructor(e,n,r,s){super(),this.name=e,this.code=r,this.message=s,this.pos=n}}class yt extends io{constructor(e,n,r){super("YAMLParseError",e,n,r)}}class gc extends io{constructor(e,n,r){super("YAMLWarning",e,n,r)}}const Vr=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(u=>e.linePos(u));const{line:r,col:s}=n.linePos[0];n.message+=` at line ${r}, column ${s}`;let i=s-1,o=t.substring(e.lineStarts[r-1],e.lineStarts[r]).replace(/[\n\r]+$/,"");if(i>=60&&o.length>80){const u=Math.min(i-39,o.length-79);o="â€¦"+o.substring(u),i-=u-1}if(o.length>80&&(o=o.substring(0,79)+"â€¦"),r>1&&/^ *$/.test(o.substring(0,i))){let u=t.substring(e.lineStarts[r-2],e.lineStarts[r-1]);u.length>80&&(u=u.substring(0,79)+`â€¦
`),o=u+o}if(/[^ ]/.test(o)){let u=1;const l=n.linePos[1];l&&l.line===r&&l.col>s&&(u=Math.max(1,Math.min(l.col-s,80-i)));const a=" ".repeat(i)+"^".repeat(u);n.message+=`:

${o}
${a}
`}};function Gt(t,{flow:e,indicator:n,next:r,offset:s,onError:i,parentIndent:o,startOnNewline:u}){let l=!1,a=u,f=u,c="",h="",d=!1,p=!1,g=null,y=null,D=null,b=null,m=null,_=null,E=null;for(const A of t)switch(p&&(A.type!=="space"&&A.type!=="newline"&&A.type!=="comma"&&i(A.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p=!1),g&&(a&&A.type!=="comment"&&A.type!=="newline"&&i(g,"TAB_AS_INDENT","Tabs are not allowed as indentation"),g=null),A.type){case"space":!e&&(n!=="doc-start"||(r==null?void 0:r.type)!=="flow-collection")&&A.source.includes("	")&&(g=A),f=!0;break;case"comment":{f||i(A,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const O=A.source.substring(1)||" ";c?c+=h+O:c=O,h="",a=!1;break}case"newline":a?c?c+=A.source:(!_||n!=="seq-item-ind")&&(l=!0):h+=A.source,a=!0,d=!0,(y||D)&&(b=A),f=!0;break;case"anchor":y&&i(A,"MULTIPLE_ANCHORS","A node can have at most one anchor"),A.source.endsWith(":")&&i(A.offset+A.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),y=A,E===null&&(E=A.offset),a=!1,f=!1,p=!0;break;case"tag":{D&&i(A,"MULTIPLE_TAGS","A node can have at most one tag"),D=A,E===null&&(E=A.offset),a=!1,f=!1,p=!0;break}case n:(y||D)&&i(A,"BAD_PROP_ORDER",`Anchors and tags must be after the ${A.source} indicator`),_&&i(A,"UNEXPECTED_TOKEN",`Unexpected ${A.source} in ${e??"collection"}`),_=A,a=n==="seq-item-ind"||n==="explicit-key-ind",f=!1;break;case"comma":if(e){m&&i(A,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),m=A,a=!1,f=!1;break}default:i(A,"UNEXPECTED_TOKEN",`Unexpected ${A.type} token`),a=!1,f=!1}const C=t[t.length-1],S=C?C.offset+C.source.length:s;return p&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&i(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),g&&(a&&g.indent<=o||(r==null?void 0:r.type)==="block-map"||(r==null?void 0:r.type)==="block-seq")&&i(g,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:m,found:_,spaceBefore:l,comment:c,hasNewline:d,anchor:y,tag:D,newlineAfterProp:b,end:S,start:E??S}}function wn(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(wn(e.key)||wn(e.value))return!0}return!1;default:return!0}}function Di(t,e,n){if((e==null?void 0:e.type)==="flow-collection"){const r=e.end[0];r.indent===t&&(r.source==="]"||r.source==="}")&&wn(e)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function yc(t,e,n){const{uniqueKeys:r}=t.options;if(r===!1)return!1;const s=typeof r=="function"?r:(i,o)=>i===o||q(i)&&q(o)&&i.value===o.value;return e.some(i=>s(i.key,n))}const Mu="All mapping items must start at the same column";function sb({composeNode:t,composeEmptyNode:e},n,r,s,i){var f;const o=(i==null?void 0:i.nodeClass)??_e,u=new o(n.schema);n.atRoot&&(n.atRoot=!1);let l=r.offset,a=null;for(const c of r.items){const{start:h,key:d,sep:p,value:g}=c,y=Gt(h,{indicator:"explicit-key-ind",next:d??(p==null?void 0:p[0]),offset:l,onError:s,parentIndent:r.indent,startOnNewline:!0}),D=!y.found;if(D){if(d&&(d.type==="block-seq"?s(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in d&&d.indent!==r.indent&&s(l,"BAD_INDENT",Mu)),!y.anchor&&!y.tag&&!p){a=y.end,y.comment&&(u.comment?u.comment+=`
`+y.comment:u.comment=y.comment);continue}(y.newlineAfterProp||wn(d))&&s(d??h[h.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((f=y.found)==null?void 0:f.indent)!==r.indent&&s(l,"BAD_INDENT",Mu);n.atKey=!0;const b=y.end,m=d?t(n,d,y,s):e(n,b,h,null,y,s);n.schema.compat&&Di(r.indent,d,s),n.atKey=!1,yc(n,u.items,m)&&s(b,"DUPLICATE_KEY","Map keys must be unique");const _=Gt(p??[],{indicator:"map-value-ind",next:g,offset:m.range[2],onError:s,parentIndent:r.indent,startOnNewline:!d||d.type==="block-scalar"});if(l=_.end,_.found){D&&((g==null?void 0:g.type)==="block-map"&&!_.hasNewline&&s(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&y.start<_.found.offset-1024&&s(m.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const E=g?t(n,g,_,s):e(n,l,p,null,_,s);n.schema.compat&&Di(r.indent,g,s),l=E.range[2];const C=new ue(m,E);n.options.keepSourceTokens&&(C.srcToken=c),u.items.push(C)}else{D&&s(m.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),_.comment&&(m.comment?m.comment+=`
`+_.comment:m.comment=_.comment);const E=new ue(m);n.options.keepSourceTokens&&(E.srcToken=c),u.items.push(E)}}return a&&a<l&&s(a,"IMPOSSIBLE","Map comment with trailing content"),u.range=[r.offset,l,a??l],u}function ib({composeNode:t,composeEmptyNode:e},n,r,s,i){const o=(i==null?void 0:i.nodeClass)??ut,u=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let l=r.offset,a=null;for(const{start:f,value:c}of r.items){const h=Gt(f,{indicator:"seq-item-ind",next:c,offset:l,onError:s,parentIndent:r.indent,startOnNewline:!0});if(!h.found)if(h.anchor||h.tag||c)c&&c.type==="block-seq"?s(h.end,"BAD_INDENT","All sequence items must start at the same column"):s(l,"MISSING_CHAR","Sequence item without - indicator");else{a=h.end,h.comment&&(u.comment=h.comment);continue}const d=c?t(n,c,h,s):e(n,h.end,f,null,h,s);n.schema.compat&&Di(r.indent,c,s),l=d.range[2],u.items.push(d)}return u.range=[r.offset,l,a??l],u}function Un(t,e,n,r){let s="";if(t){let i=!1,o="";for(const u of t){const{source:l,type:a}=u;switch(a){case"space":i=!0;break;case"comment":{n&&!i&&r(u,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const f=l.substring(1)||" ";s?s+=o+f:s=f,o="";break}case"newline":s&&(o+=l),i=!0;break;default:r(u,"UNEXPECTED_TOKEN",`Unexpected ${a} at node end`)}e+=l.length}}return{comment:s,offset:e}}const Ks="Block collections are not allowed within flow collections",Ws=t=>t&&(t.type==="block-map"||t.type==="block-seq");function ob({composeNode:t,composeEmptyNode:e},n,r,s,i){const o=r.start.source==="{",u=o?"flow map":"flow sequence",l=(i==null?void 0:i.nodeClass)??(o?_e:ut),a=new l(n.schema);a.flow=!0;const f=n.atRoot;f&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let c=r.offset+r.start.source.length;for(let y=0;y<r.items.length;++y){const D=r.items[y],{start:b,key:m,sep:_,value:E}=D,C=Gt(b,{flow:u,indicator:"explicit-key-ind",next:m??(_==null?void 0:_[0]),offset:c,onError:s,parentIndent:r.indent,startOnNewline:!1});if(!C.found){if(!C.anchor&&!C.tag&&!_&&!E){y===0&&C.comma?s(C.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${u}`):y<r.items.length-1&&s(C.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${u}`),C.comment&&(a.comment?a.comment+=`
`+C.comment:a.comment=C.comment),c=C.end;continue}!o&&n.options.strict&&wn(m)&&s(m,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(y===0)C.comma&&s(C.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${u}`);else if(C.comma||s(C.start,"MISSING_CHAR",`Missing , between ${u} items`),C.comment){let S="";e:for(const A of b)switch(A.type){case"comma":case"space":break;case"comment":S=A.source.substring(1);break e;default:break e}if(S){let A=a.items[a.items.length-1];H(A)&&(A=A.value??A.key),A.comment?A.comment+=`
`+S:A.comment=S,C.comment=C.comment.substring(S.length+1)}}if(!o&&!_&&!C.found){const S=E?t(n,E,C,s):e(n,C.end,_,null,C,s);a.items.push(S),c=S.range[2],Ws(E)&&s(S.range,"BLOCK_IN_FLOW",Ks)}else{n.atKey=!0;const S=C.end,A=m?t(n,m,C,s):e(n,S,b,null,C,s);Ws(m)&&s(A.range,"BLOCK_IN_FLOW",Ks),n.atKey=!1;const O=Gt(_??[],{flow:u,indicator:"map-value-ind",next:E,offset:A.range[2],onError:s,parentIndent:r.indent,startOnNewline:!1});if(O.found){if(!o&&!C.found&&n.options.strict){if(_)for(const $ of _){if($===O.found)break;if($.type==="newline"){s($,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}C.start<O.found.offset-1024&&s(O.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else E&&("source"in E&&E.source&&E.source[0]===":"?s(E,"MISSING_CHAR",`Missing space after : in ${u}`):s(O.start,"MISSING_CHAR",`Missing , or : between ${u} items`));const N=E?t(n,E,O,s):O.found?e(n,O.end,_,null,O,s):null;N?Ws(E)&&s(N.range,"BLOCK_IN_FLOW",Ks):O.comment&&(A.comment?A.comment+=`
`+O.comment:A.comment=O.comment);const V=new ue(A,N);if(n.options.keepSourceTokens&&(V.srcToken=D),o){const $=a;yc(n,$.items,A)&&s(S,"DUPLICATE_KEY","Map keys must be unique"),$.items.push(V)}else{const $=new _e(n.schema);$.flow=!0,$.items.push(V);const x=(N??A).range;$.range=[A.range[0],x[1],x[2]],a.items.push($)}c=N?N.range[2]:O.end}}const h=o?"}":"]",[d,...p]=r.end;let g=c;if(d&&d.source===h)g=d.offset+d.source.length;else{const y=u[0].toUpperCase()+u.substring(1),D=f?`${y} must end with a ${h}`:`${y} in block collection must be sufficiently indented and end with a ${h}`;s(c,f?"MISSING_CHAR":"BAD_INDENT",D),d&&d.source.length!==1&&p.unshift(d)}if(p.length>0){const y=Un(p,g,n.options.strict,s);y.comment&&(a.comment?a.comment+=`
`+y.comment:a.comment=y.comment),a.range=[r.offset,g,y.offset]}else a.range=[r.offset,g,g];return a}function Js(t,e,n,r,s,i){const o=n.type==="block-map"?sb(t,e,n,r,i):n.type==="block-seq"?ib(t,e,n,r,i):ob(t,e,n,r,i),u=o.constructor;return s==="!"||s===u.tagName?(o.tag=u.tagName,o):(s&&(o.tag=s),o)}function ub(t,e,n,r,s){var h;const i=r.tag,o=i?e.directives.tagName(i.source,d=>s(i,"TAG_RESOLVE_FAILED",d)):null;if(n.type==="block-seq"){const{anchor:d,newlineAfterProp:p}=r,g=d&&i?d.offset>i.offset?d:i:d??i;g&&(!p||p.offset<g.offset)&&s(g,"MISSING_CHAR","Missing newline after block sequence props")}const u=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!i||!o||o==="!"||o===_e.tagName&&u==="map"||o===ut.tagName&&u==="seq")return Js(t,e,n,s,o);let l=e.schema.tags.find(d=>d.tag===o&&d.collection===u);if(!l){const d=e.schema.knownTags[o];if(d&&d.collection===u)e.schema.tags.push(Object.assign({},d,{default:!1})),l=d;else return d!=null&&d.collection?s(i,"BAD_COLLECTION_TYPE",`${d.tag} used for ${u} collection, but expects ${d.collection}`,!0):s(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),Js(t,e,n,s,o)}const a=Js(t,e,n,s,o,l),f=((h=l.resolve)==null?void 0:h.call(l,a,d=>s(i,"TAG_RESOLVE_FAILED",d),e.options))??a,c=X(f)?f:new T(f);return c.range=a.range,c.tag=o,l!=null&&l.format&&(c.format=l.format),c}function bc(t,e,n){const r=e.offset,s=lb(e,t.options.strict,n);if(!s)return{value:"",type:null,comment:"",range:[r,r,r]};const i=s.mode===">"?T.BLOCK_FOLDED:T.BLOCK_LITERAL,o=e.source?ab(e.source):[];let u=o.length;for(let g=o.length-1;g>=0;--g){const y=o[g][1];if(y===""||y==="\r")u=g;else break}if(u===0){const g=s.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let y=r+s.length;return e.source&&(y+=e.source.length),{value:g,type:i,comment:s.comment,range:[r,y,y]}}let l=e.indent+s.indent,a=e.offset+s.length,f=0;for(let g=0;g<u;++g){const[y,D]=o[g];if(D===""||D==="\r")s.indent===0&&y.length>l&&(l=y.length);else{y.length<l&&n(a+y.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),s.indent===0&&(l=y.length),f=g,l===0&&!t.atRoot&&n(a,"BAD_INDENT","Block scalar values in collections must be indented");break}a+=y.length+D.length+1}for(let g=o.length-1;g>=u;--g)o[g][0].length>l&&(u=g+1);let c="",h="",d=!1;for(let g=0;g<f;++g)c+=o[g][0].slice(l)+`
`;for(let g=f;g<u;++g){let[y,D]=o[g];a+=y.length+D.length+1;const b=D[D.length-1]==="\r";if(b&&(D=D.slice(0,-1)),D&&y.length<l){const _=`Block scalar lines must not be less indented than their ${s.indent?"explicit indentation indicator":"first line"}`;n(a-D.length-(b?2:1),"BAD_INDENT",_),y=""}i===T.BLOCK_LITERAL?(c+=h+y.slice(l)+D,h=`
`):y.length>l||D[0]==="	"?(h===" "?h=`
`:!d&&h===`
`&&(h=`

`),c+=h+y.slice(l)+D,h=`
`,d=!0):D===""?h===`
`?c+=`
`:h=`
`:(c+=h+D,h=" ",d=!1)}switch(s.chomp){case"-":break;case"+":for(let g=u;g<o.length;++g)c+=`
`+o[g][0].slice(l);c[c.length-1]!==`
`&&(c+=`
`);break;default:c+=`
`}const p=r+s.length+e.source.length;return{value:c,type:i,comment:s.comment,range:[r,p,p]}}function lb({offset:t,props:e},n,r){if(e[0].type!=="block-scalar-header")return r(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:s}=e[0],i=s[0];let o=0,u="",l=-1;for(let h=1;h<s.length;++h){const d=s[h];if(!u&&(d==="-"||d==="+"))u=d;else{const p=Number(d);!o&&p?o=p:l===-1&&(l=t+h)}}l!==-1&&r(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let a=!1,f="",c=s.length;for(let h=1;h<e.length;++h){const d=e[h];switch(d.type){case"space":a=!0;case"newline":c+=d.source.length;break;case"comment":n&&!a&&r(d,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),c+=d.source.length,f=d.source.substring(1);break;case"error":r(d,"UNEXPECTED_TOKEN",d.message),c+=d.source.length;break;default:{const p=`Unexpected token in block scalar header: ${d.type}`;r(d,"UNEXPECTED_TOKEN",p);const g=d.source;g&&typeof g=="string"&&(c+=g.length)}}}return{mode:i,indent:o,chomp:u,comment:f,length:c}}function ab(t){const e=t.split(/\n( *)/),n=e[0],r=n.match(/^( *)/),i=[r!=null&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let o=1;o<e.length;o+=2)i.push([e[o],e[o+1]]);return i}function Dc(t,e,n){const{offset:r,type:s,source:i,end:o}=t;let u,l;const a=(h,d,p)=>n(r+h,d,p);switch(s){case"scalar":u=T.PLAIN,l=cb(i,a);break;case"single-quoted-scalar":u=T.QUOTE_SINGLE,l=fb(i,a);break;case"double-quoted-scalar":u=T.QUOTE_DOUBLE,l=hb(i,a);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[r,r+i.length,r+i.length]}}const f=r+i.length,c=Un(o,f,e,n);return{value:l,type:u,comment:c.comment,range:[r,f,c.offset]}}function cb(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),_c(t)}function fb(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),_c(t.slice(1,-1)).replace(/''/g,"'")}function _c(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=e.exec(t);if(!r)return t;let s=r[1],i=" ",o=e.lastIndex;for(n.lastIndex=o;r=n.exec(t);)r[1]===""?i===`
`?s+=i:i=`
`:(s+=i+r[1],i=" "),o=n.lastIndex;const u=/[ \t]*(.*)/sy;return u.lastIndex=o,r=u.exec(t),s+i+((r==null?void 0:r[1])??"")}function hb(t,e){let n="";for(let r=1;r<t.length-1;++r){const s=t[r];if(!(s==="\r"&&t[r+1]===`
`))if(s===`
`){const{fold:i,offset:o}=db(t,r);n+=i,r=o}else if(s==="\\"){let i=t[++r];const o=pb[i];if(o)n+=o;else if(i===`
`)for(i=t[r+1];i===" "||i==="	";)i=t[++r+1];else if(i==="\r"&&t[r+1]===`
`)for(i=t[++r+1];i===" "||i==="	";)i=t[++r+1];else if(i==="x"||i==="u"||i==="U"){const u={x:2,u:4,U:8}[i];n+=mb(t,r+1,u,e),r+=u}else{const u=t.substr(r-1,2);e(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${u}`),n+=u}}else if(s===" "||s==="	"){const i=r;let o=t[r+1];for(;o===" "||o==="	";)o=t[++r+1];o!==`
`&&!(o==="\r"&&t[r+2]===`
`)&&(n+=r>i?t.slice(i,r+1):s)}else n+=s}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function db(t,e){let n="",r=t[e+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&t[e+2]!==`
`);)r===`
`&&(n+=`
`),e+=1,r=t[e+1];return n||(n=" "),{fold:n,offset:e}}const pb={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"Â…",_:"Â ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function mb(t,e,n,r){const s=t.substr(e,n),o=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(o)){const u=t.substr(e-2,n+2);return r(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${u}`),u}return String.fromCodePoint(o)}function Ec(t,e,n,r){const{value:s,type:i,comment:o,range:u}=e.type==="block-scalar"?bc(t,e,r):Dc(e,t.options.strict,r),l=n?t.directives.tagName(n.source,c=>r(n,"TAG_RESOLVE_FAILED",c)):null;let a;t.options.stringKeys&&t.atKey?a=t.schema[Me]:l?a=gb(t.schema,s,l,n,r):e.type==="scalar"?a=yb(t,s,e,r):a=t.schema[Me];let f;try{const c=a.resolve(s,h=>r(n??e,"TAG_RESOLVE_FAILED",h),t.options);f=q(c)?c:new T(c)}catch(c){const h=c instanceof Error?c.message:String(c);r(n??e,"TAG_RESOLVE_FAILED",h),f=new T(s)}return f.range=u,f.source=s,i&&(f.type=i),l&&(f.tag=l),a.format&&(f.format=a.format),o&&(f.comment=o),f}function gb(t,e,n,r,s){var u;if(n==="!")return t[Me];const i=[];for(const l of t.tags)if(!l.collection&&l.tag===n)if(l.default&&l.test)i.push(l);else return l;for(const l of i)if((u=l.test)!=null&&u.test(e))return l;const o=t.knownTags[n];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[Me])}function yb({atKey:t,directives:e,schema:n},r,s,i){const o=n.tags.find(u=>{var l;return(u.default===!0||t&&u.default==="key")&&((l=u.test)==null?void 0:l.test(r))})||n[Me];if(n.compat){const u=n.compat.find(l=>{var a;return l.default&&((a=l.test)==null?void 0:a.test(r))})??n[Me];if(o.tag!==u.tag){const l=e.tagString(o.tag),a=e.tagString(u.tag),f=`Value may be parsed as either ${l} or ${a}`;i(s,"TAG_RESOLVE_FAILED",f,!0)}}return o}function bb(t,e,n){if(e){n===null&&(n=e.length);for(let r=n-1;r>=0;--r){let s=e[r];switch(s.type){case"space":case"comment":case"newline":t-=s.source.length;continue}for(s=e[++r];(s==null?void 0:s.type)==="space";)t+=s.source.length,s=e[++r];break}}return t}const Db={composeNode:Cc,composeEmptyNode:oo};function Cc(t,e,n,r){const s=t.atKey,{spaceBefore:i,comment:o,anchor:u,tag:l}=n;let a,f=!0;switch(e.type){case"alias":a=_b(t,e,r),(u||l)&&r(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":a=Ec(t,e,l,r),u&&(a.anchor=u.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":a=ub(Db,t,e,n,r),u&&(a.anchor=u.source.substring(1));break;default:{const c=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;r(e,"UNEXPECTED_TOKEN",c),a=oo(t,e.offset,void 0,null,n,r),f=!1}}return u&&a.anchor===""&&r(u,"BAD_ALIAS","Anchor cannot be an empty string"),s&&t.options.stringKeys&&(!q(a)||typeof a.value!="string"||a.tag&&a.tag!=="tag:yaml.org,2002:str")&&r(l??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),i&&(a.spaceBefore=!0),o&&(e.type==="scalar"&&e.source===""?a.comment=o:a.commentBefore=o),t.options.keepSourceTokens&&f&&(a.srcToken=e),a}function oo(t,e,n,r,{spaceBefore:s,comment:i,anchor:o,tag:u,end:l},a){const f={type:"scalar",offset:bb(e,n,r),indent:-1,source:""},c=Ec(t,f,u,a);return o&&(c.anchor=o.source.substring(1),c.anchor===""&&a(o,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(c.spaceBefore=!0),i&&(c.comment=i,c.range[2]=l),c}function _b({options:t},{offset:e,source:n,end:r},s){const i=new is(n.substring(1));i.source===""&&s(e,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&s(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=e+n.length,u=Un(r,o,t.strict,s);return i.range=[e,o,u.offset],u.comment&&(i.comment=u.comment),i}function Eb(t,e,{offset:n,start:r,value:s,end:i},o){const u=Object.assign({_directives:e},t),l=new Xt(void 0,u),a={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},f=Gt(r,{indicator:"doc-start",next:s??(i==null?void 0:i[0]),offset:n,onError:o,parentIndent:0,startOnNewline:!0});f.found&&(l.directives.docStart=!0,s&&(s.type==="block-map"||s.type==="block-seq")&&!f.hasNewline&&o(f.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=s?Cc(a,s,f,o):oo(a,f.end,r,null,f,o);const c=l.contents.range[2],h=Un(i,c,!1,o);return h.comment&&(l.comment=h.comment),l.range=[n,c,h.offset],l}function sn(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function ju(t){var s;let e="",n=!1,r=!1;for(let i=0;i<t.length;++i){const o=t[i];switch(o[0]){case"#":e+=(e===""?"":r?`

`:`
`)+(o.substring(1)||" "),n=!0,r=!1;break;case"%":((s=t[i+1])==null?void 0:s[0])!=="#"&&(i+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:e,afterEmptyLine:r}}class uo{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,s,i)=>{const o=sn(n);i?this.warnings.push(new gc(o,r,s)):this.errors.push(new yt(o,r,s))},this.directives=new ce({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:r,afterEmptyLine:s}=ju(this.prelude);if(r){const i=e.contents;if(n)e.comment=e.comment?`${e.comment}
${r}`:r;else if(s||e.directives.docStart||!i)e.commentBefore=r;else if(Z(i)&&!i.flow&&i.items.length>0){let o=i.items[0];H(o)&&(o=o.key);const u=o.commentBefore;o.commentBefore=u?`${r}
${u}`:r}else{const o=i.commentBefore;i.commentBefore=o?`${r}
${o}`:r}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:ju(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,r=-1){for(const s of e)yield*this.next(s);yield*this.end(n,r)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,r,s)=>{const i=sn(e);i[0]+=n,this.onError(i,"BAD_DIRECTIVE",r,s)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=Eb(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,r=new yt(sn(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new yt(sn(e),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=Un(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new yt(sn(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const r=Object.assign({_directives:this.directives},this.options),s=new Xt(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),s.range=[0,n,n],this.decorate(s,!1),yield s}}}function Cb(t,e=!0,n){if(t){const r=(s,i,o)=>{const u=typeof s=="number"?s:Array.isArray(s)?s[0]:s.offset;if(n)n(u,i,o);else throw new yt([u,u+1],i,o)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return Dc(t,e,r);case"block-scalar":return bc({options:{strict:e}},t,r)}}return null}function Ab(t,e){const{implicitKey:n=!1,indent:r,inFlow:s=!1,offset:i=-1,type:o="PLAIN"}=e,u=Mn({type:o,value:t},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}}),l=e.end??[{type:"newline",offset:-1,indent:r,source:`
`}];switch(u[0]){case"|":case">":{const a=u.indexOf(`
`),f=u.substring(0,a),c=u.substring(a+1)+`
`,h=[{type:"block-scalar-header",offset:i,indent:r,source:f}];return Ac(h,l)||h.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:i,indent:r,props:h,source:c}}case'"':return{type:"double-quoted-scalar",offset:i,indent:r,source:u,end:l};case"'":return{type:"single-quoted-scalar",offset:i,indent:r,source:u,end:l};default:return{type:"scalar",offset:i,indent:r,source:u,end:l}}}function kb(t,e,n={}){let{afterKey:r=!1,implicitKey:s=!1,inFlow:i=!1,type:o}=n,u="indent"in t?t.indent:null;if(r&&typeof u=="number"&&(u+=2),!o)switch(t.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{const a=t.props[0];if(a.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=a.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}const l=Mn({type:o,value:e},{implicitKey:s||u===null,indent:u!==null&&u>0?" ".repeat(u):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":Sb(t,l);break;case'"':Hs(t,l,"double-quoted-scalar");break;case"'":Hs(t,l,"single-quoted-scalar");break;default:Hs(t,l,"scalar")}}function Sb(t,e){const n=e.indexOf(`
`),r=e.substring(0,n),s=e.substring(n+1)+`
`;if(t.type==="block-scalar"){const i=t.props[0];if(i.type!=="block-scalar-header")throw new Error("Invalid block scalar header");i.source=r,t.source=s}else{const{offset:i}=t,o="indent"in t?t.indent:-1,u=[{type:"block-scalar-header",offset:i,indent:o,source:r}];Ac(u,"end"in t?t.end:void 0)||u.push({type:"newline",offset:-1,indent:o,source:`
`});for(const l of Object.keys(t))l!=="type"&&l!=="offset"&&delete t[l];Object.assign(t,{type:"block-scalar",indent:o,props:u,source:s})}}function Ac(t,e){if(e)for(const n of e)switch(n.type){case"space":case"comment":t.push(n);break;case"newline":return t.push(n),!0}return!1}function Hs(t,e,n){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=n,t.source=e;break;case"block-scalar":{const r=t.props.slice(1);let s=e.length;t.props[0].type==="block-scalar-header"&&(s-=t.props[0].source.length);for(const i of r)i.offset+=s;delete t.props,Object.assign(t,{type:n,source:e,end:r});break}case"block-map":case"block-seq":{const s={type:"newline",offset:t.offset+e.length,indent:t.indent,source:`
`};delete t.items,Object.assign(t,{type:n,source:e,end:[s]});break}default:{const r="indent"in t?t.indent:-1,s="end"in t&&Array.isArray(t.end)?t.end.filter(i=>i.type==="space"||i.type==="comment"||i.type==="newline"):[];for(const i of Object.keys(t))i!=="type"&&i!=="offset"&&delete t[i];Object.assign(t,{type:n,indent:r,source:e,end:s})}}}const xb=t=>"type"in t?Kr(t):yr(t);function Kr(t){switch(t.type){case"block-scalar":{let e="";for(const n of t.props)e+=Kr(n);return e+t.source}case"block-map":case"block-seq":{let e="";for(const n of t.items)e+=yr(n);return e}case"flow-collection":{let e=t.start.source;for(const n of t.items)e+=yr(n);for(const n of t.end)e+=n.source;return e}case"document":{let e=yr(t);if(t.end)for(const n of t.end)e+=n.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(const n of t.end)e+=n.source;return e}}}function yr({start:t,key:e,sep:n,value:r}){let s="";for(const i of t)s+=i.source;if(e&&(s+=Kr(e)),n)for(const i of n)s+=i.source;return r&&(s+=Kr(r)),s}const _i=Symbol("break visit"),Fb=Symbol("skip children"),kc=Symbol("remove item");function _t(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),Sc(Object.freeze([]),t,e)}_t.BREAK=_i;_t.SKIP=Fb;_t.REMOVE=kc;_t.itemAtPath=(t,e)=>{let n=t;for(const[r,s]of e){const i=n==null?void 0:n[r];if(i&&"items"in i)n=i.items[s];else return}return n};_t.parentCollection=(t,e)=>{const n=_t.itemAtPath(t,e.slice(0,-1)),r=e[e.length-1][0],s=n==null?void 0:n[r];if(s&&"items"in s)return s;throw new Error("Parent collection not found")};function Sc(t,e,n){let r=n(e,t);if(typeof r=="symbol")return r;for(const s of["key","value"]){const i=e[s];if(i&&"items"in i){for(let o=0;o<i.items.length;++o){const u=Sc(Object.freeze(t.concat([[s,o]])),i.items[o],n);if(typeof u=="number")o=u-1;else{if(u===_i)return _i;u===kc&&(i.items.splice(o,1),o-=1)}}typeof r=="function"&&s==="key"&&(r=r(e,t))}}return typeof r=="function"?r(e,t):r}const ms="\uFEFF",gs="",ys="",On="",wb=t=>!!t&&"items"in t,Ob=t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar");function vb(t){switch(t){case ms:return"<BOM>";case gs:return"<DOC>";case ys:return"<FLOW_END>";case On:return"<SCALAR>";default:return JSON.stringify(t)}}function xc(t){switch(t){case ms:return"byte-order-mark";case gs:return"doc-mode";case ys:return"flow-error-end";case On:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const Pb=Object.freeze(Object.defineProperty({__proto__:null,BOM:ms,DOCUMENT:gs,FLOW_END:ys,SCALAR:On,createScalarToken:Ab,isCollection:wb,isScalar:Ob,prettyToken:vb,resolveAsScalar:Cb,setScalarValue:kb,stringify:xb,tokenType:xc,visit:_t},Symbol.toStringTag,{value:"Module"}));function Fe(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const Uu=new Set("0123456789ABCDEFabcdef"),$b=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),rr=new Set(",[]{}"),Ib=new Set(` ,[]{}
\r	`),Qs=t=>!t||Ib.has(t);class Fc{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+e];if(n==="\r"){const s=this.buffer[r+e+1];if(s===`
`||!s&&!this.atEnd)return e+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?e+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(e,3);if((r==="---"||r==="...")&&Fe(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===ms&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,r=e.indexOf("#");for(;r!==-1;){const i=e[r-1];if(i===" "||i==="	"){n=r-1;break}else r=e.indexOf("#",r+1)}for(;;){const i=e[n-1];if(i===" "||i==="	")n-=1;else break}const s=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield gs,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&Fe(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Fe(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&Fe(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(Qs),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,r=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const s=this.getLine();if(s===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&s[0]!=="#"||r===0&&(s.startsWith("---")||s.startsWith("..."))&&Fe(s[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(s[0]==="]"||s[0]==="}")))return this.flowLevel=0,yield ys,yield*this.parseLineStart();let i=0;for(;s[i]===",";)i+=yield*this.pushCount(1),i+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(i+=yield*this.pushIndicators(),s[i]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(Qs),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||Fe(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let i=0;for(;this.buffer[n-1-i]==="\\";)i+=1;if(i%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let s=r.indexOf(`
`,this.pos);if(s!==-1){for(;s!==-1;){const i=this.continueScalar(s+1);if(i===-1)break;s=r.indexOf(`
`,i)}s!==-1&&(n=s-(r[s-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>Fe(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,r;e:for(let i=this.pos;r=this.buffer[i];++i)switch(r){case" ":n+=1;break;case`
`:e=i,n=0;break;case"\r":{const o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const i=this.continueScalar(e+1);if(i===-1)break;e=this.buffer.indexOf(`
`,i)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let s=e+1;for(r=this.buffer[s];r===" ";)r=this.buffer[++s];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++s];e=s-1}else if(!this.blockScalarKeep)do{let i=e-1,o=this.buffer[i];o==="\r"&&(o=this.buffer[--i]);const u=i;for(;o===" ";)o=this.buffer[--i];if(o===`
`&&i>=this.pos&&i+1+n>u)e=i;else break}while(!0);return yield On,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,s;for(;s=this.buffer[++r];)if(s===":"){const i=this.buffer[r+1];if(Fe(i)||e&&rr.has(i))break;n=r}else if(Fe(s)){let i=this.buffer[r+1];if(s==="\r"&&(i===`
`?(r+=1,s=`
`,i=this.buffer[r+1]):n=r),i==="#"||e&&rr.has(i))break;if(s===`
`){const o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2)}}else{if(e&&rr.has(s))break;n=r}return!s&&!this.atEnd?this.setNext("plain-scalar"):(yield On,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const r=this.buffer.slice(this.pos,e);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(Qs))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(Fe(n)||e&&rr.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!Fe(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if($b.has(n))n=this.buffer[++e];else if(n==="%"&&Uu.has(this.buffer[e+1])&&Uu.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||e&&r==="	");const s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(e){let n=this.pos,r=this.buffer[n];for(;!e(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class wc{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,r=this.lineStarts.length;for(;n<r;){const i=n+r>>1;this.lineStarts[i]<e?n=i+1:r=i}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const s=this.lineStarts[n-1];return{line:n,col:e-s+1}}}}function ft(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function zu(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function Oc(t){switch(t==null?void 0:t.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function sr(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function xt(t){var n;if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=t[++e])==null?void 0:n.type)==="space";);return t.splice(e,t.length)}function qu(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!ft(e.start,"explicit-key-ind")&&!ft(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,Oc(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class lo{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Fc,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(e,n))yield*this.next(r);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=xc(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const r=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&qu(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const s=r.items[r.items.length-1];if(s.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(s.sep)s.value=n;else{Object.assign(s,{key:n,sep:[]}),this.onKeyLine=!s.explicitKey;return}break}case"block-seq":{const s=r.items[r.items.length-1];s.value?r.items.push({start:[],value:n}):s.value=n;break}case"flow-collection":{const s=r.items[r.items.length-1];!s||s.value?r.items.push({start:[],key:n,sep:[]}):s.sep?s.value=n:Object.assign(s,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const s=n.items[n.items.length-1];s&&!s.sep&&!s.value&&s.start.length>0&&zu(s.start)===-1&&(n.indent===0||s.start.every(i=>i.type!=="comment"||i.indent<n.indent))&&(r.type==="document"?r.end=s.start:r.items.push({start:s.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{zu(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=sr(this.peek(2)),r=xt(n);let s;e.end?(s=e.end,s.push(this.sourceToken),delete e.end):s=[this.sourceToken];const i={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var r;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const s="end"in n.value?n.value.end:void 0,i=Array.isArray(s)?s[s.length-1]:void 0;(i==null?void 0:i.type)==="comment"?s==null||s.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const s=e.items[e.items.length-2],i=(r=s==null?void 0:s.value)==null?void 0:r.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const s=!this.onKeyLine&&this.indent===e.indent,i=s&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let o=[];if(i&&n.sep&&!n.value){const u=[];for(let l=0;l<n.sep.length;++l){const a=n.sep[l];switch(a.type){case"newline":u.push(l);break;case"space":break;case"comment":a.indent>e.indent&&(u.length=0);break;default:u.length=0}}u.length>=2&&(o=n.sep.splice(u[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(o.push(this.sourceToken),e.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):i||n.value?(o.push(this.sourceToken),e.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(ft(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(Oc(n.key)&&!ft(n.sep,"newline")){const u=xt(n.start),l=n.key,a=n.sep;a.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:u,key:l,sep:a}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(ft(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const u=xt(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:u,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?e.items.push({start:o,key:null,sep:[this.sourceToken]}):ft(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const u=this.flowScalar(this.type);i||n.value?(e.items.push({start:o,key:u,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(u):(Object.assign(n,{key:u,sep:[]}),this.onKeyLine=!0);return}default:{const u=this.startBlockValue(e);if(u){s&&u.type!=="block-seq"&&e.items.push({start:o}),this.stack.push(u);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var r;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const s="end"in n.value?n.value.end:void 0,i=Array.isArray(s)?s[s.length-1]:void 0;(i==null?void 0:i.type)==="comment"?s==null||s.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const s=e.items[e.items.length-2],i=(r=s==null?void 0:s.value)==null?void 0:r.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||ft(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const s=this.startBlockValue(e);if(s){this.stack.push(s);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:s,sep:[]}):n.sep?this.stack.push(s):Object.assign(n,{key:s,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const r=this.startBlockValue(e);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===e.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const s=sr(r),i=xt(s);qu(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const u={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:i,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=u}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=sr(e),r=xt(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=sr(e),r=xt(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function vc(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new wc||null,prettyErrors:e}}function Tb(t,e={}){const{lineCounter:n,prettyErrors:r}=vc(e),s=new lo(n==null?void 0:n.addNewLine),i=new uo(e),o=Array.from(i.compose(s.parse(t)));if(r&&n)for(const u of o)u.errors.forEach(Vr(t,n)),u.warnings.forEach(Vr(t,n));return o.length>0?o:Object.assign([],{empty:!0},i.streamInfo())}function Pc(t,e={}){const{lineCounter:n,prettyErrors:r}=vc(e),s=new lo(n==null?void 0:n.addNewLine),i=new uo(e);let o=null;for(const u of i.compose(s.parse(t),!0,t.length))if(!o)o=u;else if(o.options.logLevel!=="silent"){o.errors.push(new yt(u.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(o.errors.forEach(Vr(t,n)),o.warnings.forEach(Vr(t,n))),o}function Nb(t,e,n){let r;typeof e=="function"?r=e:n===void 0&&e&&typeof e=="object"&&(n=e);const s=Pc(t,n);if(!s)return null;if(s.warnings.forEach(i=>Ya(s.options.logLevel,i)),s.errors.length>0){if(s.options.logLevel!=="silent")throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:r},n))}function Bb(t,e,n){let r=null;if(typeof e=="function"||Array.isArray(e)?r=e:n===void 0&&e&&(n=e),typeof n=="string"&&(n=n.length),typeof n=="number"){const s=Math.round(n);n=s<1?void 0:s>8?{indent:8}:{indent:s}}if(t===void 0){const{keepUndefined:s}=n??e??{};if(!s)return}return Ct(t)&&!r?t.toString(n):new Xt(t,r,n).toString(n)}const Rb=Object.freeze(Object.defineProperty({__proto__:null,Alias:is,CST:Pb,Composer:uo,Document:Xt,Lexer:Fc,LineCounter:wc,Pair:ue,Parser:lo,Scalar:T,Schema:ps,YAMLError:io,YAMLMap:_e,YAMLParseError:yt,YAMLSeq:ut,YAMLWarning:gc,isAlias:Et,isCollection:Z,isDocument:Ct,isMap:Ht,isNode:X,isPair:H,isScalar:q,isSeq:Qt,parse:Nb,parseAllDocuments:Tb,parseDocument:Pc,stringify:Bb,visit:ot,visitAsync:ss},Symbol.toStringTag,{value:"Module"}));function Lb(t){let e=null;try{e=Rb.parse(t.doc.toString())}catch{}const n=ki(t,J.YAML);return{data:e,pointers:n}}const $c=t=>{switch(t){case J.JSON:return m1;case J.JSON5:return F1;case J.YAML:return Lb}};function Mb(t){return Object.entries(t)}function cn(t,e){if(typeof t=="string"||typeof t!="object"||t===null)return t;if(Array.isArray(t))return t.map(s=>cn(s,e));if(t instanceof Map){const s=new Map;for(const[i,o]of t){const u=i,l=cn(o,e);s.set(u,l)}return s}if(t instanceof Set){const s=new Set;for(const i of t){const o=cn(i,e);s.add(o)}return s}const n={};function r(s,i,o,u){o===s&&u===i?n[o]=cn(i,e):n[o]=u}for(const[s,i]of Mb(t)){const o=e(s,i);if(o.length===2&&typeof o[0]=="string")r(s,i,o[0],o[1]);else for(const[u,l]of o)r(s,i,u,l)}return n}var jb=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Ub{constructor(){this.completions=new Map,this.reservedKeys=new Set}reserve(e){this.reservedKeys.add(e)}add(e){this.reservedKeys.has(e.label)||this.completions.set(e.label,e)}}function mn(t){return!(!t||le(t)||t.name==="UnknownPropertyError"||t.type==="undefined")}class zb{constructor(e){var n,r,s;this.opts=e,this.originalSchema=null,this.schema=null,this.laxSchema=null,this.mode=J.JSON,this.mode=(n=e.mode)!==null&&n!==void 0?n:J.JSON,this.parser=(s=(r=this.opts)===null||r===void 0?void 0:r.jsonParser)!==null&&s!==void 0?s:$c(this.mode)}doComplete(e){var n;const r=Si(e.state);if(this.originalSchema!==r&&(this.schema=(n=ct(r,r))!==null&&n!==void 0?n:r,this.laxSchema=Gb(this.schema)),!this.schema||!this.laxSchema)return[];Y.log("xxx","trying with original schema");const s=this.doCompleteForSchema(e,this.schema);return s.options.length!==0?s:(Y.log("xxx","no completions with original schema, trying with lax schema"),this.doCompleteForSchema(e,this.laxSchema))}doCompleteForSchema(e,n){var r,s;const i={from:e.pos,to:e.pos,options:[],filter:!1},o=e.state.doc.sliceString(0);let u=Es(e.state,e.pos),l=e.state.sliceDoc(u.from,e.pos).replace(/^(["'])/,"");if(Y.log("xxx","node",u,"prefix",l,"ctx",e),!(lr(u,this.mode)||zn(u,this.mode))&&!e.explicit)return Y.log("xxx","no completions for non-word/primitive",u),i;const a=Ft(e.state.doc,u),f=Ft(e.state.doc,u,!1);if(u&&(lr(u,this.mode)||zn(u,this.mode)))i.from=u.from,i.to=u.to;else{const p=e.matchBefore(/[A-Za-z0-9._]*/),g=e.pos-a.length;Y.log("xxx","overwriteStart after",g,"ctx.pos",e.pos,"word",p,"currentWord",a,"=>",o[g-1],"..",o[g],"..",o),i.from=u.name===R.INVALID?(r=p==null?void 0:p.from)!==null&&r!==void 0?r:e.pos:g,i.to=e.pos}const c=new Ub;let h=!0;const d=Eo(u,R.PROPERTY_NAME,this.mode);if(d&&(Y.log("xxx","closestPropertyNameNode",d,"node",u),u=d),zn(u,this.mode)){Y.log("xxx","isPropertyNameNode",u);const p=u.parent;if(p){const g=_o(p,this.mode);h=!g||g.name===R.INVALID&&g.from-g.to===0||(g.parent?$n(g.parent).length<=1:!1),Y.log("xxx","addValue",h,_o(p,this.mode),u),u=(s=Eo(p,R.OBJECT,this.mode))!==null&&s!==void 0?s:null}}if(Y.log("xxx",u,a,e,"node at pos",Es(e.state,e.pos)),u&&[R.OBJECT,R.JSON_TEXT].includes(ee(u.name,this.mode))&&(zn(Es(e.state,e.pos),this.mode)||d)){if(u.from===e.pos)return Y.log("xxx","no completions for just before opening brace"),i;this.getPropertyCompletions(n,e,u,c,h,f)}else{const p={},g=this.getValueCompletions(n,e,p,c);Y.log("xxx","getValueCompletions res",g)}return i.options=Array.from(c.completions.values()).filter(p=>ur(p.label).startsWith(l)),Y.log("xxx","result",i,"prefix",l,"collector.completions",c.completions,"reservedKeys",c.reservedKeys),i}applySnippetCompletion(e){return Hc(typeof e.apply!="string"?e.label:e.apply,e)}getPropertyCompletions(e,n,r,s,i,o){const u=Df(r,R.PROPERTY,this.mode);Y.log("xxx","getPropertyCompletions",r,n,u),u.forEach(a=>{const f=Ft(n.state.doc,Zs(a,R.PROPERTY_NAME,this.mode));s.reserve(ur(f))});const l=this.getSchemas(e,n);Y.log("xxx","propertyCompletion schemas",l),l.forEach(a=>{if(typeof a!="object")return;const f=a.properties;f&&Object.entries(f).forEach(([h,d])=>{var p,g;if(typeof d=="object"){const y=(p=d.description)!==null&&p!==void 0?p:"",D=(g=d.type)!==null&&g!==void 0?g:"",b=Array.isArray(D)?D.toString():D,m={label:h,apply:this.getInsertTextForProperty(h,i,o,e,d),type:"property",detail:b,info:()=>Te("div",{inner:Bt(y)})};s.add(this.applySnippetCompletion(m))}});const c=a.propertyNames;if(typeof c=="object"&&(c.enum&&c.enum.forEach(h=>{const d=h==null?void 0:h.toString();if(d){const p={label:d,apply:this.getInsertTextForProperty(d,i,o,e),type:"property"};s.add(this.applySnippetCompletion(p))}}),c.const)){const h=c.const.toString(),d={label:h,apply:this.getInsertTextForProperty(h,i,o,e),type:"property"};s.add(this.applySnippetCompletion(d))}})}getInsertTextForProperty(e,n,r,s,i){i=i&&ct(i,s);let o=this.getInsertTextForPropertyName(e,r);if(!n)return o;o+=": ";let u,l=0;if(typeof i=="object"){if(typeof i.default<"u")u||(u=this.getInsertTextForGuessedValue(i.default,"")),l++;else if(i.enum&&(!u&&i.enum.length===1&&(u=this.getInsertTextForGuessedValue(i.enum[0],"")),l+=i.enum.length),typeof i.const<"u"&&(u||(u=this.getInsertTextForGuessedValue(i.const,"")),l++),Array.isArray(i.examples)&&i.examples.length&&(u||(u=this.getInsertTextForGuessedValue(i.examples[0],"")),l+=i.examples.length),u===void 0&&l===0){let a=Array.isArray(i.type)?i.type[0]:i.type;switch(a||(i.properties?a="object":i.items&&(a="array")),a){case"boolean":u="#{}";break;case"string":u=this.getInsertTextForString("");break;case"object":switch(this.mode){case J.JSON5:u="{#{}}";break;case J.YAML:u="#{}";break;default:u="{#{}}";break}break;case"array":u="[#{}]";break;case"number":case"integer":u="#{0}";break;case"null":u="#{null}";break;default:u="#{}";break}}}return(!u||l>1)&&(Y.log("xxx","value",u,"nValueProposals",l,i),u="#{}"),o+u}getInsertTextForPropertyName(e,n){switch(this.mode){case J.JSON5:case J.YAML:return n.startsWith('"')?`"${e}"`:n.startsWith("'")?`'${e}'`:e;default:return`"${e}"`}}getInsertTextForString(e,n="#"){switch(this.mode){case J.JSON5:return`'${n}{${e}}'`;case J.YAML:return`${n}{${e}}`;default:return`"${n}{${e}}"`}}getInsertTextForGuessedValue(e,n=""){switch(typeof e){case"object":return e===null?"${null}"+n:this.getInsertTextForValue(e,n);case"string":{let r=JSON.stringify(e);return r=r.substr(1,r.length-2),r=this.getInsertTextForPlainText(r),this.getInsertTextForString(r,"$")+n}case"number":case"boolean":return"${"+JSON.stringify(e)+"}"+n}return this.getInsertTextForValue(e,n)}getInsertTextForPlainText(e){return e.replace(/[\\$}]/g,"\\$&")}getInsertTextForValue(e,n){const r=JSON.stringify(e,null,"	");return r==="{}"?"{#{}}"+n:r==="[]"?"[#{}]"+n:this.getInsertTextForPlainText(r+n)}getValueCompletions(e,n,r,s){let i=Wr(n.state).resolveInner(n.pos,-1),o=null,u;if(Y.log("xxx","getValueCompletions",i,n),i&&lr(i,this.mode)&&(o=i,i=i.parent),!i){this.addSchemaValueCompletions(e,r,s);return}if(ee(i.name,this.mode)===R.PROPERTY){const a=Zs(i,R.PROPERTY_NAME,this.mode);a&&(u=Ft(n.state.doc,a),i=i.parent)}if(Y.log("xxx","node",i,"parentKey",u),i&&(u!==void 0||ee(i.name,this.mode)===R.ARRAY)){const a=this.getSchemas(e,n);for(const f of a){if(typeof f!="object")return;if(ee(i.name,this.mode)===R.ARRAY&&f.items){let c=s;if(f.uniqueItems&&(c=Object.assign(Object.assign({},c),{add(h){c.completions.has(h.label)||s.add(h)},reserve(h){s.reserve(h)}})),Array.isArray(f.items)){let h=0;if(o){const p=el(i,o,this.mode);p>=0&&(h=p)}const d=f.items[h];d&&this.addSchemaValueCompletions(d,r,c)}else this.addSchemaValueCompletions(f.items,r,c)}if((f.type==null||f.type!=="object")&&this.addSchemaValueCompletions(f,r,s),u!==void 0){let c=!1;if(f.properties){const h=f.properties[u];h&&(c=!0,this.addSchemaValueCompletions(h,r,s))}if(f.patternProperties&&!c)for(const h of Object.keys(f.patternProperties)){const d=this.extendedRegExp(h);if(d!=null&&d.test(u)){c=!0;const p=f.patternProperties[h];p&&this.addSchemaValueCompletions(p,r,s)}}if(f.additionalProperties&&!c){const h=f.additionalProperties;this.addSchemaValueCompletions(h,r,s)}}r.boolean&&(this.addBooleanValueCompletion(!0,s),this.addBooleanValueCompletion(!1,s)),r.null&&this.addNullValueCompletion(s)}}return{valuePrefix:o?Ft(n.state.doc,o,!0,!1):""}}addSchemaValueCompletions(e,n,r){typeof e=="object"&&(this.addEnumValueCompletions(e,r),this.addDefaultValueCompletions(e,r),this.collectTypes(e,n),Array.isArray(e.allOf)&&e.allOf.forEach(s=>this.addSchemaValueCompletions(s,n,r)),Array.isArray(e.anyOf)&&e.anyOf.forEach(s=>this.addSchemaValueCompletions(s,n,r)),Array.isArray(e.oneOf)&&e.oneOf.forEach(s=>this.addSchemaValueCompletions(s,n,r)))}addDefaultValueCompletions(e,n,r=0){let s=!1;if(typeof e.default<"u"){let i=e.type,o=e.default;for(let l=r;l>0;l--)o=[o],i="array";const u=Object.assign(Object.assign({type:i==null?void 0:i.toString()},this.getAppliedValue(o)),{detail:"Default value"});n.add(u),s=!0}Array.isArray(e.examples)&&e.examples.forEach(i=>{let o=e.type,u=i;for(let l=r;l>0;l--)u=[u],o="array";n.add(Object.assign({type:o==null?void 0:o.toString()},this.getAppliedValue(u))),s=!0}),!s&&typeof e.items=="object"&&!Array.isArray(e.items)&&r<5&&this.addDefaultValueCompletions(e.items,n,r+1)}addEnumValueCompletions(e,n){var r,s;if(typeof e.const<"u"&&n.add(Object.assign(Object.assign({type:(r=e.type)===null||r===void 0?void 0:r.toString()},this.getAppliedValue(e.const)),{info:e.description})),Array.isArray(e.enum))for(let i=0,o=e.enum.length;i<o;i++){const u=e.enum[i];n.add(Object.assign(Object.assign({type:(s=e.type)===null||s===void 0?void 0:s.toString()},this.getAppliedValue(u)),{info:e.description}))}}addBooleanValueCompletion(e,n){n.add({type:"boolean",label:e?"true":"false"})}addNullValueCompletion(e){e.add({type:"null",label:"null"})}collectTypes(e,n){if(Array.isArray(e.enum)||typeof e.const<"u")return;const r=e.type;Array.isArray(r)?r.forEach(s=>n[s]=!0):r&&(n[r]=!0)}getSchemas(e,n){var r,s,i;const{data:o}=this.parser(n.state),u=new jl(e);let l=Zu(n.state,n.pos,-1,this.mode);if(l===""&&(l=void 0),l!=null&&l.endsWith("/")){l=l.substring(0,l.length-1);const p=Gu(e,o,l);if(p!=null)return[p]}let a=l!=null?l.replace(/\/[^/]*$/,""):void 0;a===""&&(a=void 0);const f=Gu(e,o,a),c=l==null?void 0:l.split("/").pop(),h=c==null||c in((r=f==null?void 0:f.properties)!==null&&r!==void 0?r:{});let d=u.getSchema({pointer:l,data:o??void 0});return!h&&(d==null?void 0:d.type)==="null"&&this.mode==="yaml"&&(d=void 0),Y.log("xxxx","draft.getSchema",d,"data",o,"pointer",l,"pointerPointsToKnownProperty",h),le(d)&&(d=(s=d.data)===null||s===void 0?void 0:s.schema),!mn(d)&&f?[f]:(mn(d)||(d=u.getSchema({pointer:a}),l=a),Y.log("xxx","pointer..",JSON.stringify(l)),!mn(d)&&(!l||l==="/")&&(d=(i=ct(e,e))!==null&&i!==void 0?i:e),Y.log("xxx","subSchema..",d),d?Array.isArray(d.allOf)?[d,...d.allOf.map(p=>ct(p,e))]:Array.isArray(d.oneOf)?[d,...d.oneOf.map(p=>ct(p,e))]:Array.isArray(d.anyOf)?[d,...d.anyOf.map(p=>ct(p,e))]:[d]:[])}getAppliedValue(e){const n=ur(JSON.stringify(e));switch(this.mode){case J.JSON5:return{label:n,apply:yf(JSON.stringify(e))};case J.YAML:return{label:n,apply:n};default:return{label:n,apply:JSON.stringify(e)}}}getValueFromLabel(e){return JSON.parse(e)}extendedRegExp(e){let n="";e.startsWith("(?i)")&&(e=e.substring(4),n="i");try{return new RegExp(e,n+"u")}catch{try{return new RegExp(e,n)}catch{return}}}}function qb(t={}){const e=new zb(t);return function(r){return e.doComplete(r)}}function Gb(t){return cn(t,(e,n)=>e==="additionalProperties"&&n===!1?[]:e==="required"&&Array.isArray(n)?[]:e==="unevaluatedProperties"&&n===!1?[]:e==="unevaluatedItems"&&n===!1?[]:[e,n])}function Gu(t,e,n){const r=new jl(t),s=r.getSchema({pointer:n,data:e??void 0});if(!mn(s))return;const i=Ic(r,s),o={};for(let h of i){let d=Kb(n,h);const p=r.getSchema({pointer:d,data:e??void 0});mn(p)&&Object.assign(o,{[h]:p})}if(i.length===0||Object.keys(o).length===0)return;const u=s,{allOf:l,anyOf:a,oneOf:f}=u,c=jb(u,["allOf","anyOf","oneOf"]);return Object.assign(Object.assign({},c),{properties:o})}function Ic(t,e){if(e=ct(e,t.rootSchema),typeof e!="object"||e==null)return[];const n=[];function r(s){const i=Ic(t,s);n.push(...i)}if(typeof e.properties=="object"&&e.properties!=null&&n.push(...Object.keys(e.properties)),typeof e.then=="object"&&e.then!=null&&r(e.then),Array.isArray(e.allOf))for(const s of e.allOf)r(s);if(Array.isArray(e.anyOf))for(const s of e.anyOf)r(s);if(Array.isArray(e.oneOf))for(const s of e.oneOf)r(s);return n}function ct(t,e){if(typeof t=="object"&&t.$ref){const n=Vb(e,t.$ref);if(typeof n=="object"){const r=Object.assign(Object.assign({},t),n);return Reflect.deleteProperty(r,"$ref"),r}}return t}function Vb(t,e){const n=e.split("/");let r=t;return n.forEach(s=>{if(s){if(s==="#"){r=t;return}typeof r=="object"&&(r=r[s])}}),r}function Kb(t,e){return t===void 0?`/${e}`:`${t}/${e}`}const vn=(t,e)=>{const n=t.length>2;let r=t.map((s,i)=>{const o="`"+(e?e(s):s)+"`";return i===t.length-1?"or "+o:o});return n?r.join(", "):r.join(" ")},Wb=t=>{var e,n,r;return!((e=t==null?void 0:t.data)===null||e===void 0)&&e.pointer&&((n=t==null?void 0:t.data)===null||n===void 0?void 0:n.pointer)!=="#"?t.data.pointer.slice(1):!((r=t==null?void 0:t.data)===null||r===void 0)&&r.property?`/${t.data.property}`:""},Jb=t=>t.startState.field(Er)!==t.state.field(Er);function Hb(t){const e=new Yb(t);return n=>e.doValidation(n)}const Qb=["NoAdditionalPropertiesError","RequiredPropertyError","InvalidPropertyNameError","ForbiddenPropertyError","UndefinedValueError"];class Yb{constructor(e){var n,r,s,i;this.options=e,this.schema=null,this.mode=J.JSON,this.rewriteError=o=>{var u,l,a,f,c;const h=o==null?void 0:o.data,d=h==null?void 0:h.errors;return o.code==="one-of-error"&&(d!=null&&d.length)?`Expected one of ${vn(d,g=>g.data.expected)}`:o.code==="type-error"?`Expected \`${!((u=o==null?void 0:o.data)===null||u===void 0)&&u.expected&&Array.isArray((l=o==null?void 0:o.data)===null||l===void 0?void 0:l.expected)?vn((a=o==null?void 0:o.data)===null||a===void 0?void 0:a.expected):(f=o==null?void 0:o.data)===null||f===void 0?void 0:f.expected}\` but received \`${(c=o==null?void 0:o.data)===null||c===void 0?void 0:c.received}\``:o.message.replaceAll("in `#` ","").replaceAll("at `#`","").replaceAll("/",".").replaceAll("#.","")},this.mode=(r=(n=this.options)===null||n===void 0?void 0:n.mode)!==null&&r!==void 0?r:J.JSON,this.parser=(i=(s=this.options)===null||s===void 0?void 0:s.jsonParser)!==null&&i!==void 0?i:$c(this.mode)}get schemaTitle(){var e,n,r;return(r=(n=(e=this.schema)===null||e===void 0?void 0:e.getSchema())===null||n===void 0?void 0:n.title)!==null&&r!==void 0?r:"json-schema"}doValidation(e){const n=Si(e.state);if(!n)return[];if(this.schema=new Ll(n),!this.schema)return[];const r=e.state.doc.toString();if(!(r!=null&&r.length))return[];const s=this.parser(e.state);if(s.data==null)return[];let i=[];try{i=this.schema.validate(s.data)}catch{}return Y.log("xxx","validation errors",i,s.data),i.length?i.reduce((o,u)=>{const l=()=>{const c=this.rewriteError(u);o.push({from:0,to:0,message:c,severity:"error",source:this.schemaTitle,renderMessage:()=>{const h=Te("div",{});return h.innerHTML=Bt(c),h}})},a=Wb(u),f=s.pointers.get(a);if(u.name==="MaxPropertiesError"||u.name==="MinPropertiesError"||a==="")l();else if(f){const c=Qb.includes(u.name),h=this.rewriteError(u),d=c?f.keyFrom:f.valueFrom,p=c?f.keyTo:f.valueTo;p!==void 0&&d!==void 0&&o.push({from:d,to:p,message:h,renderMessage:()=>{const g=Te("div",{});return g.innerHTML=Bt(h),g},severity:"error",source:this.schemaTitle})}else l();return o},[]):[]}}function Zb(t){const e=new Xb(t);return async function(r,s,i){return e.doHover(r,s,i)}}function Vu(t){if(t.type)return t.$ref?`${t.$ref} (${t.type})`:t.type;if(t.$ref)return`${t.$ref}`}function Ys(t,e,n){return`${e}: ${vn(t[e].map(r=>{try{const{data:s}=n.resolveRef({data:r,pointer:r.$ref});return Vu(s||r)}catch{return r.type}}))}`}class Xb{constructor(e){var n,r;this.opts=e,this.schema=null,this.mode=J.JSON,this.opts=Object.assign({parser:JSON.parse},this.opts),this.mode=(r=(n=this.opts)===null||n===void 0?void 0:n.mode)!==null&&r!==void 0?r:J.JSON}getDataForCursor(e,n,r){const s=Si(e.state);if(!s)return null;this.schema=new Ll(s);const i=Zu(e.state,n,r,this.mode);let o;try{o=this.opts.parser(e.state.doc.toString())}catch{}if(!i)return null;let u=this.schema.getSchema({pointer:i,data:o,withSchemaWarning:!0});return le(u)&&(u!=null&&u.data.schema.$ref?u=this.schema.resolveRef(u):u=u==null?void 0:u.data.schema),{schema:u,pointer:i}}formatMessage(e){const{message:n,typeInfo:r}=e;return n?Te("div",{class:"cm6-json-schema-hover"},[Te("div",{class:"cm6-json-schema-hover--description",inner:Bt(n,!1)}),Te("div",{class:"cm6-json-schema-hover--code-wrapper"},[Te("div",{class:"cm6-json-schema-hover--code",inner:Bt(r,!1)})])]):Te("div",{class:"cm6-json-schema-hover"},[Te("div",{class:"cm6-json-schema-hover--code-wrapper"},[Te("code",{class:"cm6-json-schema-hover--code",inner:Bt(r,!1)})])])}getHoverTexts(e,n){let r="",s=null;const{schema:i}=e;return i.oneOf&&(r=Ys(i,"oneOf",n)),i.anyOf&&(r=Ys(i,"anyOf",n)),i.allOf&&(r=Ys(i,"allOf",n)),i.type&&(r=Array.isArray(i.type)?vn(i.type):i.type),i.$ref&&(r=` Reference: ${i.$ref}`),i.enum&&(r=`\`enum\`: ${vn(i.enum)}`),i.format&&(r+=`\`format\`: ${i.format}`),i.pattern&&(r+=`\`pattern\`: ${i.pattern}`),i.description&&(s=i.description),{message:s,typeInfo:r}}async doHover(e,n,r){var s,i,o,u;const l=n,a=n;try{const f=this.getDataForCursor(e,n,r);if(Y.log("cursorData",f),!(f!=null&&f.schema))return null;const h=((i=(s=this.opts)===null||s===void 0?void 0:s.getHoverTexts)!==null&&i!==void 0?i:this.getHoverTexts)(f,this.schema),p=((u=(o=this.opts)===null||o===void 0?void 0:o.formatHover)!==null&&u!==void 0?u:this.formatMessage)(h);return{pos:l,end:a,arrow:!0,above:!0,create:g=>({dom:p})}}catch(f){return Y.log(f),null}}}function hD(t){return[d1(),co(f1()),co(Hb(),{needsRefresh:Jb}),Na.data.of({autocomplete:qb()}),Qc(Zb()),Cf(t)]}export{uD as C,oD as E,_r as L,bs as _,lf as a,Il as i,hD as j};
