import{j as e}from"./cm-1.0.61-D9ug3d5m.js";import{l as b,bz as s,cJ as f}from"./lib-1.0.61-DoXQcMHD.js";import{B as g}from"./Spinner-1.0.61-khi9zO7Q.js";import{T as m,F as x,b as j}from"./TextField-1.0.61-DyvT2G_W.js";import{F as v}from"./FormControlLabel-1.0.61-Bu2IQ4da.js";import{C as E}from"./Checkbox-1.0.61-BlN5bjuH.js";import"./redux-1.0.61-CrJ4jvTM.js";import"./vendor-1.0.61-CN03Eozo.js";import"./loglevel-1.0.61-BZ7XahX3.js";import"./lodash-1.0.61-C8OpKhUs.js";import"./moment-1.0.61-C5S46NFB.js";import"./Typography-1.0.61-Cg0Css-P.js";import"./ButtonBase-1.0.61-BqsrQx8o.js";import"./useEnhancedEffect-1.0.61-CX4-xj9Z.js";import"./Select-1.0.61-DmroHcG5.js";import"./Menu-1.0.61-D2OtRuzX.js";import"./ThemeProvider-1.0.61-4HOD8y6D.js";import"./index-1.0.61-B7tjLD84.js";import"./Modal-1.0.61-DVFPMIPt.js";import"./notistack-1.0.61-0awN6uG4.js";import"./iconBase-1.0.61-C8saXaJ2.js";import"./createSvgIcon-1.0.61-DDgmYdEo.js";import"./SwitchBase-1.0.61-C2xa6JFZ.js";const k=({columnName:t,columnValue:p,columnMetaData:o,onColumnChange:u,formMode:i,metaData:d,storeColumn:a})=>{b.debug(t,p,o);let r={label:"",url:"",target:""};try{r=JSON.parse(p),r!=null&&(r.label===void 0||r.url===void 0||r.target===void 0)&&(r={label:(r==null?void 0:r.label)??"",url:(r==null?void 0:r.url)??"",target:(r==null?void 0:r.target)??""})}catch(l){console.error(l),console.error(p)}b.debug(r);const n=l=>{u(t,JSON.stringify({...r,...l}))};return e.jsxs("fieldset",{className:"pp-fieldset",children:[e.jsx("legend",{children:o.formLabel}),r!==void 0?e.jsxs(g,{style:{display:"grid",gridTemplateColumns:"1fr auto",alignItems:"center",gap:"20px"},children:[e.jsx(m,{label:"Label",value:(r==null?void 0:r.label)??"",required:o.is_nullable==="NO",slotProps:{input:{readOnly:i===s.VIEW||i===s.UPDATE&&(d.primary_key.includes(t)||a.updatable===!1)}},onChange:l=>{n({label:l.target.value})}}),e.jsx(x,{sx:{"& label span":{fontSize:"80% !important"}},children:e.jsx(v,{control:e.jsx(E,{id:t,checked:(r==null?void 0:r.target)==="_blank",disabled:i===s.VIEW||i===s.UPDATE&&(d.primary_key.includes(t)||a.updatable===!1),onChange:(l,c)=>{n({target:c?"_blank":""})}}),label:"Open link in a new tab"})}),e.jsx(m,{label:"Url",value:(r==null?void 0:r.url)??"",required:o.is_nullable==="NO",slotProps:{input:{readOnly:i===s.VIEW||i===s.UPDATE&&(d.primary_key.includes(t)||a.updatable===!1)}},sx:{gridColumn:"1 / span 2"},onChange:l=>{n({url:l.target.value})}}),a.hint&&a.hint.trim()!==""&&e.jsx(x,{children:e.jsx(j,{sx:{marginLeft:0},children:f(a,"")})})]}):e.jsx(g,{color:"error.main",className:"unselectable",children:"Invalid hyperlink"})]})};export{k as default};
