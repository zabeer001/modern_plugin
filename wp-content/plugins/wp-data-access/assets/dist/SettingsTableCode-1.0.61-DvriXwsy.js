import{j as e}from"./cm-1.0.61-D9ug3d5m.js";import{r as t,R as q}from"./redux-1.0.61-CrJ4jvTM.js";import{P as W,b as D,c as H}from"./TabPanel-1.0.61-BtYzUOMH.js";import{u as V,a as J}from"./hooks-1.0.61-Bklk-gZu.js";import{l,w as Q,cx as X,cy as Y}from"./lib-1.0.61-DoXQcMHD.js";import{u as Z}from"./useGlobalCode-1.0.61-BrC3IXaa.js";import{u as $}from"./useTableCode-1.0.61-BufK_zHB.js";import{u as k}from"./useTableUpdater-1.0.61-D-pqUshE.js";import{B as ee}from"./cjs-1.0.61-D_0erLfe.js";import{P as oe}from"./PremiumFeature-1.0.61-BxBWJ4MJ.js";import{S as te,T as d,u as se}from"./SettingsTableGlobalCode-1.0.61-kBV4xGaP.js";import{u as re}from"./useMetadata-1.0.61-CVl9oDgw.js";import{C as ne}from"./index-1.0.61-CxkvNEVW.js";import{e as ie,k as le}from"./index-1.0.61-B7tjLD84.js";import{q as ae}from"./index-1.0.61-Cpig8940.js";import{e as de}from"./notistack-1.0.61-0awN6uG4.js";import{A as w,a as y}from"./AccordionSummary-1.0.61-B21Kp3oq.js";import{B as c}from"./Spinner-1.0.61-khi9zO7Q.js";import{I as me}from"./iconBase-1.0.61-C8saXaJ2.js";import{P as pe}from"./Menu-1.0.61-D2OtRuzX.js";import{S as ce}from"./TreeItem2Provider-1.0.61-BYj1n-QF.js";import"./vendor-1.0.61-CN03Eozo.js";import"./InputAdornment-1.0.61-23wkGu1k.js";import"./Typography-1.0.61-Cg0Css-P.js";import"./getThemeProps-1.0.61-OfsHdeDz.js";import"./Select-1.0.61-DmroHcG5.js";import"./ButtonBase-1.0.61-BqsrQx8o.js";import"./useEnhancedEffect-1.0.61-CX4-xj9Z.js";import"./Modal-1.0.61-DVFPMIPt.js";import"./createSvgIcon-1.0.61-DDgmYdEo.js";import"./loglevel-1.0.61-BZ7XahX3.js";import"./lodash-1.0.61-C8OpKhUs.js";import"./moment-1.0.61-C5S46NFB.js";import"./index-1.0.61-Cpc7oUnN.js";import"./AdminTheme-1.0.61-D8bUxwpM.js";import"./TextField-1.0.61-DyvT2G_W.js";import"./Checkbox-1.0.61-BlN5bjuH.js";import"./SwitchBase-1.0.61-C2xa6JFZ.js";import"./Collapse-1.0.61-Cww0NnSm.js";import"./ctc-1.0.61-D7oYqo2X.js";import"./ThemeProvider-1.0.61-4HOD8y6D.js";const ue=n=>{const m=V(a=>a.tables[n].columns);return l.debug("tableColumns",m),m},po=({appId:n,tableSettings:m,buttonEditorOk:a})=>{J();const M=k(n),s=re(n),[P,u]=t.useState(!0),[fe,g]=t.useState(!1),h=t.useMemo(()=>Q(),[]);l.debug("popupId",h);const F=Z(),f=$(),E=ue(n),{tableIcon:K,codeLabel:j,codeTitle:b,columnIcon:L,dataTypeIcon:N,getColumnLabel:O}=se(u,g),[be,xe]=t.useState(!1),[Ce,ge]=t.useState(""),[he,je]=t.useState(void 0),[Te,Ie]=t.useState(void 0),[T,R]=t.useState(!1);t.useEffect(()=>{T&&(a(),R(!1))},[T]);const[I,_]=t.useState(!1);t.useEffect(()=>{I&&(a(),_(!1))},[I]);const[S,z]=t.useState(!1);return t.useEffect(()=>{S&&(a(),z(!1))},[S]),e.jsxs(q.Fragment,{children:[e.jsx(w,{disableGutters:!0,children:e.jsx(y,{component:"div",children:e.jsx(W,{variant:"popover",popupId:h,children:p=>{var v,U,A,G;return e.jsxs(e.Fragment,{children:[e.jsxs(c,{sx:{display:"grid",gridTemplateColumns:"auto auto",justifyContent:"space-between",alignItems:"center",gap:"10px"},children:[e.jsx(ee,{variant:"contained",endIcon:e.jsx(ae,{}),...D(p),onMouseDown:()=>{p.isOpen&&u(!0)},children:"List of hooks"}),e.jsx(c,{children:e.jsx(ne,{text:"{ appId: "+((v=s==null?void 0:s.src)==null?void 0:v.app_id)+" , cntId: "+((U=s==null?void 0:s.src)==null?void 0:U.cnt_id)+" }",onCopy:()=>{de("Code successfully copied to clipboard",{variant:"info"})},children:e.jsx(ie,{title:"{ appId: "+((A=s==null?void 0:s.src)==null?void 0:A.app_id)+" , cntId: "+((G=s==null?void 0:s.src)==null?void 0:G.cnt_id)+" }",children:e.jsx(me,{children:e.jsx(le,{color:"lightgrey"})})})})})]}),e.jsx(pe,{...H(p),open:p.isOpen&&P,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},sx:{maxHeight:"70vh",marginRight:"35px","& span":{userSelect:"none",MozUserSelect:"none",KhtmlUserSelect:"none",WebkitUserSelect:"none",OUserSelect:"none"}},children:e.jsx(c,{sx:{minWidth:"360px",display:"grid",gap:"20px",padding:"20px","& .MuiTreeItem-content:hover ":{background:"rgba(248, 248, 248, 1) !important"}},children:e.jsxs(ce,{children:[e.jsx(te,{appId:n,tableSettings:m,globalCode:F,setUpdateStatus:M,setOpen:u,setAutoExpand:g}),e.jsx(d,{itemId:"tableGroup",label:b(K(),"Table"),children:X.map(o=>{var x,r;return e.jsx(d,{itemId:"table-"+o,label:j(o,()=>{},f[o]!==void 0,((x=f[o])==null?void 0:x.visible)??!0,i=>{l.debug(i)},((r=f[o])==null?void 0:r.enabled)??!0,i=>{l.debug(i)})},"table-"+o)})},"tableGroup"),e.jsxs(d,{itemId:"columnGroup",label:b(L(),"Columns"),children:[...E.map((o,x)=>o.computedField!==void 0?null:e.jsx(d,{itemId:o.columnName,label:b(N(),O(o)),style:{paddingLeft:"35px"},children:Y.map(r=>{var i,B;return e.jsx(d,{itemId:"column-"+o.columnName+"-"+r,label:j(r,()=>{},o.columnCode[r]!==void 0,((i=o.columnCode[r])==null?void 0:i.visible)??!0,C=>{l.debug(C)},((B=o.columnCode[r])==null?void 0:B.enabled)??!0,C=>{l.debug(C)})},"column-"+o.columnName+"-"+r)})},o.columnName))]},"columnGroup")]})})})]})}})})},"CodeBuilder"),!1,e.jsx(w,{disableGutters:!0,children:e.jsx(y,{children:e.jsx(c,{sx:{"& label":{marginTop:0}},children:e.jsx(oe,{})})})})]},"CodeBuilderMain")};export{po as default};
