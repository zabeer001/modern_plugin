import{j as e}from"./cm-1.0.61-D9ug3d5m.js";import{P as V,b as J,c as Q}from"./TabPanel-1.0.61-BtYzUOMH.js";import{r as s,R as X}from"./redux-1.0.61-CrJ4jvTM.js";import{S as Y,T as p,u as Z}from"./SettingsTableGlobalCode-1.0.61-kBV4xGaP.js";import{P as $}from"./PremiumFeature-1.0.61-BxBWJ4MJ.js";import{l as i,w as D,cF as k,cG as ee}from"./lib-1.0.61-DoXQcMHD.js";import{B as oe}from"./cjs-1.0.61-D_0erLfe.js";import{a as te}from"./hooks-1.0.61-Bklk-gZu.js";import{u as se}from"./useFormColumns-1.0.61-Bxx6puVx.js";import{u as re}from"./useMetadata-1.0.61-CVl9oDgw.js";import{C as ne}from"./index-1.0.61-CxkvNEVW.js";import{e as ie}from"./notistack-1.0.61-0awN6uG4.js";import{q as de}from"./index-1.0.61-Cpig8940.js";import{e as le,k as me}from"./index-1.0.61-B7tjLD84.js";import{u as ae}from"./useGlobalCode-1.0.61-BrC3IXaa.js";import{A as B,a as w}from"./AccordionSummary-1.0.61-B21Kp3oq.js";import{B as c}from"./Spinner-1.0.61-khi9zO7Q.js";import{I as pe}from"./iconBase-1.0.61-C8saXaJ2.js";import{P as ce}from"./Menu-1.0.61-D2OtRuzX.js";import{S as ue}from"./TreeItem2Provider-1.0.61-BYj1n-QF.js";import"./vendor-1.0.61-CN03Eozo.js";import"./InputAdornment-1.0.61-23wkGu1k.js";import"./Typography-1.0.61-Cg0Css-P.js";import"./getThemeProps-1.0.61-OfsHdeDz.js";import"./Select-1.0.61-DmroHcG5.js";import"./ButtonBase-1.0.61-BqsrQx8o.js";import"./useEnhancedEffect-1.0.61-CX4-xj9Z.js";import"./Modal-1.0.61-DVFPMIPt.js";import"./createSvgIcon-1.0.61-DDgmYdEo.js";import"./Checkbox-1.0.61-BlN5bjuH.js";import"./SwitchBase-1.0.61-C2xa6JFZ.js";import"./Collapse-1.0.61-Cww0NnSm.js";import"./index-1.0.61-Cpc7oUnN.js";import"./AdminTheme-1.0.61-D8bUxwpM.js";import"./TextField-1.0.61-DyvT2G_W.js";import"./loglevel-1.0.61-BZ7XahX3.js";import"./lodash-1.0.61-C8OpKhUs.js";import"./moment-1.0.61-C5S46NFB.js";import"./ctc-1.0.61-D7oYqo2X.js";import"./ThemeProvider-1.0.61-4HOD8y6D.js";const fe=m=>({}),po=({appId:m,tableSettings:g,setUpdateStatus:y,buttonEditorOk:u})=>{i.debug(m,g),te();const[M,f]=s.useState(!0),[xe,j]=s.useState(!1),I=s.useMemo(()=>D(),[]);i.debug("popupId",I);const W=ae(),d=fe(),K=se(m),o=re(m),{formIcon:O,codeLabel:v,codeTitle:x,columnIcon:L,dataTypeIcon:N,getColumnLabel:R}=Z(f,j),[be,Ce]=s.useState(""),[he,ge]=s.useState(!1),[je,Ie]=s.useState(void 0),[ve,Se]=s.useState(void 0),_=n=>{const a=["WP-Image","WP-Attachment","WP-Audio","WP-Video"].includes(o==null?void 0:o.media[n])||(o==null?void 0:o.media[n])==="HyperlinkObject";return i.debug("disableColumnEvents",a),!a},[S,z]=s.useState(!1);s.useEffect(()=>{S&&(u(),z(!1))},[S]);const[F,q]=s.useState(!1);s.useEffect(()=>{F&&(u(),q(!1))},[F]);const[T,H]=s.useState(!1);return s.useEffect(()=>{T&&(u(),H(!1))},[T]),e.jsxs(X.Fragment,{children:[e.jsx(B,{disableGutters:!0,children:e.jsx(w,{component:"div",children:e.jsx(V,{variant:"popover",popupId:I,children:n=>{var a,A,G,P;return e.jsxs(e.Fragment,{children:[e.jsxs(c,{sx:{display:"grid",gridTemplateColumns:"auto auto",justifyContent:"space-between",alignItems:"center",gap:"10px"},children:[e.jsx(oe,{variant:"contained",endIcon:e.jsx(de,{}),...J(n),onMouseDown:()=>{n.isOpen&&f(!0)},children:"List of hooks"}),e.jsx(c,{children:e.jsx(ne,{text:"{ appId: "+((a=o==null?void 0:o.src)==null?void 0:a.app_id)+" , cntId: "+((A=o==null?void 0:o.src)==null?void 0:A.cnt_id)+" }",onCopy:()=>{ie("Code successfully copied to clipboard",{variant:"info"})},children:e.jsx(le,{title:"{ appId: "+((G=o==null?void 0:o.src)==null?void 0:G.app_id)+" , cntId: "+((P=o==null?void 0:o.src)==null?void 0:P.cnt_id)+" }",children:e.jsx(pe,{children:e.jsx(me,{color:"lightgrey"})})})})})]}),e.jsx(ce,{...Q(n),open:n.isOpen&&M,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},sx:{maxHeight:"70vh",marginRight:"35px","& span":{userSelect:"none",MozUserSelect:"none",KhtmlUserSelect:"none",WebkitUserSelect:"none",OUserSelect:"none"}},children:e.jsx(c,{sx:{minWidth:"360px",display:"grid",gap:"20px",padding:"20px","& .MuiTreeItem-content:hover ":{background:"rgba(248, 248, 248, 1) !important"}},children:e.jsxs(ue,{children:[e.jsx(Y,{appId:m,tableSettings:g,globalCode:W,setUpdateStatus:y,setOpen:f,setAutoExpand:j}),e.jsx(p,{itemId:"formGroup",label:x(O(),"Form"),children:k.map(t=>{var b,r;return e.jsx(p,{itemId:"table-"+t,label:v(t,()=>{},d!==void 0&&d[t]!==void 0,(d!==void 0&&((b=d[t])==null?void 0:b.visible))??!0,l=>{i.debug(l)},(d!==void 0&&((r=d[t])==null?void 0:r.enabled))??!0,l=>{i.debug(l)})},"table-"+t)})},"formGroup"),e.jsxs(p,{itemId:"columnGroup",label:x(L(),"Columns"),children:[...K.map((t,b)=>t.computedField!==void 0?null:e.jsx(p,{itemId:t.columnName,label:x(N(),R(t)),style:{paddingLeft:"35px"},children:ee.map(r=>{var E,U;const l=_(t.columnName);console.debug("hasEvents",l);const C=t.columnCode??{};return e.jsx(p,{itemId:"column-"+t.columnName+"-"+r,label:v(r,()=>{},C[r]!==void 0,((E=C[r])==null?void 0:E.visible)??!0,h=>{i.debug(h)},((U=C[r])==null?void 0:U.enabled)??!0,h=>{i.debug(h)},!l)},"column-"+t.columnName+"-"+r)})},t.columnName))]},"columnGroup")]})})})]})}})})},"CodeBuilder"),!1,e.jsx(B,{disableGutters:!0,children:e.jsx(w,{children:e.jsx(c,{sx:{"& label":{marginTop:0}},children:e.jsx($,{})})})})]},"CodeBuilderMain")};export{po as default};
