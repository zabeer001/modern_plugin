import{j as m}from"./cm-1.0.61-D9ug3d5m.js";import{u as v}from"./TableQuery-1.0.61-BFTtSjov.js";import{u as g}from"./hooks-1.0.61-Bklk-gZu.js";import{l as E}from"./lib-1.0.61-DoXQcMHD.js";import{e as h,a6 as k}from"./index-1.0.61-B7tjLD84.js";import{e as y}from"./ActionsDml-1.0.61-DA32DqSB.js";import{e as p}from"./notistack-1.0.61-0awN6uG4.js";import{I as R}from"./iconBase-1.0.61-C8saXaJ2.js";import{B as x}from"./cjs-1.0.61-D_0erLfe.js";import"./redux-1.0.61-CrJ4jvTM.js";import"./vendor-1.0.61-CN03Eozo.js";import"./cmJson-1.0.61-BLURwXOE.js";import"./rehyperaw-1.0.61-AkovKNCK.js";import"./markdown-1.0.61-6nAzZWly.js";import"./SharedContainer-1.0.61-D5Lln0NA.js";import"./Spinner-1.0.61-khi9zO7Q.js";import"./Typography-1.0.61-Cg0Css-P.js";import"./AdminTheme-1.0.61-D8bUxwpM.js";import"./useAppFunctions-1.0.61-EdKk0_Mu.js";import"./useMetadata-1.0.61-CVl9oDgw.js";import"./useStoreFormSettings-1.0.61-CgHnNhxx.js";import"./useRemoveAppFromStore-1.0.61-E72jey9_.js";import"./Languages-1.0.61-BxgPwugF.js";import"./AppTheme-1.0.61-CGnMRNDC.js";import"./index-1.0.61-CRnugLvI.js";import"./getThemeProps-1.0.61-OfsHdeDz.js";import"./useEnhancedEffect-1.0.61-CX4-xj9Z.js";import"./moment-1.0.61-C5S46NFB.js";import"./useChartSettings-1.0.61-BIp9UVZM.js";import"./useLocaleUd-1.0.61-DEEqF_bH.js";import"./RestApi-1.0.61-DdTZ_pIc.js";import"./useScreenSize-1.0.61-B4FX7-PC.js";import"./index-1.0.61-LP991tft.js";import"./lodash-1.0.61-C8OpKhUs.js";import"./dayjs.min-1.0.61-21Xi_c_9.js";import"./dompurify-1.0.61-DhD2mIk-.js";import"./useFormDetails-1.0.61-677sicqv.js";import"./DynamicModeEnum-1.0.61-BXuL5kgA.js";import"./StoreTypeEnum-1.0.61-Tot-ESpR.js";import"./FallbackSpinner-1.0.61-s3WTN65t.js";import"./ButtonBase-1.0.61-BqsrQx8o.js";import"./ThemeProvider-1.0.61-4HOD8y6D.js";import"./Modal-1.0.61-DVFPMIPt.js";import"./main-1.0.61.js";import"./loglevel-1.0.61-BZ7XahX3.js";import"./Tooltip-1.0.61-De3BL3Jg.js";import"./SanitizeComponent-1.0.61-jz3CtJfW.js";import"./index-1.0.61-Cpc7oUnN.js";import"./tanstack-1.0.61-ncdkBwIj.js";import"./index.esm-1.0.61-Dhj7A6Yv.js";import"./createSvgIcon-1.0.61-DDgmYdEo.js";import"./Stack-1.0.61-CNGwl0k7.js";import"./InputAdornment-1.0.61-23wkGu1k.js";import"./Select-1.0.61-DmroHcG5.js";import"./Menu-1.0.61-D2OtRuzX.js";import"./Radio-1.0.61-BXMcBwcB.js";import"./SwitchBase-1.0.61-C2xa6JFZ.js";import"./Checkbox-1.0.61-BlN5bjuH.js";import"./Chip-1.0.61-C6TjQKDp.js";import"./Collapse-1.0.61-Cww0NnSm.js";import"./AlertTitle-1.0.61-hpo1u3Vv.js";import"./Close-1.0.61-CiuKDfYz.js";import"./TextField-1.0.61-DyvT2G_W.js";import"./MenuItem-1.0.61-Bmr1xWyp.js";import"./TableRow-1.0.61-70IJJfOz.js";import"./DialogContent-1.0.61-Ws3r0VFj.js";import"./ConfirmDialog-1.0.61-BrxkBu_y.js";import"./ListItemIcon-1.0.61-P8epLVMP.js";import"./TableHead-1.0.61-urAqheBu.js";import"./Divider-1.0.61-C8DX248W.js";import"./FormControlLabel-1.0.61-Bu2IQ4da.js";import"./Switch-1.0.61-CRYcdQMV.js";import"./Autocomplete-1.0.61-CP0PiliY.js";import"./Slider-1.0.61-BGScnB2M.js";import"./visuallyHidden-1.0.61-Dan1xhjv.js";import"./TimePicker-1.0.61-CeYQPlC5.js";import"./useMobilePicker-1.0.61-Dvb2yEEp.js";import"./ListItem-1.0.61-t1ycs9HY.js";import"./timeViewRenderers-1.0.61-Cu86BQXJ.js";import"./DateTimePicker-1.0.61-B22uat3C.js";import"./Tabs-1.0.61-Bhozjonn.js";import"./dateViewRenderers-1.0.61-7dkntk_V.js";import"./DatePicker-1.0.61-CDckGagl.js";import"./tab-1.0.61-B4c65fpQ.js";import"./TableContainer-1.0.61-D_jKUjyE.js";import"./ActionsSettings-1.0.61-NFzvwy8a.js";import"./TargetEnum-1.0.61-CIW1jlU5.js";import"./ScopeEnum-1.0.61-B4DDvIDj.js";import"./index-1.0.61-Cpig8940.js";import"./settings-1.0.61-BN5quc55.js";import"./Link-1.0.61-BHBICLVE.js";import"./TabPanel-1.0.61-BtYzUOMH.js";import"./CardHeader-1.0.61-gDG-f_-J.js";import"./useTableUpdater-1.0.61-D-pqUshE.js";import"./useTableCode-1.0.61-BufK_zHB.js";import"./useTableColumnOrder-1.0.61-Ds81s_GP.js";import"./useLocaleMrt-1.0.61-C3Pa4C9e.js";const T=o=>{const e=g(n=>{var i,s;return(s=(i=n.tables[o])==null?void 0:i.state)==null?void 0:s.inlineEditingErrors});return E.debug("inlineEditingErrors",e),e},bi=({appId:o,metaData:e,locale:n,appLanguage:i,componentWidth:s,refetch:l})=>{const j=T(o),r=v(o),c=Object.keys(r).length>0,d=()=>{let a=0;j.length===0&&Object.keys(r).map(u=>{const f={...r[u]},b={};e.primary_key.map(t=>{b[t]=r[u][t],delete f[t]}),y(o,b,f,t=>{if(E.debug(t),a++,t!=null&&t.code&&(t!=null&&t.message))switch(t.code){case"ok":p(i.updatedSuccessful,{variant:"success"});break;case"info":p(i.nothingToUpdate,{variant:"info"});break;default:console.error(t),p(t.message??i.invalidResponse,{variant:"error"})}else console.error(t),p(t.message??i.invalidResponse,{variant:"error"});a===Object.keys(r).length&&setTimeout(()=>{l()},200)},t=>{console.error("error",t),a++,p(t??i.invalidResponse,{variant:"error"}),a===Object.keys(r).length&&setTimeout(()=>{l()},200)})})};return s<900?m.jsx(h,{title:n.save,children:m.jsx(R,{disabled:!c,onClick:()=>{d()},children:m.jsx(k,{})})}):m.jsx(x,{disabled:!c,color:"primary",variant:"contained",onClick:()=>{d()},endIcon:m.jsx(k,{}),children:n.save})};export{bi as default};
